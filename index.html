<!DOCTYPE html> <html lang="EN"> <head> <meta charset="utf-8"> <title>Radiance</title> <style>html body{margin:0 auto 0 auto;padding:20px;max-width:1024px;font-family:sans-serif;font-size:14pt;overflow-y:scroll;}html body a{text-decoration:none;}html body a[href]{color:#0055AA;}html body a[href]:hover{color:#0088EE;}html body pre{background:#FAFAFA;border:1px solid #DDDDDD;padding:0.75em;overflow-x:auto;}html body pre >code a[href]{color:#223388;}article.project h1,article.project h2,article.project h3,article.project h4,article.project h5,article.project h6{margin:0.2em 0 0.1em 0;text-indent:1em;}article.project >header{text-align:center;}article.project >header img.logo{display:block;margin:auto;max-height:170px;}article.project >header h1{display:inline-block;text-indent:0;font-size:2.5em;}article.project >header .version{vertical-align:bottom;}article.project >header .languages{margin-top:-0.5em;text-transform:capitalize;}article.project >header .description{margin:0;}article.project >header .pages{margin-top:0.5em;font-size:1.2em;text-transform:capitalize;}article.project >header .pages a{display:inline-block;padding:0 0.2em;}article.project >section{margin:1em 0 1em 0;}article.project #index >ul{list-style:none;margin:0;padding:0;}article.project .row label{display:inline-block;min-width:6em;}article.project #system .row{display:flex;}article.project #system #dependencies{display:inline;margin:0;padding:0;}article.project #system #dependencies li{display:inline;padding:0 0.2em;}article.definition{margin:1em 0 0 0;}article.definition >header h1,article.definition >header h2,article.definition >header h3,article.definition >header h4,article.definition >header h5,article.definition >header h6{text-indent:0;display:inline-block;}article.definition >header ul{display:inline-block;list-style:none;margin:0;padding:0;}article.definition >header ul li{display:inline-block;padding:0 0.2em 0 0;}article.definition >header .visibility{display:none;}article.definition >header .visibility,article.definition >header .type{text-transform:lowercase;}article.definition >header .source-link{visibility:hidden;float:right;}article.definition >header .source-link:after{visibility:visible;content:"[SRC]";}article.definition .docstring{margin:0 0 0 1em;}article.definition .docstring pre{font-size:0.8em;white-space:pre-wrap;}.definition.package >header ul.nicknames{display:inline-block;list-style:none;margin:0;padding:0 0 0 1em;}.definition.package >header ul.nicknames li{display:inline;}.definition.package >header ul.nicknames:before{content:"(";}.definition.package >header ul.nicknames:after{content:")";}.definition.package ul.definitions{margin:0;list-style:none;padding:0 0 0 0.5em;}.definition.callable >header .name:before,.definition.type >header .name:before{content:"(";font-weight:normal;}.definition.callable >header .arguments:after,.definition.type >header .arguments:after{content:")";}.definition.callable >header .arguments .arguments:before,.definition.type >header .arguments .arguments:before{content:"(";}.definition.callable >header .arguments .argument,.definition.type >header .arguments .argument{padding:0;}.definition.callable >header .arguments .argument.lambda-list-keyword,.definition.type >header .arguments .argument.lambda-list-keyword{color:#991155;}.definition li>mark{background:none;border-left:0.3em solid #0088EE;padding-left:0.3em;display:block;}</style> </head> <body> <article class="project"> <header>  <img class="logo" src="radiance.png" alt="Logo">  <h1>radiance</h1>  <span class="version">2.0.1</span>  <nav class="languages">    <a href="index.html">English</a>    <a href="index-ja.html">Japanese</a>  </nav>  <p class="description">A web application environment.</p>  <nav class="pages">    <a href="index.html">radiance</a>    </nav> </header> <section id="documentation"><h2 id="about_radiance">About Radiance</h2> <p>Radiance is a web application environment, which is sort of like a web framework, but more general, more flexible. It should let you write personal websites and generally deployable applications easily and in such a way that they can be used on practically any setup without having to undergo special adaptations.</p> <h2 id="getting_it">Getting It</h2> <p>Radiance and associated modules and applications are distributed via Quicklisp in a separate dist. To install Radiance, do:</p> <pre><code>(ql-dist:install-dist &quot;http://dist.tymoon.eu/shirakumo.txt&quot;)
(ql:quickload :radiance)
</code></pre> <p>From there on out you should be able to load and use any kind of Radiance module like <a href="https://github.com/Shirakumo/purplish">Purplish</a> directly via Quicklisp's <code>quickload</code>.</p> <h2 id="a_lengthy_and_in-depth_example">A Lengthy and In-Depth Example</h2> <p>You can find a tutorial that introduces Radiance and most of the important concepts, and explores how to write a web application in general, <a href="https://github.com/Shirakumo/radiance-tutorial/blob/master/Part%200.md">here</a>. It should give you a good feeling for how to go about things, and give you pointers about where to look if you need a particular feature. In the last part it'll also go into the actual setup and deployment of a Radiance installation on a production server.</p> <h2 id="a_simple_example">A Simple Example</h2> <p>The most basic thing you most likely want to do is serve some kind of HTML. So let's work towards that and gradually extend it. Before we can begin, we need to start up Radiance.</p> <pre><code>(ql:quickload :radiance)
(<a href="#FUNCTION%20RADIANCE-CORE%3ASTARTUP" class="xref">radiance:startup</a>)</code></pre> <p>If this is your first time setting up Radiance, you'll get a note about it using the <code>r-welcome</code> module. It should also give you a link that you can open in your browser to see a little greeting page. For now we'll just want to put up our own little page alongside it.</p> <pre><code>(<a href="http://l1sp.org/cl/in-package" class="xref">in-package</a> :rad-user)

(<a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-PAGE" class="xref">define-page</a> example &quot;/example&quot; ()
  (setf (<a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20CONTENT-TYPE%29" class="xref">content-type</a> <a href="#VARIABLE%20RADIANCE-CORE%3A%2ARESPONSE%2A" class="xref">*response*</a>) &quot;text/plain&quot;) 
  &quot;Hi!&quot;)</code></pre> <p>Visiting <a href="http://localhost:8080/example">localhost:8080/example</a> should now just show &quot;Hi&quot;. Rather boring indeed. So let's spit out some HTML instead. For now, we'll use <a href="http://weitz.de/cl-who/">cl-who</a> since it is very simple.</p> <pre><code>(<a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-PAGE" class="xref">define-page</a> example &quot;/example&quot; ()
  (cl-who:with-html-output-to-string (o)
    (cl-who:htm
     (:html
      (:head (:title &quot;Example Page&quot;))
      (:body (:header (:h1 &quot;Couldn't Be Simpler.&quot;))
             (:main (:p &quot;Trust me on this one.&quot;)))))))</code></pre> <p>A recompile and refresh later and we have some font styling going on. Next we'll probably want to add a CSS file to it to style it properly. We could serve the CSS using another page as well, but that isn't the best way to go about things in the long term.</p> <p>Let's instead look at how to create a module, which will allow us to organise things in a more orderly fashion. You can create the files for a module manually, but for now we'll settle with an automatically generated skeleton that Radiance can provide you with.</p> <pre><code>(<a href="#FUNCTION%20RADIANCE-CORE%3ACREATE-MODULE" class="xref">create-module</a> &quot;example&quot;)</code></pre> <p>It should return you a path on which the module resides. It should contain an ASDF system, a main lisp file, and two folders, <code><a href="#URI-DISPATCHER%20RADIANCE-CORE%3ASTATIC" class="xref">static</a></code> and <code>template</code>. Surprisingly enough, the <code><a href="#URI-DISPATCHER%20RADIANCE-CORE%3ASTATIC" class="xref">static</a></code> folder is where statically served files go, and <code>template</code> is for template documents, if you happen to use a template system.</p> <p>Let's open up the <code>example.lisp</code> and carry over our example page from it.</p> <pre><code>(<a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-PAGE" class="xref">define-page</a> example &quot;/example&quot; ()
  (cl-who:with-html-output-to-string (o)
    (cl-who:htm
     (:html
      (:head (:title &quot;Example Page&quot;))
      (:body (:header (:h1 &quot;Couldn't Be Simpler.&quot;))
             (:main (:p &quot;Trust me on this one.&quot;)))))))</code></pre> <p>Pages are identified by a name symbol. Since we now have our own module, and thus our own package, the example symbol above won't be the same as the one we've used before. We'll just have to remove the page in the <code>rad-user</code> package to avoid the clash.</p> <pre><code>(<a href="#FUNCTION%20RADIANCE-CORE%3AREMOVE-PAGE" class="xref">remove-page</a> 'rad-user::example)</code></pre> <p>Next let's create a simple CSS file to spruce things up a little. The file will be <code>example.css</code> placed in the <code><a href="#URI-DISPATCHER%20RADIANCE-CORE%3ASTATIC" class="xref">static</a></code> folder. Here's a sample CSS if you don't want to write your own.</p> <pre><code>body{
    font-family: sans-serif;
    font-size: 12pt;
    background: #EEE;
}

header{
    text-align: center;
}

main{
    width: 800px;
    margin: 0 auto 0 auto;
    background: #FFF;
    padding: 10px;
    border: 1px solid #BBB;
    border-radius: 5px;
}</code></pre> <p>Next we need to modify our HTML to actually link to the style sheet. In order to get the address to the stylesheet we'll have to make use of Radiance's routing system. Don't worry though, it's not much of a hassle.</p> <pre><code>(<a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-PAGE" class="xref">define-page</a> example &quot;/example&quot; ()
  (cl-who:with-html-output-to-string (o)
    (cl-who:htm
     (:html
      (:head (:title &quot;Example Page&quot;)
             (:link :rel &quot;stylesheet&quot; :type &quot;text/css&quot; 
                    :href (<a href="#FUNCTION%20RADIANCE-CORE%3AURI-TO-URL" class="xref">uri-to-url</a> &quot;/static/example/example.css&quot; :representation :external)))
      (:body (:header (:h1 &quot;Couldn't Be Simpler.&quot;))
             (:main (:p &quot;Trust me on this one.&quot;)))))))</code></pre> <p>Refresh the page, and voilà, now it's got some pizzazz to it too. You'll probably want an explanation for the whole <code><a href="#FUNCTION%20RADIANCE-CORE%3AURI-TO-URL" class="xref">uri-to-url</a></code> business. Explaining it in full is handled by the sections following this one, but the gist of it is that it ensures that the link to the static file is properly resolved under any setup.</p> <h2 id="1._radiance_concepts_&amp;_parts">1. Radiance Concepts &amp; Parts</h2> <h3 id="1.1_uri">1.1 URI</h3> <p>One of the most central concepts in Radiance is that of a URI. A URI is an object that consists of a list of domains, an optional port number, and a path (see <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AURI" class="xref">uri</a></code>). It is essentially a stripped down version of a general URI, and as such doesn't include a schema, query, or fragment part. Another important difference is that the <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ADOMAINS" class="xref">domains</a></code> URIs are used at several points throughout the framework, both to capture locations and to handle dispatch matching.</p> <p>Note that URIs are mutable. This is important for performance, as URI modifications have to happen in several parts that lie on the critical path. However, in the usual case it is not expected that URIs are modified outside of a few select functions. Modifying a URI's parts in unexpected ways may lead to strange behaviour.</p> <p>URIs have a unique string representation and can be serialised to string and parsed back into a full URI object again. URIs can also be dumped to FASL files as literals, so emitting them from macros is fine. The syntax for a URI is as follows:</p> <pre><code>URI     ::= DOMAINS? (':' PORT)? '/' PATH?
DOMAINS ::= DOMAIN ('.' DOMAIN)*
DOMAIN  ::= ('a'..'Z' | '0'..'9' | '-')
PORT    ::= ('0'..'9'){1, 5}
PATH    ::= .*</code></pre> <p>You can use <code><a href="#FUNCTION%20RADIANCE-CORE%3AURI-TO-URL" class="xref">uri-to-url</a></code> to turn a URI into a concrete URL. Reversal, encoding, and proper formatting of all the parts is handled for you automatically there.</p> <p>See <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AURI" class="xref">uri</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ADOMAINS" class="xref">domains</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3APORT" class="xref">port</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3APATH" class="xref">path</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AMATCHER" class="xref">matcher</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AURI-STRING" class="xref">uri-string</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AMAKE-URI" class="xref">make-uri</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AMAKE-URL" class="xref">make-url</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AENSURE-URI" class="xref">ensure-uri</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3ACOPY-URI" class="xref">copy-uri</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3APARSE-URI" class="xref">parse-uri</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AURI%3C" class="xref">uri&lt;</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AURI%3E" class="xref">uri&gt;</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AURI%3D" class="xref">uri=</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AURI-MATCHES" class="xref">uri-matches</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AMERGE-URIS" class="xref">merge-uris</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AREPRESENT-URI" class="xref">represent-uri</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AURI-TO-URL" class="xref">uri-to-url</a></code>.</p> <h3 id="1.2_request_and_response">1.2 Request and Response</h3> <p>In order to encapsulate the data that is sent to  and from, we have the idea of a Request (<code><a href="#FUNCTION%20RADIANCE-CORE%3AREQUEST" class="xref">request</a></code>) and Response (<code><a href="#CLASS%20RADIANCE-CORE%3ARESPONSE" class="xref">response</a></code>) object. The Request object holds the URI that represents to which location the request goes, and all the data contained in the HTTP payload like post, get, header, and cookie variables. The Response object holds the return-code, headers, cookies, and the actual body data.</p> <p>During the processing of a request, these two objects must always be present and bound to the <code><a href="#FUNCTION%20RADIANCE-CORE%3A%2AREQUEST%2A" class="xref">*request*</a></code> and <code><a href="#FUNCTION%20RADIANCE-CORE%3A%2ARESPONSE%2A" class="xref">*response*</a></code> variables. They encapsulate a lot of very vital information that is necessary to generate dynamic pages. Additionally, the Request contains an opaque <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ADATA" class="xref">data</a></code> table in which you can store arbitrary data. This is useful when you need to exchange pieces of information between individual parts of the system that may be reached during the request execution.</p> <p>Requests don't necessarily have to come from the HTTP server. In order to test things you can also construct a request yourself and send it out programmatically. Whatever the case, the primary interface to dispatch a request is called <code><a href="#FUNCTION%20RADIANCE-CORE%3AREQUEST" class="xref">request</a></code>. This will construct a Request and Response object for you and appropriately handle the URI. If you want to do that yourself and <em>really</em> just send out a complete Request object, you can use <code><a href="#FUNCTION%20RADIANCE-CORE%3AEXECUTE-REQUEST" class="xref">execute-request</a></code>.</p> <p>For the actual handling of a request, see dispatchers, pages, and API endpoints.</p> <p>See <code><a href="#FUNCTION%20RADIANCE-CORE%3A%2AREQUEST%2A" class="xref">*request*</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3A%2ARESPONSE%2A" class="xref">*response*</a></code>, <code><a href="#VARIABLE%20RADIANCE-CORE%3A%2ADEFAULT-EXTERNAL-FORMAT%2A" class="xref">*default-external-format*</a></code>, <code><a href="#VARIABLE%20RADIANCE-CORE%3A%2ADEFAULT-CONTENT-TYPE%2A" class="xref">*default-content-type*</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AREQUEST" class="xref">request</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AURI" class="xref">uri</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AHTTP-METHOD" class="xref">http-method</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AHEADERS" class="xref">headers</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3APOST-DATA" class="xref">post-data</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AGET-DATA" class="xref">get-data</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ACOOKIES" class="xref">cookies</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AUSER-AGENT" class="xref">user-agent</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AREFERER" class="xref">referer</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ADOMAIN" class="xref">domain</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AREMOTE" class="xref">remote</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ADATA" class="xref">data</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AISSUE-TIME" class="xref">issue-time</a></code>, <code><a href="#CLASS%20RADIANCE-CORE%3ARESPONSE" class="xref">response</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ADATA" class="xref">data</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ARETURN-CODE" class="xref">return-code</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ACONTENT-TYPE" class="xref">content-type</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AEXTERNAL-FORMAT" class="xref">external-format</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AHEADERS" class="xref">headers</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ACOOKIES" class="xref">cookies</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3ACOOKIE" class="xref">cookie</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ANAME" class="xref">name</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AVALUE" class="xref">value</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ADOMAIN" class="xref">domain</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3APATH" class="xref">path</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AEXPIRES" class="xref">expires</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AHTTP-ONLY" class="xref">http-only</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ASECURE" class="xref">secure</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3ACOOKIE-HEADER" class="xref">cookie-header</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3ACOOKIE" class="xref">cookie</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AGET-VAR" class="xref">get-var</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3APOST-VAR" class="xref">post-var</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3APOST%2FGET" class="xref">post/get</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AHEADER" class="xref">header</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AFILE" class="xref">file</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AREDIRECT" class="xref">redirect</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3ASERVE-FILE" class="xref">serve-file</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AREQUEST-RUN-TIME" class="xref">request-run-time</a></code>, <code><a href="#VARIABLE%20RADIANCE-CORE%3A%2ADEBUGGER%2A" class="xref">*debugger*</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AHANDLE-CONDITION" class="xref">handle-condition</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3ARENDER-ERROR-PAGE" class="xref">render-error-page</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AEXECUTE-REQUEST" class="xref">execute-request</a></code>, <code>set-data</code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AREQUEST" class="xref">request</a></code></p> <h3 id="1.3_route">1.3 Route</h3> <p>Before a Request can be dispatched on, it goes through something called the routing system. Unlike in other frameworks, where 'routes' designate what handles a request, in Radiance a Route (<code><a href="#FUNCTION%20RADIANCE-CORE%3AROUTE" class="xref">route</a></code>) is a form of URI translator. This part of the system is what's responsible for creating and upholding two &quot;universes&quot;, an internal and an external one.</p> <p>The internal universe is the one actual web applications live in. The external universe is the one the HTTP server and a user of the website lives in. This distinction is necessary in order to allow you to, one one hand, write web applications without having to worry about what a potential setup on a server might look like at some point. You don't have to worry about what kind of domain, port, path setup may be necessary to run your application. On the other hand, it allows you, as a webadmin, to customise and run the system to your exact desires without fear of breaking things.</p> <p>This all is facilitated by routes, of which there are two kinds: mapping, and reversal routes. Mapping routes are responsible for turning a URI from the external universe into one of the internal universe. Usually this involves cutting away the top-level domain and perhaps doing a mapping of subdomains. Reversal routes do the opposite-- they go from the internal universe to the external. This is necessary in order to make links in your served pages refer to resources that are actually accessible from the outside. Usually this involves reversing the subdomain mapping and adding the top-level domain again.</p> <p>Routes can perform arbitrary work. At the most basic level, they are merely functions that modify a URI in some fashion. This allows you to create a very flexible system that should be powerful enough to accommodate to all of your needs as an administrator. As an application writer, you just need to make sure to use <code><a href="#FUNCTION%20RADIANCE-CORE%3AEXTERNAL-URI" class="xref">external-uri</a></code> or <code><a href="#FUNCTION%20RADIANCE-CORE%3AURI-TO-URL" class="xref">uri-to-url</a></code> on all of the links that you put into your pages.</p> <p>See <code><a href="#FUNCTION%20RADIANCE-CORE%3AROUTE" class="xref">route</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ANAME" class="xref">name</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ADIRECTION" class="xref">direction</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3APRIORITY" class="xref">priority</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ATRANSLATOR" class="xref">translator</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AROUTE" class="xref">route</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AREMOVE-ROUTE" class="xref">remove-route</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3ALIST-ROUTES" class="xref">list-routes</a></code>, <code><a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-ROUTE" class="xref">define-route</a></code>, <code><a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-MATCHING-ROUTE" class="xref">define-matching-route</a></code>, <code><a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-TARGET-ROUTE" class="xref">define-target-route</a></code>, <code><a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-STRING-ROUTE" class="xref">define-string-route</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AINTERNAL-URI" class="xref">internal-uri</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AEXTERNAL-URI" class="xref">external-uri</a></code></p> <h3 id="1.4_uri_dispatcher">1.4 URI Dispatcher</h3> <p>Finally we come to the part that actually generates content for a request. URI dispatchers are a subclass of URI that also carry a name, a function, and a priority. The live in a priority-sorted list, which is processed whenever a request arrives. The Request's URI is matched against each dispatcher. The function of the first dispatcher that matches is then executed.</p> <p>And that's it. The dispatcher's function is responsible for setting the necessary values in the Response object to deliver the page content. In order to do this it can either directly set the <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ADATA" class="xref">data</a></code> field of the Response object, or you can return an appropriate value from the function. Radiance only accepts four types of values: <code><a href="#CLASS%20RADIANCE-CORE%3ASTREAM" class="xref">stream</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3APATHNAME" class="xref">pathname</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3ASTRING" class="xref">string</a></code>, and <code>(array (unsigned-byte 8))</code>.</p> <p>If a URI dispatcher does not have an explicit priority number, its priority over others is determined by the specificity of the URI. See the URI sorting function <code><a href="#FUNCTION%20RADIANCE-CORE%3AURI%3E" class="xref">uri&gt;</a></code> for an explanation on how exactly this is calculated.</p> <p>See <code><a href="#FUNCTION%20RADIANCE-CORE%3AURI-DISPATCHER" class="xref">uri-dispatcher</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ANAME" class="xref">name</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ADISPATCH-FUNCTION" class="xref">dispatch-function</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3APRIORITY" class="xref">priority</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AURI-DISPATCHER" class="xref">uri-dispatcher</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AREMOVE-URI-DISPATCHER" class="xref">remove-uri-dispatcher</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3ALIST-URI-DISPATCHERS" class="xref">list-uri-dispatchers</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AURI-DISPATCHER%3E" class="xref">uri-dispatcher&gt;</a></code>, <code><a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-URI-DISPATCHER" class="xref">define-uri-dispatcher</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3ADISPATCH" class="xref">dispatch</a></code></p> <h3 id="1.5_page">1.5 Page</h3> <p>Pages are what you will likely use to define your actual content serving functions. However, a page is just a uri-dispatcher with some extra functionality in the definition macro that makes things easier on you. Most notably are the extensible options, for which you can find an explanation below.</p> <p>There are a couple of default pages set up by Radiance itself. First there's the <code><a href="#URI-DISPATCHER%20RADIANCE-CORE%3AFAVICON" class="xref">favicon</a></code> and <code><a href="#URI-DISPATCHER%20RADIANCE-CORE%3AROBOTS" class="xref">robots</a></code> pages, which simply serve the respective files from Radiance's <code>static/</code> directory. You'll probably want to either provide your own pages for that or update the files on your production server.</p> <p>Then there's the <code><a href="#URI-DISPATCHER%20RADIANCE-CORE%3ASTATIC" class="xref">static</a></code> page, which is responsible for serving static contents for all web applications and modules. It should be active on any domain and always on the path <code>/static/...</code> where <code>...</code> must have a form where the first directory is the name of a module, and the rest is a path within that module's <code>static/</code> directory. This allows you to always be able to refer to static files like CSS, JS, and images through a common path.</p> <p>Finally there's the <code><a href="#URI-DISPATCHER%20RADIANCE-CORE%3AAPI" class="xref">api</a></code> page, which is responsible for handling the dispatch of API endpoints, which are explained in the following section. The page acts similarly to the static one by capturing the <code>/api/...</code> path on all domains.</p> <p>See <code><a href="#RESOURCE-TYPE%20RADIANCE-CORE%3APAGE" class="xref">page</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AREMOVE-PAGE" class="xref">remove-page</a></code>, <code><a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-PAGE" class="xref">define-page</a></code></p> <h3 id="1.6_api_endpoint">1.6 API Endpoint</h3> <p>Radiance provides integrated support for REST API definition. This is not just a tacked-on feature, but rather because most modern applications want to provide an API of some kind, and because Radiance advises a certain way of writing your applications that necessarily involves API endpoints.</p> <p>Conceptually, API endpoints are functions that are callable through a browser request. Their response is then serialised to a format that is readable by the requester, whatever that may be. Important to remember however is that API endpoints should be usable by both users and programs. Radiance encourages this because usually any kind of action that can be performed programmatically through an API will also have to be performed by the user in some way. In order to avoid duplication, the two can be conflated.</p> <p>As such, usually any kind of data modification action should be provided through an API endpoint that reacts slightly differently depending on whether a user or an application requests it. In the case of a user, it should usually redirect back to an appropriate page, and in the case of an application it should provide a data payload in a readable format.</p> <p>The first part of all of this is the API format system, which is responsible for serialising data to some specified format. By default only an S-expression based format is supplied, but a contrib to get JSON output can easily be loaded.</p> <p>The second part is the specification of the <code>browser</code> POST/GET parameter. If that parameter contains the exact string <code>&quot;true&quot;</code>, then the API request is treated as coming from a user, and thus a redirect rather than a data payload should be outputted.</p> <p>Your application should make use of those things in order to provide a properly integrated api. Now, an actual endpoint definition is composed of a name, a raw function, a lambda-list describing the arguments of the function, and a request parsing function. Typically for your arguments, only required and optional arguments make sense. After all, an HTTP request only has &quot;keyword arguments&quot; that it can provide, and those can either be present or missing.</p> <p>The name of an API endpoint also serves as the identifier that tells you where you can reach it. API endpoints live on the <code>/api/</code> path, followed by the name of the endpoint. As such, you are responsible for prefixing your endpoints with the name of your module or application in order to avoid accidentally tripping over other endpoints. This is unlike in uri dispatchers, because API endpoints have to match exactly and don't allow any ambiguity or processing of the path. Thus every endpoint must have a unique path, which can also immediately serve as the name.</p> <p>The raw function is the function that the API provides an interface for. It is responsible for performing the requested action and returning the appropriate data as described above. For returning formatted API data, see <code><a href="#FUNCTION%20RADIANCE-CORE%3AAPI-OUTPUT" class="xref">api-output</a></code>. For redirecting in the case of a browser request, see <code><a href="#FUNCTION%20RADIANCE-CORE%3AREDIRECT" class="xref">redirect</a></code>.</p> <p>Finally, the request parsing function is responsible for taking a Request object, extracting the arguments the function needs from it, and finally calling that function with the appropriate arguments-- if possible. The parsing function may signal an <code><a href="#CONDITION%20RADIANCE-CORE%3AAPI-ARGUMENT-MISSING" class="xref">api-argument-missing</a></code> error if a required argument is missing. Superfluous arguments should be ignored.</p> <p>You can also programmatically call an API endpoint using <code><a href="#FUNCTION%20RADIANCE-CORE%3ACALL-API" class="xref">call-api</a></code>, or simulate a Request call with <code><a href="#FUNCTION%20RADIANCE-CORE%3ACALL-API-REQUEST" class="xref">call-api-request</a></code>, without having to go through the whole URI dispatch mechanism.</p> <p>Similarly to pages, API endpoint definitions also accept extensible options that make definition simpler. See the following section for an explanation of options.</p> <p>See <code><a href="#URI-DISPATCHER%20RADIANCE-CORE%3AAPI" class="xref">api</a></code>, <code><a href="#VARIABLE%20RADIANCE-CORE%3A%2ADEFAULT-API-FORMAT%2A" class="xref">*default-api-format*</a></code>, <code>*serialize-fallback*</code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AAPI-FORMAT" class="xref">api-format</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AREMOVE-API-FORMAT" class="xref">remove-api-format</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3ALIST-API-FORMATS" class="xref">list-api-formats</a></code>, <code><a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-API-FORMAT" class="xref">define-api-format</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AAPI-OUTPUT" class="xref">api-output</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AAPI-SERIALIZE" class="xref">api-serialize</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AAPI-ENDPOINT" class="xref">api-endpoint</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AREMOVE-API-ENDPOINT" class="xref">remove-api-endpoint</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3ALIST-API-ENDPOINTS" class="xref">list-api-endpoints</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AAPI-ENDPOINT" class="xref">api-endpoint</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ANAME" class="xref">name</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AHANDLER" class="xref">handler</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AARGSLIST" class="xref">argslist</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AREQUEST-HANDLER" class="xref">request-handler</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3ACALL-API-REQUEST" class="xref">call-api-request</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3ACALL-API" class="xref">call-api</a></code>, <code><a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-API" class="xref">define-api</a></code></p> <h3 id="1.7_options">1.7 Options</h3> <p>Options are a way of providing an extensible definition macro. This is useful when a framework provides a common way of defining something, but other parts may want to provide extensions to that in order to make common operations shorter. For example, a common task is to restrict a page or API endpoint to people who have the required access credentials.</p> <p>In order to facilitate this, Radiance provides a rather generic options mechanism. Options are divided up by an option type that designates to which definition macro the option belongs. Radiance provides the <code><a href="#URI-DISPATCHER%20RADIANCE-CORE%3AAPI" class="xref">api</a></code> and <code><a href="#RESOURCE-TYPE%20RADIANCE-CORE%3APAGE" class="xref">page</a></code> option types out of the box.</p> <p>Each option has a keyword for a name and an expander function that must accept a number of arguments, depending on the option type. Always provided as arguments are the name of the thing being defined, the list of body forms of the definition, and a final, optional, value that was provided to the option in the options list, if it was mentioned at all. This expansion function is then responsible for transforming the body forms of the definition macro in some way. It can also emit a second form that is placed outside of the definition itself, in order to allow setting up the environment in some manner.</p> <p>See <code><a href="#FUNCTION%20RADIANCE-CORE%3AOPTION" class="xref">option</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AOPTION-TYPE" class="xref">option-type</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ANAME" class="xref">name</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AEXPANDER" class="xref">expander</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AOPTION" class="xref">option</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AREMOVE-OPTION" class="xref">remove-option</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3ALIST-OPTIONS" class="xref">list-options</a></code>, <code><a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-OPTION" class="xref">define-option</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AEXPAND-OPTIONS" class="xref">expand-options</a></code></p> <h3 id="1.8_module">1.8 Module</h3> <p>The concept of a module is essential to Radiance. It serves as the representation of a &quot;part&quot; of the whole. On a technical level, a module is a package that has special metadata attached to it. It is provided by the <code><a href="#FUNCTION%20RADIANCE-CORE%3AMODULARIZE" class="xref">modularize</a></code> system and is used to facilitate hooks and triggers, interfaces, and the tracking of a few other pieces of information.</p> <p>What this means for you is that instead of a standard <code><a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFPACKAGE" class="xref">defpackage</a></code> you should use a <code><a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-MODULE" class="xref">define-module</a></code> form to define your primary package. The syntax is the same as <code><a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFPACKAGE" class="xref">defpackage</a></code>, but includes some extra options like <code>:domain</code>, which allows you to specify the primary domain on which this module should operate (if any).</p> <p>The module system also allows the tying of an ASDF system to a module. If that is done, then the ASDF system becomes a &quot;virtual module&quot;. In order to do this, you must add three options to your system definition:</p> <pre><code>:defsystem-depends-on (:radiance)
:class &quot;radiance:virtual-module&quot;
:module-name &quot;MY-MODULE&quot;</code></pre> <p>This allows Radiance to identify and associate ASDF system information to your module. For automated creation of the necessary system and module definitions for a new module, see <code><a href="#FUNCTION%20RADIANCE-CORE%3ACREATE-MODULE" class="xref">create-module</a></code>.</p> <p>See <code><a href="#FUNCTION%20RADIANCE-CORE%3AVIRTUAL-MODULE" class="xref">virtual-module</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AVIRTUAL-MODULE-NAME" class="xref">virtual-module-name</a></code>, <code><a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-MODULE" class="xref">define-module</a></code>, <code><a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-MODULE-EXTENSION" class="xref">define-module-extension</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3ADELETE-MODULE" class="xref">delete-module</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AMODULE" class="xref">module</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-P" class="xref">module-p</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-STORAGE" class="xref">module-storage</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-STORAGE-REMOVE" class="xref">module-storage-remove</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-IDENTIFIER" class="xref">module-identifier</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-NAME" class="xref">module-name</a></code>, <code><a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ACURRENT-MODULE" class="xref">current-module</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-DOMAIN" class="xref">module-domain</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-PERMISSIONS" class="xref">module-permissions</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-DEPENDENCIES" class="xref">module-dependencies</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-REQUIRED-INTERFACES" class="xref">module-required-interfaces</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-REQUIRED-SYSTEMS" class="xref">module-required-systems</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-PAGES" class="xref">module-pages</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-API-ENDPOINTS" class="xref">module-api-endpoints</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3ADESCRIBE-MODULE" class="xref">describe-module</a></code>, <code>find-modules-directory</code>, <code><a href="#VARIABLE%20RADIANCE-CORE%3A%2AMODULES-DIRECTORY%2A" class="xref">*modules-directory*</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3ACREATE-MODULE" class="xref">create-module</a></code></p> <h3 id="1.9_hooks">1.9 Hooks</h3> <p>One of the mechanisms that Radiance provides to allow integrating modules into each other is hooks. Hooks allow you to run an arbitrary function in response to some kind of event. For example, a forum software might set up a hook that is triggered whenever a new post is created. An extension could then define a trigger on that hook that performs additional tasks.</p> <p>A hook can have an arbitrary number of triggers defined on it, but you should ensure that a trigger does not take too long, as triggering a hook is a blocking operation that won't finish until all of the triggers have completed. As such, a long-running trigger operation might delay a request response for too long.</p> <p>Sometimes hooks should function more like switches, where they can be &quot;on&quot; for a long time, until they're turned &quot;off&quot; again later. If new triggers are defined during that time, they should be called automatically. This is what the <code><a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-HOOK-SWITCH" class="xref">define-hook-switch</a></code> facilitates. It produces two hooks. Once the first one has been triggered, any trigger that is defined on it later is called automatically until the second hook is triggered. This allows triggers on hooks like <code><a href="#HOOK%20RADIANCE-CORE%3ASERVER-START" class="xref">server-start</a></code> to function properly even if the trigger is only defined after the server has already been started.</p> <p>See <code><a href="#FUNCTION%20RADIANCE-CORE%3ALIST-HOOKS" class="xref">list-hooks</a></code>, <code><a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-HOOK" class="xref">define-hook</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AREMOVE-HOOK" class="xref">remove-hook</a></code>, <code><a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-TRIGGER" class="xref">define-trigger</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AREMOVE-TRIGGER" class="xref">remove-trigger</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3ATRIGGER" class="xref">trigger</a></code>, <code><a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-HOOK-SWITCH" class="xref">define-hook-switch</a></code></p> <h3 id="1.10_interface">1.10 Interface</h3> <p>In order to avoid becoming monolithic, and in order to allow extensible backends, Radiance includes an interface system. In the most general sense, an interface provides a promise as to how some functions, macros, variables, etc. should work, but does not actually implement them. The actual functionality that makes everything that the interface outlines work is pushed off to an implementation. This allows users to code against an interface and make use of its provided functionality, without tying themselves to any particular backend.</p> <p>For a concrete example, let's say there's an interface for a database. This is sensible, since there are many different kinds of databases, that all offer many differing ways of interaction, but still all also offer some very common operations: storing data, retrieving data, and modifying the data. Thus we create an interface that offers these common operations. It is then up to an implementation for a specific kind of database to make the actual operations work. As an application writer, you can then make use of the database interface, and with it, make your application automatically work with lots of different databases.</p> <p>Aside from giving application writers an advantage, the decoupling that the interfaces provide also mean that a system administrator can write their own implementation with relative ease, should their particular requirements not be met by existing implementations. Thanks to the opaqueness of the interfaces, an implementation can both provide a bridge to something that runs in the lisp process, and something that is completely external. This leaves a lot of choice open for the administrator of a production system to allow them to pick exactly what they need.</p> <p>In practise, interfaces are special kinds of modules, and thus special kinds of packages. As part of their definition, they include a series of definitions for other bindings like functions, variables, etc. Since it is a package, as a user you can use the interface's components just like you would use anything else in any other package. There is no difference. As an implementation writer, you then simply redefine all the definitions that the interface outlines.</p> <p>In order to actually load a module that makes use of an interface, an implementation for the interface has to be loaded beforehand. Otherwise, macros could not work properly. Thus, in order to allow depending on interfaces in your ASDF system definition without having to refer to a specific implementation, Radiance provides an ASDF extension. This extension makes it possible to add a list like <code>(:interface :foo)</code> to your <code>:depends-on</code> list. Radiance will then resolve the interface to a concrete implementation thereof when the module is loaded.</p> <p>Radiance provides a bunch of standard interfaces. Each of those interfaces has at least one standard implementation provided by <a href="https://shirakumo.org/projects/radiance-contribs">radiance-contribs</a>. The interfaces are:</p> <ul> <li><code><a href="#PACKAGE%20RADIANCE-CORE" class="xref">admin</a></code><br> Provides an extensible administration site.</li> <li><code><a href="#PACKAGE%20RADIANCE-CORE" class="xref">auth</a></code><br> Handles everything about authentication and login.</li> <li><code><a href="#PACKAGE%20RADIANCE-CORE" class="xref">ban</a></code><br> Allows banning users from the site by their IP address.</li> <li><code><a href="#PACKAGE%20RADIANCE-CORE" class="xref">cache</a></code><br> Provides a very simple caching interface.</li> <li><code><a href="#PACKAGE%20RADIANCE-CORE" class="xref">database</a></code><br> A flexible database interface that allows both object-stores and relational databases as backends.</li> <li><code><a href="#PACKAGE%20RADIANCE-CORE" class="xref">logger</a></code><br> A simple logging interface to allow printing debug and information messages.</li> <li><code><a href="#PACKAGE%20RADIANCE-CORE" class="xref">mail</a></code><br> Minimal interface to send emails with.</li> <li><code><a href="#PACKAGE%20RADIANCE-CORE" class="xref">profile</a></code><br> Provides an extensible user profile site and user fields.</li> <li><code><a href="#PACKAGE%20RADIANCE-CORE" class="xref">rate</a></code><br> Allows rate limitation for access to certain resources.</li> <li><code><a href="#PACKAGE%20RADIANCE-CORE" class="xref">server</a></code><br> The interface that bridges to a server to connect Radiance with an external universe.</li> <li><code><a href="#CLASS%20SESSION%3ASESSION" class="xref">session</a></code><br> Ensures persistent sessions for users to allow tracking them.</li> <li><code><a href="#CLASS%20USER%3AUSER" class="xref">user</a></code><br> Provides user accounts and permissions.</li> </ul> <p>The interfaces are described in-depth below.</p> <p>See <code><a href="#FUNCTION%20RADIANCE-CORE%3AINTERFACE" class="xref">interface</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AINTERFACE-P" class="xref">interface-p</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AIMPLEMENTATION" class="xref">implementation</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AIMPLEMENTS" class="xref">implements</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3ARESET-INTERFACE" class="xref">reset-interface</a></code>, <code><a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-INTERFACE-EXTENSION" class="xref">define-interface-extension</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AFIND-IMPLEMENTATION" class="xref">find-implementation</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3ALOAD-IMPLEMENTATION" class="xref">load-implementation</a></code>, <code><a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-INTERFACE" class="xref">define-interface</a></code>, <code><a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-IMPLEMENT-TRIGGER" class="xref">define-implement-trigger</a></code></p> <h3 id="1.11_environment">1.11 Environment</h3> <p>In order to permit running multiple instances of Radiance with different setups on the same machine, Radiance provides what it calls an Environment system. The Environment is basically the set of configuration and runtime files for Radiance itself and all of the loaded modules. The Radiance configuration also includes the mapping of interface to chosen implementation and thus decides what should be picked if an interface is requested.</p> <p>The particular environment that is used is chosen at the latest when <code><a href="#FUNCTION%20RADIANCE-CORE%3ASTARTUP" class="xref">startup</a></code> is called, and the earliest when a module is loaded. In the latter case, interactive restarts are provided to allow you to pick an environment. This is necessary, as otherwise Radiance won't be able to resolve the interface mapping.</p> <p>As part of the environment system, Radiance provides you with a configuration system that you can --and probably should-- use for your application. It ensures that the settings are properly multiplexed for each environment, and that the settings are always persistent. It also uses a human-readable storage format, such that the files can be read and modified without requiring any special tools.</p> <p>See <a href="https://shinmera.github.io/ubiquitous">ubiquitous</a> for the actual handling and use-instructions of the configuration storage. Just note that instead of the <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AVALUE" class="xref">value</a></code> functions, Radiance provides <code><a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ACONFIG" class="xref">config</a></code> functions.</p> <p>Aside from configuration files, the environment also provides consistent storage locations for runtime data files, such as user uploads, cache files, and so forth. You can retrieve this location by using <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AENVIRONMENT-MODULE-DIRECTORY" class="xref">environment-module-directory</a></code> and <code><a href="#FUNCTION%20RADIANCE-CORE%3AENVIRONMENT-MODULE-PATHNAME" class="xref">environment-module-pathname</a></code>. When storing uploads and caches, a module should make use of these paths to present a consistent interface to the administrator.</p> <p>On a deployed system it might be desired to change the location of the environment storage paths, in which case the administrator is encouraged to supply new methods on <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AENVIRONMENT-DIRECTORY" class="xref">environment-directory</a></code> and <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AENVIRONMENT-MODULE-DIRECTORY" class="xref">environment-module-directory</a></code> to customise the behaviour as desired. See also the associated documentation strings for further details and default actions.</p> <p>The environment also allows administrator overrides. Using the <code>:static</code> and <code>:template</code> types for <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AENVIRONMENT-MODULE-DIRECTORY" class="xref">environment-module-directory</a></code> gives you the path to store files that should override a module's standard template and static files. The paths within the respective directories have to match with those of the module's own source files. Note that the static and template files a module actually makes use of are cached at module load-time, and thus will not change unless the Lisp image is restarted, or the module's source files are reloaded.</p> <p>See <code><a href="#HOOK%20RADIANCE-CORE%3AENVIRONMENT-CHANGE" class="xref">environment-change</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AENVIRONMENT" class="xref">environment</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AENVIRONMENT-DIRECTORY" class="xref">environment-directory</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AENVIRONMENT-MODULE-DIRECTORY" class="xref">environment-module-directory</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AENVIRONMENT-MODULE-PATHNAME" class="xref">environment-module-pathname</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3ACHECK-ENVIRONMENT" class="xref">check-environment</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AMCONFIG-PATHNAME" class="xref">mconfig-pathname</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AMCONFIG-STORAGE" class="xref">mconfig-storage</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AMCONFIG" class="xref">mconfig</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3ADEFAULTED-MCONFIG" class="xref">defaulted-mconfig</a></code>, <code><a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ACONFIG" class="xref">config</a></code>, <code><a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFAULTED-CONFIG" class="xref">defaulted-config</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3ATEMPLATE-FILE" class="xref">template-file</a></code>, <code><a href="#MACRO-FUNCTION%20RADIANCE-CORE%3A%40TEMPLATE" class="xref">@template</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3ASTATIC-FILE" class="xref">static-file</a></code>, <code><a href="#MACRO-FUNCTION%20RADIANCE-CORE%3A%40STATIC" class="xref">@static</a></code></p> <h3 id="1.12_migration_system">1.12 Migration System</h3> <p>Sometimes systems evolve in backwards incompatible ways. In that case, for existing setups to continue functioning with the new version, runtime data migration is necessary. Radiance offers a system to automate this process and allow a smooth upgrade. </p> <p>The migration between versions should occur automatically during Radiance's startup sequence. As an administrator or author you should not need to perform any additional steps for migrations to occur. However, as a module author, you will naturally have to provide the code to perform the necessary data migration steps for your module.</p> <p>In order for a module to be migratable, it needs to be loaded by an ASDF system that has a version specification. The version should follow the standard dotted number scheme, with an optional version hash that can be added at the end. You may then define migration steps between individual versions by using <code><a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-VERSION-MIGRATION" class="xref">define-version-migration</a></code>. Once defined, Radiance will automatically pick up on concrete versions and perform the necessary migrations in sequence to reach the current target version. For more information on the precise procedure and what you can do, see <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AMIGRATE" class="xref">migrate</a></code> and <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AMIGRATE-VERSIONS" class="xref">migrate-versions</a></code>.</p> <p>See <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ALAST-KNOWN-SYSTEM-VERSION" class="xref">last-known-system-version</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AMIGRATE-VERSIONS" class="xref">migrate-versions</a></code>, <code><a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-VERSION-MIGRATION" class="xref">define-version-migration</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AREADY-DEPENDENCY-FOR-MIGRATION" class="xref">ready-dependency-for-migration</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AENSURE-DEPENDENCIES-READY" class="xref">ensure-dependencies-ready</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AVERSIONS" class="xref">versions</a></code>, <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AMIGRATE" class="xref">migrate</a></code></p> <h3 id="1.13_instance_management">1.13 Instance Management</h3> <p>Finally, Radiance provides a standard startup and shutdown sequence that should ensure things are properly setup and readied, and afterwards cleaned up nicely again. A large part of that sequence is just ensuring that certain hooks are called in the proper order and at the appropriate times.</p> <p>While you can start a server manually by using the appropriate interface function, you should not expect applications to run properly if you do it that way. Many of them will expect certain hooks to be called in order to work properly. This is why you should always, unless you exactly know what you're doing, use <code><a href="#FUNCTION%20RADIANCE-CORE%3ASTARTUP" class="xref">startup</a></code> and <code><a href="#FUNCTION%20RADIANCE-CORE%3ASHUTDOWN" class="xref">shutdown</a></code> to manage a Radiance instance. The documentation of the two functions should explain exactly which hooks are triggered and in which order. An implementation may provide additional, unspecified definitions on symbols in the interface package, as long as said symbols are not exported.</p> <p>See <code><a href="#VARIABLE%20RADIANCE-CORE%3A%2ASTARTUP-TIME%2A" class="xref">*startup-time*</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3AUPTIME" class="xref">uptime</a></code>, <code><a href="#HOOK%20RADIANCE-CORE%3ASERVER-START" class="xref">server-start</a></code>, <code><a href="#HOOK%20RADIANCE-CORE%3ASERVER-READY" class="xref">server-ready</a></code>, <code><a href="#HOOK%20RADIANCE-CORE%3ASERVER-STOP" class="xref">server-stop</a></code>, <code><a href="#HOOK%20RADIANCE-CORE%3ASERVER-SHUTDOWN" class="xref">server-shutdown</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3ASTARTUP" class="xref">startup</a></code>, <code><a href="#HOOK%20RADIANCE-CORE%3ASTARTUP-DONE" class="xref">startup-done</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3ASHUTDOWN" class="xref">shutdown</a></code>, <code><a href="#HOOK%20RADIANCE-CORE%3ASHUTDOWN-DONE" class="xref">shutdown-done</a></code>, <code><a href="#FUNCTION%20RADIANCE-CORE%3ASTARTED-P" class="xref">started-p</a></code></p> <h2 id="2._standard_interfaces">2. Standard Interfaces</h2> <p>These interfaces are distributed with Radiance and are part of the core package. Libraries may provide for additional interfaces, however. For implementations of standard interfaces, the following relaxations of interface definition constraints are allowed:</p> <p>The lambda-lists that contain <code>&amp;key</code> arguments can be extended by further, implementation-dependant keyword arguments. Lambda-lists that contain <code>&amp;optional</code> but no <code>&amp;key</code> or <code>&amp;rest</code> may be extended by further optional arguments. Lambda-lists that contain only required arguments may be extended by further optional or keyword arguments.</p> <h3 id="2.1_admin">2.1 admin</h3> <p>This interface provides for an administration page. It should be used for any kind of user-configurable settings, or system information display. Note that despite being called &quot;administration&quot;, this is not intended solely for administrators of the system. The page should be usable for any user.</p> <p>The administration page is required to be able to display a categorised menu, and a panel. The panels are provided by other modules and can be added through <code><a href="#MACRO-FUNCTION%20ADMIN%3ADEFINE-PANEL" class="xref">admin:define-panel</a></code>. Panels that give access to sensitive operations should be appropriately restricted through the <code>:access</code> option and a non-default permission. See the user interface for an explanation on the permissions.</p> <p>In order to link to the administration page, or a specific panel on it, use the <code><a href="#RESOURCE-TYPE%20RADIANCE-CORE%3APAGE" class="xref">page</a></code> resource type.</p> <p>See <code><a href="#FUNCTION%20ADMIN%3ALIST-PANELS" class="xref">admin:list-panels</a></code>, <code><a href="#FUNCTION%20ADMIN%3AREMOVE-PANEL" class="xref">admin:remove-panel</a></code>, <code><a href="#MACRO-FUNCTION%20ADMIN%3ADEFINE-PANEL" class="xref">admin:define-panel</a></code>, <code><a href="#OPTION%20ADMIN%3AACCESS" class="xref">admin:panel</a></code></p> <h3 id="2.2_auth">2.2 auth</h3> <p>The authentication interface is responsible for tying a user to a request. For this reason it must provide some manner by which a user can authenticate themselves against the system. How this is done exactly is up to the implementation. The implementation must however provide a page on which the authentication process is initiated. You can get a URI to it through the <code><a href="#RESOURCE-TYPE%20RADIANCE-CORE%3APAGE" class="xref">page</a></code> resource and passing <code>&quot;login&quot;</code> as argument.</p> <p>You can test for the user currently tied to the request by <code><a href="#FUNCTION%20AUTH%3ACURRENT" class="xref">auth:current</a></code>. This may also return <code>NIL</code>, in which case the user should be interpreted as being <code>&quot;anonymous&quot;</code>. See the user interface for more information.</p> <p>See <code><a href="#VARIABLE%20AUTH%3A%2ALOGIN-TIMEOUT%2A" class="xref">auth:*login-timeout*</a></code>, <code><a href="#RESOURCE-TYPE%20AUTH%3APAGE" class="xref">auth:page</a></code>, <code><a href="#FUNCTION%20AUTH%3ACURRENT" class="xref">auth:current</a></code>, <code><a href="#FUNCTION%20AUTH%3AASSOCIATE" class="xref">auth:associate</a></code></p> <h3 id="2.3_ban">2.3 ban</h3> <p>This interface provides for IP-banning. It must prevent any client connecting through a banned IP from seeing the content of the actual page they're requesting. Bans can be lifted manually or automatically after a timeout. The implementation may or may not exert additional effort to track users across IPs.</p> <p>See <code><a href="#FUNCTION%20BAN%3AJAIL" class="xref">ban:jail</a></code>, <code><a href="#FUNCTION%20BAN%3ALIST" class="xref">ban:list</a></code>, <code><a href="#FUNCTION%20BAN%3AJAIL-TIME" class="xref">ban:jail-time</a></code>, <code><a href="#FUNCTION%20BAN%3ARELEASE" class="xref">ban:release</a></code></p> <h3 id="2.4_cache">2.4 cache</h3> <p>The cache interface provides for a generic caching mechanism with a customisable invalidation test. You can explicitly renew the cache by <code><a href="#FUNCTION%20CACHE%3ARENEW" class="xref">cache:renew</a></code>. To define a cached block, simply use <code><a href="#MACRO-FUNCTION%20CACHE%3AWITH-CACHE" class="xref">cache:with-cache</a></code>, which will cause the cached value of the body to be returned if the test form evaluates to true.</p> <p>The exact manner by which the cached value is stored is up to the implementation and <code><a href="#FUNCTION%20CACHE%3AGET" class="xref">cache:get</a></code> or <code><a href="#MACRO-FUNCTION%20CACHE%3AWITH-CACHE" class="xref">cache:with-cache</a></code> may coerce the cached value to a string or byte array. The implementation may support any number of types of values to cache, but must in the very least support strings and byte arrays.</p> <p>The name for a cached value must be a symbol whose name and package name do not contain any of the following characters: <code>&lt;&gt;:&quot;/\|?*.</code> The variant for a cached value must be an object that can be discriminated by its printed (as by <code><a href="#FUNCTION%20RADIANCE-CORE%3APRINC" class="xref">princ</a></code>) representation. The same character constraints as for the name apply.</p> <p>See <code><a href="#FUNCTION%20CACHE%3AGET" class="xref">cache:get</a></code>, <code><a href="#FUNCTION%20CACHE%3ARENEW" class="xref">cache:renew</a></code>, <code><a href="#MACRO-FUNCTION%20CACHE%3AWITH-CACHE" class="xref">cache:with-cache</a></code></p> <h3 id="2.5_database">2.5 database</h3> <p>This interface provides you with a data persistence layer, usually called a database. This does not have to be a relational database, but may be one. In order to preserve implementation variance, only basic database operations are supported (no joins, triggers, etc). Data types are also restricted to integers, floats, and strings. Despite these constraints, the database interface is sufficiently useful for most applications.</p> <p>Note that particular terminology is used to distance from traditional RDBMS terms: a schema is called a &quot;structure&quot;. A table is called a &quot;collection&quot;. A row is called a &quot;record&quot;.</p> <p>Performing database operations before the database is connected results in undefined behaviour. Thus, you should put your collection creation forms (<code><a href="#FUNCTION%20DATABASE%3ACREATE" class="xref">db:create</a></code>) within a trigger on <code><a href="#HOOK%20DATABASE%3ACONNECTED" class="xref">db:connected</a></code>. Radiance ensures that the database is connected while Radiance is running, so using the database interface in any page, api, or uri dispatcher definitions is completely fine.</p> <p>The functions for actually performing data storage are, intuitively enough, called <code><a href="#FUNCTION%20DATABASE%3AINSERT" class="xref">db:insert</a></code>, <code><a href="#FUNCTION%20DATABASE%3AREMOVE" class="xref">db:remove</a></code>, <code><a href="#FUNCTION%20DATABASE%3AUPDATE" class="xref">db:update</a></code>, <code><a href="#FUNCTION%20DATABASE%3ASELECT" class="xref">db:select</a></code>, and <code><a href="#FUNCTION%20DATABASE%3AITERATE" class="xref">db:iterate</a></code>. The behaviour thereof should be pretty much what you'd expect. See the respective docstrings for a close inspection. Also see the docstring of <code><a href="#FUNCTION%20DATABASE%3ACREATE" class="xref">db:create</a></code> for a lengthy explanation on how to create a collection and what kind of restrictions are imposed.</p> <p>The database must ensure that once a data manipulation operation has completed, the changes caused by it will be persisted across a restart of Radiance, the lisp image, or the machine, even in the case of an unforeseen crash.</p> <p>See <code><a href="#CONDITION%20DATABASE%3ACONDITION" class="xref">database:condition</a></code>, <code><a href="#CONDITION%20DATABASE%3ACONNECTION-FAILED" class="xref">database:connection-failed</a></code>, <code><a href="#CONDITION%20DATABASE%3ACONNECTION-ALREADY-OPEN" class="xref">database:connection-already-open</a></code>, <code><a href="#CONDITION%20DATABASE%3ACOLLECTION-CONDITION" class="xref">database:collection-condition</a></code>, <code><a href="#CONDITION%20DATABASE%3AINVALID-COLLECTION" class="xref">database:invalid-collection</a></code>, <code><a href="#CONDITION%20DATABASE%3ACOLLECTION-ALREADY-EXISTS" class="xref">database:collection-already-exists</a></code>, <code><a href="#CONDITION%20DATABASE%3AINVALID-FIELD" class="xref">database:invalid-field</a></code>, <code><a href="#TYPE%20DATABASE%3AID" class="xref">database:id</a></code>, <code><a href="#FUNCTION%20DATABASE%3AENSURE-ID" class="xref">database:ensure-id</a></code>, <code><a href="#FUNCTION%20DATABASE%3ACONNECT" class="xref">database:connect</a></code>, <code><a href="#FUNCTION%20DATABASE%3ADISCONNECT" class="xref">database:disconnect</a></code>, <code><a href="#FUNCTION%20DATABASE%3ACONNECTED-P" class="xref">database:connected-p</a></code>, <code><a href="#FUNCTION%20DATABASE%3ACOLLECTIONS" class="xref">database:collections</a></code>, <code><a href="#FUNCTION%20DATABASE%3ACOLLECTION-EXISTS-P" class="xref">database:collection-exists-p</a></code>, <code><a href="#FUNCTION%20DATABASE%3ACREATE" class="xref">database:create</a></code>, <code><a href="#FUNCTION%20DATABASE%3ASTRUCTURE" class="xref">database:structure</a></code>, <code><a href="#FUNCTION%20DATABASE%3AEMPTY" class="xref">database:empty</a></code>, <code><a href="#FUNCTION%20DATABASE%3ADROP" class="xref">database:drop</a></code>, <code><a href="#FUNCTION%20DATABASE%3AITERATE" class="xref">database:iterate</a></code>, <code><a href="#FUNCTION%20DATABASE%3ASELECT" class="xref">database:select</a></code>, <code><a href="#FUNCTION%20DATABASE%3ACOUNT" class="xref">database:count</a></code>, <code><a href="#FUNCTION%20DATABASE%3AINSERT" class="xref">database:insert</a></code>, <code><a href="#FUNCTION%20DATABASE%3AREMOVE" class="xref">database:remove</a></code>, <code><a href="#FUNCTION%20DATABASE%3AUPDATE" class="xref">database:update</a></code>, <code><a href="#MACRO-FUNCTION%20DATABASE%3AWITH-TRANSACTION" class="xref">database:with-transaction</a></code>, <code><a href="#MACRO-FUNCTION%20DATABASE%3AQUERY" class="xref">database:query</a></code>, <code><a href="#HOOK%20DATABASE%3ACONNECTED" class="xref">database:connected</a></code>, <code><a href="#HOOK%20DATABASE%3ADISCONNECTED" class="xref">database:disconnected</a></code></p> <h3 id="2.6_logger">2.6 logger</h3> <p>This interface provides primitive logging functions so that you can log messages about relevant happenings in the system. The actual configuration of what gets logged where and how is up to the implementation and the administrator of the system.</p> <p>See <code><a href="#FUNCTION%20LOGGER%3ALOG" class="xref">logger:log</a></code>, <code><a href="#FUNCTION%20LOGGER%3ATRACE" class="xref">logger:trace</a></code>, <code><a href="#FUNCTION%20LOGGER%3ADEBUG" class="xref">logger:debug</a></code>, <code><a href="#FUNCTION%20LOGGER%3AINFO" class="xref">logger:info</a></code>, <code><a href="#FUNCTION%20LOGGER%3AWARN" class="xref">logger:warn</a></code>, <code><a href="#FUNCTION%20LOGGER%3AERROR" class="xref">logger:error</a></code>, <code><a href="#FUNCTION%20LOGGER%3ASEVERE" class="xref">logger:severe</a></code>, <code><a href="#FUNCTION%20LOGGER%3AFATAL" class="xref">logger:fatal</a></code></p> <h3 id="2.7_mail">2.7 Mail</h3> <p>With the mail interface you get a very minimal facility to send emails. A variety of components might need email access, in order to reach users outside of the website itself. The configuration of the way the emails are sent --remote server, local sendmail, etc.-- is implementation dependant.</p> <p>The <code><a href="#FUNCTION%20MAIL%3ASEND" class="xref">mail:send</a></code> hook provided by the interface allows you to react to outgoing emails before they are sent.</p> <p>See <code><a href="#FUNCTION%20MAIL%3ASEND" class="xref">mail:send</a></code></p> <h3 id="2.8_profile">2.8 profile</h3> <p>The profile interface provides extensions to the user interface that are commonly used in applications that want users to have some kind of presence. As part of this, the interface must provide for a page on which a user's &quot;profile&quot; can be displayed. The profile must show panels of some kind. The panels are provided by other modules and can be added by <code><a href="#MACRO-FUNCTION%20PROFILE%3ADEFINE-PANEL" class="xref">profile:define-panel</a></code>.</p> <p>You can get a URI pointing to the profile page of a user through the <code><a href="#RESOURCE-TYPE%20RADIANCE-CORE%3APAGE" class="xref">page</a></code> resource type.</p> <p>The interface also provides access to an &quot;avatar image&quot; to visually identify the user (<code><a href="#FUNCTION%20PROFILE%3AAVATAR" class="xref">profile:avatar</a></code>), a customisable name that the user can change (<code><a href="#FUNCTION%20PROFILE%3ANAME" class="xref">profile:name</a></code>), and field types to what kind of data is contained in a user's field and whether it should be public information or not (<code><a href="#FUNCTION%20PROFILE%3AFIELDS" class="xref">profile:fields</a></code> <code><a href="#FUNCTION%20PROFILE%3AADD-FIELD" class="xref">profile:add-field</a></code> <code><a href="#FUNCTION%20PROFILE%3AREMOVE-FIELD" class="xref">profile:remove-field</a></code>).</p> <p>See <code><a href="#RESOURCE-TYPE%20PROFILE%3APAGE" class="xref">profile:page</a></code>, <code><a href="#FUNCTION%20PROFILE%3AAVATAR" class="xref">profile:avatar</a></code>, <code><a href="#FUNCTION%20PROFILE%3ANAME" class="xref">profile:name</a></code>, <code><a href="#FUNCTION%20PROFILE%3AFIELDS" class="xref">profile:fields</a></code>, <code><a href="#FUNCTION%20PROFILE%3AADD-FIELD" class="xref">profile:add-field</a></code>, <code><a href="#FUNCTION%20PROFILE%3AREMOVE-FIELD" class="xref">profile:remove-field</a></code>, <code><a href="#FUNCTION%20PROFILE%3ALIST-PANELS" class="xref">profile:list-panels</a></code>, <code><a href="#FUNCTION%20PROFILE%3AREMOVE-PANEL" class="xref">profile:remove-panel</a></code>, <code><a href="#MACRO-FUNCTION%20PROFILE%3ADEFINE-PANEL" class="xref">profile:define-panel</a></code>, <code><a href="#OPTION%20PROFILE%3AACCESS" class="xref">profile:panel</a></code></p> <h3 id="2.9_rate">2.9 rate</h3> <p>This interface provides for a rate limitation mechanism to prevent spamming or overly eager access to potentially sensitive or costly resources. This happens in two steps. First, the behaviour of the rate limitation is defined for a particular resource by <code><a href="#MACRO-FUNCTION%20RATE%3ADEFINE-LIMIT" class="xref">rate:define-limit</a></code>. Then the resource is protected through the <code><a href="#MACRO-FUNCTION%20RATE%3AWITH-LIMITATION" class="xref">rate:with-limitation</a></code> macro. If the access to the block by a certain user is too frequent, the block is not called, and the code in the limit definition is evaluated instead.</p> <p>Note that rate limitation is per-client, -user, or -session depending on the implementation, but certainly not global.</p> <p>See <code><a href="#MACRO-FUNCTION%20RATE%3ADEFINE-LIMIT" class="xref">rate:define-limit</a></code>, <code><a href="#FUNCTION%20RATE%3ALEFT" class="xref">rate:left</a></code>, <code><a href="#MACRO-FUNCTION%20RATE%3AWITH-LIMITATION" class="xref">rate:with-limitation</a></code></p> <h3 id="2.10_server">2.10 server</h3> <p>This and the logger interface are the only interfaces Radiance requires an implementation for in order to start. It is responsible for accepting and replying to HTTP requests in some manner. The implementation must accept requests and relay them to the Radiance <code><a href="#FUNCTION%20RADIANCE-CORE%3AREQUEST" class="xref">request</a></code> function, and then relay the returned <code><a href="#CLASS%20RADIANCE-CORE%3ARESPONSE" class="xref">response</a></code> back to the requester.</p> <p>Note that the actual arguments that specify the listener behaviour are implementation-dependant, as is configuration thereof. However, if applicable, the implementation must provide for a standard listener that is accessible on <code>localhost</code> on the port configured in <code>(mconfig :radiance :port)</code> and is started when <code><a href="#FUNCTION%20RADIANCE-CORE%3ASTARTUP" class="xref">radiance:startup</a></code> is called.</p> <p>See <code><a href="#FUNCTION%20SERVER%3ASTART" class="xref">server:start</a></code>, <code><a href="#FUNCTION%20SERVER%3ASTOP" class="xref">server:stop</a></code>, <code><a href="#FUNCTION%20SERVER%3ALISTENERS" class="xref">server:listeners</a></code>, <code><a href="#HOOK%20SERVER%3ASTARTED" class="xref">server:started</a></code>, <code><a href="#HOOK%20SERVER%3ASTOPPED" class="xref">server:stopped</a></code></p> <h3 id="2.11_session">2.11 session</h3> <p>The session interface provides for tracking a client over the course of multiple requests. It however cannot guarantee to track clients perfectly, as they may do several things in order to cloak or mask themselves or falsify information. Still, for most users, the session tracking should work fine enough.</p> <p>The session interface is usually used by other interfaces or lower-lying libraries in order to provide persistence of information such as user authentication.</p> <p>See <code><a href="#VARIABLE%20SESSION%3A%2ADEFAULT-TIMEOUT%2A" class="xref">session:*default-timeout*</a></code>, <code><a href="#CLASS%20SESSION%3ASESSION" class="xref">session:session</a></code>, <code><a href="#FUNCTION%20SESSION%3A%3D" class="xref">session:=</a></code>, <code><a href="#FUNCTION%20SESSION%3ASTART" class="xref">session:start</a></code>, <code><a href="#FUNCTION%20SESSION%3AGET" class="xref">session:get</a></code>, <code><a href="#FUNCTION%20SESSION%3ALIST" class="xref">session:list</a></code>, <code><a href="#FUNCTION%20SESSION%3AID" class="xref">session:id</a></code>, <code><a href="#FUNCTION%20SESSION%3AFIELD" class="xref">session:field</a></code>, <code><a href="#FUNCTION%20SESSION%3ATIMEOUT" class="xref">session:timeout</a></code>, <code><a href="#FUNCTION%20SESSION%3AEND" class="xref">session:end</a></code>, <code><a href="#FUNCTION%20SESSION%3AACTIVE-P" class="xref">session:active-p</a></code>, <code><a href="#HOOK%20SESSION%3ACREATE" class="xref">session:create</a></code></p> <h3 id="2.12_user">2.12 user</h3> <p>This interface provides for persistent user objects and a permissions system. It does not take care of authentication, identification, tracking, or anything of the sort. It merely provides a user object upon which to build and with which permissions can be managed.</p> <p>See <code><a href="#CLASS%20USER%3AUSER" class="xref">user:user</a></code> for a description of permissions and their behaviour.</p> <p>See <code><a href="#CONDITION%20USER%3ACONDITION" class="xref">user:condition</a></code>, <code><a href="#CONDITION%20USER%3ANOT-FOUND" class="xref">user:not-found</a></code>, <code><a href="#CLASS%20USER%3AUSER" class="xref">user:user</a></code>, <code><a href="#FUNCTION%20USER%3A%3D" class="xref">user:=</a></code>, <code><a href="#FUNCTION%20USER%3ALIST" class="xref">user:list</a></code>, <code><a href="#FUNCTION%20USER%3AGET" class="xref">user:get</a></code>, <code><a href="#FUNCTION%20USER%3AID" class="xref">user:id</a></code>, <code><a href="#FUNCTION%20USER%3AUSERNAME" class="xref">user:username</a></code>, <code><a href="#FUNCTION%20USER%3AFIELDS" class="xref">user:fields</a></code>, <code><a href="#FUNCTION%20USER%3AFIELD" class="xref">user:field</a></code>, <code><a href="#FUNCTION%20USER%3AREMOVE-FIELD" class="xref">user:remove-field</a></code>, <code><a href="#FUNCTION%20USER%3AREMOVE" class="xref">user:remove</a></code>, <code><a href="#FUNCTION%20USER%3ACHECK" class="xref">user:check</a></code>, <code><a href="#FUNCTION%20USER%3AGRANT" class="xref">user:grant</a></code>, <code><a href="#FUNCTION%20USER%3AREVOKE" class="xref">user:revoke</a></code>, <code><a href="#FUNCTION%20USER%3AADD-DEFAULT-PERMISSIONS" class="xref">user:add-default-permissions</a></code>, <code><a href="#HOOK%20USER%3ACREATE" class="xref">user:create</a></code>, <code><a href="#FUNCTION%20USER%3AREMOVE" class="xref">user:remove</a></code>, <code>user:action</code>, <code><a href="#HOOK%20USER%3AREADY" class="xref">user:ready</a></code>, <code><a href="#HOOK%20USER%3AUNREADY" class="xref">user:unready</a></code></p> <h2 id="version_changes">Version Changes</h2> <h3 id="1.0_-&gt;_2.0">1.0 -&gt; 2.0</h3> <ul> <li>The variable <code>*environment-root*</code> has been removed as per issue <a href="https://github.com/Shirakumo/radiance/issues/28">#28</a> and fix <a href="https://github.com/Shirakumo/radiance/pull/29">#29</a>. It has instead been replaced by a more generic mechanism for environment directories, incorporated by the function <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AENVIRONMENT-DIRECTORY" class="xref">environment-directory</a></code>. If you previously customised <code>*environment-root*</code>, please now change <code><a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AENVIRONMENT-DIRECTORY" class="xref">environment-directory</a></code> instead, as described in §1.11.</li> <li>A new facility to automate migration for changes between module versions has been added as per issue <a href="https://github.com/Shirakumo/radiance/issues/30">#30</a> and fix <a href="https://github.com/Shirakumo/radiance/issues/31">#31</a>. This facility is already being used in existing modules and Radiance itself to account for the new environment directories and automatically move previously existing data to the correct, new locations. Please see §1.12 for an explanation of the facility.</li> <li>It is now possible for an administrator to override templates and static files of a module without changing the module's source as per issue <a href="https://github.com/Shirakumo/radiance/issues/26">#26</a>. Please see §1.11 for the relevant environment documentation, as well as functions <code><a href="#FUNCTION%20RADIANCE-CORE%3ATEMPLATE-FILE" class="xref">template-file</a></code> and <code><a href="#FUNCTION%20RADIANCE-CORE%3ASTATIC-FILE" class="xref">static-file</a></code>.</li> <li>The user interface is now required to support an integer <code><a href="#FUNCTION%20USER%3AID" class="xref">user:id</a></code> identifier for each user object, allowing you to reference users in databases and records more efficiently.</li> <li>The database interface is now required to support the keyword <code>:unique</code> on <code><a href="#FUNCTION%20DATABASE%3ASELECT" class="xref">db:select</a></code> and <code><a href="#FUNCTION%20DATABASE%3AITERATE" class="xref">db:iterate</a></code>.</li> </ul> <h2 id="also_see">Also See</h2> <ul> <li><a href="https://shinmera.github.io/modularize">modularize</a> For the primary package metadata system</li> <li><a href="https://shinmera.github.io/modularize-interfaces">modularize-interfaces</a> For the interface and implementations extensions</li> <li><a href="https://shinmera.github.io/modularize-hooks">modularize-hooks</a> For the hooks and triggers mechanisms</li> <li><a href="https://shinmera.github.io/ubiquitous">ubiquitous</a> For configuration management</li> <li><a href="https://shirakumo.org/projects/radiance-contribs">radiance-contribs</a> Default interface implementations and other convenience modules for Radiance</li> <li><a href="https://shirakumo.org/projects/radiance-bootstrap">radiance-bootstrap</a> A script to automate Radiance deployments on production systems</li> </ul> </section>   <section id="system"> <h2>System Information</h2>  <div class="row"> <label for="version">Version:</label> <a id="version">2.0.1</a> </div>   <div class="row"> <label for="dependencies">Dependencies:</label> <ul id="dependencies"><li><a class="external" href="https://Shinmera.github.io/modularize/">modularize</a></li><li><a class="external" href="https://github.com/Shirakumo/radiance">radiance-core</a></li></ul> </div>   <div class="row"> <label for="author">Author:</label> <a id="author" href="mailto:shinmera@tymoon.eu">Nicolas Hafner</a> </div>   <div class="row"> <label for="license">License:</label> <a id="license" href="https://github.com/Shirakumo/radiance/blob/master/LICENSE">Artistic</a> </div>   <div class="row"> <label for="homepage">Homepage:</label> <a id="homepage" href="https://github.com/Shirakumo/radiance">https://github.com/Shirakumo/radiance</a> </div>  </section>   <section id="index"> <h2>Definition Index</h2> <ul> <li> <article class="definition package" id="PACKAGE RADIANCE-CORE"> <header> <h3> <a href="#PACKAGE%20RADIANCE-CORE">RADIANCE-CORE</a> </h3> <ul class="nicknames"> <li>RADIANCE</li>  <li>MODULARIZE.MOD.RADIANCE-CORE</li>  <li>ORG.SHIRAKUMO.RADIANCE.CORE</li> </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> <ul class="definitions"> <li> <article class="definition special-variable" id="VARIABLE RADIANCE-CORE:*DEBUGGER*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20RADIANCE-CORE%3A%2ADEBUGGER%2A">*DEBUGGER*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/handle.lisp#L9">Source</a>  </header> <div class="docstring"><pre>Whether the debugger should be invoked when an error occurs during a request execution.

Can be one of the following values:
  :IF-SWANK-CONNECTED  -- Only invoke the debugger if there is an active swank connection.
  T                    -- Always invoke the debugger.
  NIL                  -- Never invoke the debugger.

See <a href="#FUNCTION%20RADIANCE-CORE%3AMAYBE-INVOKE-DEBUGGER" class="xref">MAYBE-INVOKE-DEBUGGER</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AHANDLE-CONDITION" class="xref">HANDLE-CONDITION</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AEXECUTE-REQUEST" class="xref">EXECUTE-REQUEST</a></pre></div> </article> </li>  <li> <article class="definition special-variable" id="VARIABLE RADIANCE-CORE:*DEFAULT-API-FORMAT*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20RADIANCE-CORE%3A%2ADEFAULT-API-FORMAT%2A">*DEFAULT-API-FORMAT*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/api.lisp#L11">Source</a>  </header> <div class="docstring"><pre>The API format to use if no specific one is requested.

See <a href="#VARIABLE%20RADIANCE-CORE%3A%2AAPI-FORMATS%2A" class="xref">*API-FORMATS*</a></pre></div> </article> </li>  <li> <article class="definition special-variable" id="VARIABLE RADIANCE-CORE:*DEFAULT-CONTENT-TYPE*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20RADIANCE-CORE%3A%2ADEFAULT-CONTENT-TYPE%2A">*DEFAULT-CONTENT-TYPE*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/request.lisp#L12">Source</a>  </header> <div class="docstring"><pre>The default content-type to use to send out the data.

See <a href="#CLASS%20RADIANCE-CORE%3ARESPONSE" class="xref">RESPONSE</a></pre></div> </article> </li>  <li> <article class="definition special-variable" id="VARIABLE RADIANCE-CORE:*DEFAULT-EXTERNAL-FORMAT*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20RADIANCE-CORE%3A%2ADEFAULT-EXTERNAL-FORMAT%2A">*DEFAULT-EXTERNAL-FORMAT*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/request.lisp#L11">Source</a>  </header> <div class="docstring"><pre>The default external character encoding to use to send out the data.

See <a href="#CLASS%20RADIANCE-CORE%3ARESPONSE" class="xref">RESPONSE</a></pre></div> </article> </li>  <li> <article class="definition special-variable" id="VARIABLE RADIANCE-CORE:*MODULES-DIRECTORY*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20RADIANCE-CORE%3A%2AMODULES-DIRECTORY%2A">*MODULES-DIRECTORY*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/modules.lisp#L138">Source</a>  </header> <div class="docstring"><pre>Defines the path where modules should be created.</pre></div> </article> </li>  <li> <article class="definition special-variable" id="VARIABLE RADIANCE-CORE:*RANDOM-STRING-CHARACTERS*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20RADIANCE-CORE%3A%2ARANDOM-STRING-CHARACTERS%2A">*RANDOM-STRING-CHARACTERS*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/toolkit.lisp#L9">Source</a>  </header> <div class="docstring"><pre>A string that contains all the characters that can form a random-string.

See <a href="#FUNCTION%20RADIANCE-CORE%3AMAKE-RANDOM-STRING" class="xref">MAKE-RANDOM-STRING</a></pre></div> </article> </li>  <li> <article class="definition special-variable" id="VARIABLE RADIANCE-CORE:*REQUEST*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20RADIANCE-CORE%3A%2AREQUEST%2A">*REQUEST*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/request.lisp#L9">Source</a>  </header> <div class="docstring"><pre>Bound to the current request object in the context of a request.

See <a href="#FUNCTION%20RADIANCE-CORE%3AEXECUTE-REQUEST" class="xref">EXECUTE-REQUEST</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AREQUEST" class="xref">REQUEST</a></pre></div> </article> </li>  <li> <article class="definition special-variable" id="VARIABLE RADIANCE-CORE:*RESPONSE*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20RADIANCE-CORE%3A%2ARESPONSE%2A">*RESPONSE*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/request.lisp#L10">Source</a>  </header> <div class="docstring"><pre>Bound to the current response object in the context of a request.

See <a href="#FUNCTION%20RADIANCE-CORE%3AEXECUTE-REQUEST" class="xref">EXECUTE-REQUEST</a>
See <a href="#CLASS%20RADIANCE-CORE%3ARESPONSE" class="xref">RESPONSE</a></pre></div> </article> </li>  <li> <article class="definition special-variable" id="VARIABLE RADIANCE-CORE:*STARTUP-TIME*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20RADIANCE-CORE%3A%2ASTARTUP-TIME%2A">*STARTUP-TIME*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/init.lisp#L9">Source</a>  </header> <div class="docstring"><pre>Keeps the universal-time of when STARTUP was called.

See <a href="#FUNCTION%20RADIANCE-CORE%3ASTARTUP" class="xref">STARTUP</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ASHUTDOWN" class="xref">SHUTDOWN</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AUPTIME" class="xref">UPTIME</a></pre></div> </article> </li>  <li> <article class="definition route" id="ROUTE RADIANCE-CORE:DOMAIN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">ROUTE</span> <h4 class="name"> <a href="#ROUTE%20RADIANCE-CORE%3ADOMAIN">DOMAIN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/routing.lisp#L9">Source</a>  </header> <div class="docstring"><pre>Ensures that top-level domains are stripped from the uri.

Depends on *DOMAIN-INTERNALIZERS*</pre></div> </article> </li>  <li> <article class="definition route" id="ROUTE RADIANCE-CORE:DOMAIN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">ROUTE</span> <h4 class="name"> <a href="#ROUTE%20RADIANCE-CORE%3ADOMAIN">DOMAIN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/routing.lisp#L9">Source</a>  </header> <div class="docstring"><pre>Ensures that the appropriate top-level domain is added to the uri.</pre></div> </article> </li>  <li> <article class="definition route" id="ROUTE RADIANCE-CORE:VIRTUAL-MODULE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">ROUTE</span> <h4 class="name"> <a href="#ROUTE%20RADIANCE-CORE%3AVIRTUAL-MODULE">VIRTUAL-MODULE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/routing.lisp#L9">Source</a>  </header> <div class="docstring"><pre>Allows using a path of /!/module/path to simulate a call to a subdomain.

This translates the path by prepending the module to the subdomains
of the uri and resetting the path to the sub-path. The module is also
stored in the request's data field called VIRTUAL-MODULE.</pre></div> </article> </li>  <li> <article class="definition route" id="ROUTE RADIANCE-CORE:VIRTUAL-MODULE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">ROUTE</span> <h4 class="name"> <a href="#ROUTE%20RADIANCE-CORE%3AVIRTUAL-MODULE">VIRTUAL-MODULE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/routing.lisp#L9">Source</a>  </header> <div class="docstring"><pre>Properly reverses the uri if the current request context was made under a virtual-module.

Uses the request's data field called VIRTUAL-MODULE to know
where we came from.</pre></div> </article> </li>  <li> <article class="definition option" id="OPTION RADIANCE-CORE:HOOK"> <header> <span class="visibility">EXTERNAL</span> <span class="type">OPTION</span> <h4 class="name"> <a href="#OPTION%20RADIANCE-CORE%3AHOOK">HOOK</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>Adds a hook that is automatically triggered when the page is called.

Unless otherwise specified, the hook is named the same as the page.</pre></div> </article> </li>  <li> <article class="definition resource-type" id="RESOURCE-TYPE RADIANCE-CORE:API"> <header> <span class="visibility">EXTERNAL</span> <span class="type">RESOURCE-TYPE</span> <h4 class="name"> <a href="#RESOURCE-TYPE%20RADIANCE-CORE%3AAPI">API</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/resource.lisp#L11">Source</a>  </header> <div class="docstring"><pre>Returns an internal URI that is a representation of the path on which the given API endpoint can be called.

It expects one or more arguments, where the first is the
endpoint's name and the rest are key-value pairs of the
arguments for the call.</pre></div> </article> </li>  <li> <article class="definition resource-type" id="RESOURCE-TYPE RADIANCE-CORE:DOMAIN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">RESOURCE-TYPE</span> <h4 class="name"> <a href="#RESOURCE-TYPE%20RADIANCE-CORE%3ADOMAIN">DOMAIN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/resource.lisp#L11">Source</a>  </header> <div class="docstring"><pre>Returns an internal URI that is a representation of the domain on which the module operates.</pre></div> </article> </li>  <li> <article class="definition resource-type" id="RESOURCE-TYPE RADIANCE-CORE:PAGE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">RESOURCE-TYPE</span> <h4 class="name"> <a href="#RESOURCE-TYPE%20RADIANCE-CORE%3APAGE">PAGE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/resource.lisp#L11">Source</a>  </header> <div class="docstring"><pre>Returns an internal URI that points to the requested page.

The following values are returned:
1. URI
2. QUERY-ALIST
3. FRAGMENT

The QUERY-ALIST and FRAGMENT can be used as arguments to URI-TO-URL.

By default a page with the name corresponding to the symbol
of the given name in the module's package is used if available.

However, a module or interface may special-case certain page
names to provide a specified name to point to a page of
particular interest.</pre></div> </article> </li>  <li> <article class="definition resource-type" id="RESOURCE-TYPE RADIANCE-CORE:STATIC"> <header> <span class="visibility">EXTERNAL</span> <span class="type">RESOURCE-TYPE</span> <h4 class="name"> <a href="#RESOURCE-TYPE%20RADIANCE-CORE%3ASTATIC">STATIC</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/resource.lisp#L11">Source</a>  </header> <div class="docstring"><pre>Returns an internal URI that is a representation of the requested static resource.

Requires a single argument, namely the name of the resource.</pre></div> </article> </li>  <li> <article class="definition class" id="CLASS RADIANCE-CORE:API-ENDPOINT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20RADIANCE-CORE%3AAPI-ENDPOINT">API-ENDPOINT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/api.lisp#L69">Source</a>  </header> <div class="docstring"><pre>Container for an api endpoint.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ANAME" class="xref">NAME</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AHANDLER" class="xref">HANDLER</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AARGSLIST" class="xref">ARGSLIST</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AREQUEST-HANDLER" class="xref">REQUEST-HANDLER</a></pre></div> </article> </li>  <li> <article class="definition class" id="CLASS RADIANCE-CORE:COOKIE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20RADIANCE-CORE%3ACOOKIE">COOKIE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/request.lisp#L65">Source</a>  </header> <div class="docstring"><pre>Container class for a cookie.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ANAME" class="xref">NAME</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AVALUE" class="xref">VALUE</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ADOMAIN" class="xref">DOMAIN</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3APATH" class="xref">PATH</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AEXPIRES" class="xref">EXPIRES</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AHTTP-ONLY" class="xref">HTTP-ONLY</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ASECURE" class="xref">SECURE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AREQUEST" class="xref">REQUEST</a>
See <a href="#CLASS%20RADIANCE-CORE%3ARESPONSE" class="xref">RESPONSE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ACOOKIE-HEADER" class="xref">COOKIE-HEADER</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ACOOKIE" class="xref">COOKIE</a></pre></div> </article> </li>  <li> <article class="definition class" id="CLASS RADIANCE-CORE:DOCUMENTABLE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20RADIANCE-CORE%3ADOCUMENTABLE">DOCUMENTABLE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/documentable.lisp#L9">Source</a>  </header> <div class="docstring"><pre>Superclass for all classes that can be documented.

Use DOCUMENTATION to access the docstring.

See <a href="http://l1sp.org/cl/documentation" class="xref">CL:DOCUMENTATION</a>
See <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-DOCUMENTABLE" class="xref">DEFINE-DOCUMENTABLE</a></pre></div> </article> </li>  <li> <article class="definition class" id="CLASS RADIANCE-CORE:HOOK"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20RADIANCE-CORE%3AHOOK">HOOK</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition class" id="CLASS RADIANCE-CORE:MODULE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20RADIANCE-CORE%3AMODULE">MODULE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>ASDF system subclass for modules.

See <a href="https://Shinmera.github.io/modularize/#FUNCTION%20MODULARIZE%3AMODULE" class="xref">MODULARIZE:MODULE</a></pre></div> </article> </li>  <li> <article class="definition class" id="CLASS RADIANCE-CORE:OPTION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20RADIANCE-CORE%3AOPTION">OPTION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/options.lisp#L11">Source</a>  </header> <div class="docstring"><pre>Container class for an option expander.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AOPTION-TYPE" class="xref">OPTION-TYPE</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ANAME" class="xref">NAME</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AEXPANDER" class="xref">EXPANDER</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AOPTION" class="xref">OPTION</a></pre></div> </article> </li>  <li> <article class="definition class" id="CLASS RADIANCE-CORE:REQUEST"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20RADIANCE-CORE%3AREQUEST">REQUEST</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/request.lisp#L17">Source</a>  </header> <div class="docstring"><pre>Container class to represent a request that was made against radiance.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AURI" class="xref">URI</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AHTTP-METHOD" class="xref">HTTP-METHOD</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AHEADERS" class="xref">HEADERS</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3APOST-DATA" class="xref">POST-DATA</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AGET-DATA" class="xref">GET-DATA</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ACOOKIES" class="xref">COOKIES</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ADOMAIN" class="xref">DOMAIN</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AREMOTE" class="xref">REMOTE</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ADATA" class="xref">DATA</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AISSUE-TIME" class="xref">ISSUE-TIME</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AREQUEST" class="xref">REQUEST</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AUSER-AGENT" class="xref">USER-AGENT</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AREFERER" class="xref">REFERER</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ACOOKIE" class="xref">COOKIE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AGET-VAR" class="xref">GET-VAR</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3APOST-VAR" class="xref">POST-VAR</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3APOST%2FGET" class="xref">POST/GET</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AHEADER" class="xref">HEADER</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AFILE" class="xref">FILE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AREQUEST-RUN-TIME" class="xref">REQUEST-RUN-TIME</a></pre></div> </article> </li>  <li> <article class="definition class" id="CLASS RADIANCE-CORE:RESOURCE-TYPE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20RADIANCE-CORE%3ARESOURCE-TYPE">RESOURCE-TYPE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/resource.lisp#L11">Source</a>  </header> <div class="docstring"><pre>Container class for a resource type.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ANAME" class="xref">NAME</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ALOCATORS" class="xref">LOCATORS</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ARESOURCE-TYPE" class="xref">RESOURCE-TYPE</a>
See <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-RESOURCE-TYPE" class="xref">DEFINE-RESOURCE-TYPE</a></pre></div> </article> </li>  <li> <article class="definition class" id="CLASS RADIANCE-CORE:RESPONSE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20RADIANCE-CORE%3ARESPONSE">RESPONSE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/request.lisp#L45">Source</a>  </header> <div class="docstring"><pre>Container class to represent a response that should be sent out for a request.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ADATA" class="xref">DATA</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ARETURN-CODE" class="xref">RETURN-CODE</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ACONTENT-TYPE" class="xref">CONTENT-TYPE</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AEXTERNAL-FORMAT" class="xref">EXTERNAL-FORMAT</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AHEADERS" class="xref">HEADERS</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ACOOKIES" class="xref">COOKIES</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ACOOKIE" class="xref">COOKIE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AHEADER" class="xref">HEADER</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AREDIRECT" class="xref">REDIRECT</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ASERVE-FILE" class="xref">SERVE-FILE</a></pre></div> </article> </li>  <li> <article class="definition class" id="CLASS RADIANCE-CORE:ROUTE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20RADIANCE-CORE%3AROUTE">ROUTE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/routing.lisp#L9">Source</a>  </header> <div class="docstring"><pre>Container class for a URI translation route.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ANAME" class="xref">NAME</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ADIRECTION" class="xref">DIRECTION</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3APRIORITY" class="xref">PRIORITY</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ATRANSLATOR" class="xref">TRANSLATOR</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AROUTE" class="xref">ROUTE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AREMOVE-ROUTE" class="xref">REMOVE-ROUTE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ALIST-ROUTES" class="xref">LIST-ROUTES</a>
See <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-ROUTE" class="xref">DEFINE-ROUTE</a></pre></div> </article> </li>  <li> <article class="definition class" id="CLASS RADIANCE-CORE:URI"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20RADIANCE-CORE%3AURI">URI</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/uri.lisp#L11">Source</a>  </header> <div class="docstring"><pre>Class to represent a URI in the system.

URIs are used to access and define resources that should
be accessible both internally and externally.

If MATCHER is T, then the matcher is automatically set
to the scanner created from the path or an empty string
should the path be NIL.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ADOMAINS" class="xref">DOMAINS</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3APORT" class="xref">PORT</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3APATH" class="xref">PATH</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AMATCHER" class="xref">MATCHER</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AMAKE-URI" class="xref">MAKE-URI</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ACOPY-URI" class="xref">COPY-URI</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AURI%3C" class="xref">URI&lt;</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AURI%3E" class="xref">URI&gt;</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AURI%3D" class="xref">URI=</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AURI-MATCHES" class="xref">URI-MATCHES</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AMERGE-URIS" class="xref">MERGE-URIS</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AREPRESENT-URI" class="xref">REPRESENT-URI</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AURI-TO-URL" class="xref">URI-TO-URL</a></pre></div> </article> </li>  <li> <article class="definition class" id="CLASS RADIANCE-CORE:URI-DISPATCHER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20RADIANCE-CORE%3AURI-DISPATCHER">URI-DISPATCHER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/dispatch.lisp#L10">Source</a>  </header> <div class="docstring"><pre>Container object for a link between a uri and a page function.

A uri-dispatcher should be called from a request and is then
responsible for generating the content of the response.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ANAME" class="xref">NAME</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ADISPATCH-FUNCTION" class="xref">DISPATCH-FUNCTION</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3APRIORITY" class="xref">PRIORITY</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ADISPATCH" class="xref">DISPATCH</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AURI-DISPATCHER" class="xref">URI-DISPATCHER</a></pre></div> </article> </li>  <li> <article class="definition class" id="CLASS RADIANCE-CORE:VIRTUAL-MODULE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20RADIANCE-CORE%3AVIRTUAL-MODULE">VIRTUAL-MODULE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/interfaces.lisp#L10">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition condition" id="CONDITION RADIANCE-CORE:API-ARGUMENT-INVALID"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20RADIANCE-CORE%3AAPI-ARGUMENT-INVALID">API-ARGUMENT-INVALID</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/conditions.lisp#L77">Source</a>  </header> <div class="docstring"><pre>Error signalled when an argument was not of a permitted value.

Contains an ARGUMENT slot that holds the name of the invalid
argument.

See <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3AAPI-ERROR" class="xref">API-ERROR</a></pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION RADIANCE-CORE:API-ARGUMENT-MISSING"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20RADIANCE-CORE%3AAPI-ARGUMENT-MISSING">API-ARGUMENT-MISSING</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/conditions.lisp#L72">Source</a>  </header> <div class="docstring"><pre>Error signalled when a required argument for the api endpoint was not supplied.

Contains an ARGUMENT slot that holds the name of the missing
argument.

See <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3AAPI-ERROR" class="xref">API-ERROR</a></pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION RADIANCE-CORE:API-AUTH-ERROR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20RADIANCE-CORE%3AAPI-AUTH-ERROR">API-AUTH-ERROR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/conditions.lisp#L68">Source</a>  </header> <div class="docstring"><pre>Error signalled when a request to an api endpoint was unauthorised.

See <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3AAPI-ERROR" class="xref">API-ERROR</a></pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION RADIANCE-CORE:API-CALL-NOT-FOUND"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20RADIANCE-CORE%3AAPI-CALL-NOT-FOUND">API-CALL-NOT-FOUND</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/conditions.lisp#L82">Source</a>  </header> <div class="docstring"><pre>Error signalled when an api endpoint was requested that does not exist.

See <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3AAPI-ERROR" class="xref">API-ERROR</a></pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION RADIANCE-CORE:API-ERROR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20RADIANCE-CORE%3AAPI-ERROR">API-ERROR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/conditions.lisp#L64">Source</a>  </header> <div class="docstring"><pre>Base condition class for api related errors.

See <a href="#CONDITION%20RADIANCE-CORE%3AREQUEST-ERROR" class="xref">REQUEST-ERROR</a></pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION RADIANCE-CORE:API-UNKNOWN-FORMAT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20RADIANCE-CORE%3AAPI-UNKNOWN-FORMAT">API-UNKNOWN-FORMAT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/conditions.lisp#L85">Source</a>  </header> <div class="docstring"><pre>Error signalled when an api format was required that is unknown.

Contains a FORMAT slot that holds the name of the requested
but missing api format.

See <a href="#FUNCTION%20RADIANCE-CORE%3AAPI-FORMAT" class="xref">API-FORMAT</a>
See <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3AAPI-ERROR" class="xref">API-ERROR</a></pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION RADIANCE-CORE:BACKWARDS-MIGRATION-NOT-ALLOWED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20RADIANCE-CORE%3ABACKWARDS-MIGRATION-NOT-ALLOWED">BACKWARDS-MIGRATION-NOT-ALLOWED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/conditions.lisp#L31">Source</a>  </header> <div class="docstring"><pre>Error signalled when a migration from a later version to an earlier version is attempted.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AMIGRATE" class="xref">MIGRATE</a>
See <a href="#CONDITION%20RADIANCE-CORE%3ARADIANCE-ERROR" class="xref">RADIANCE-ERROR</a></pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION RADIANCE-CORE:DEFINITION-FOR-SHARED-PACKAGE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20RADIANCE-CORE%3ADEFINITION-FOR-SHARED-PACKAGE">DEFINITION-FOR-SHARED-PACKAGE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/conditions.lisp#L20">Source</a>  </header> <div class="docstring"><pre>Warning signalled when a definition is made on a symbol that may lead to unintentional clashes.

This warning gives you an indication for when you might be
accidentally exposing your definition to overrides by other
systems.

See <a href="#CONDITION%20RADIANCE-CORE%3ARADIANCE-WARNING" class="xref">RADIANCE-WARNING</a></pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION RADIANCE-CORE:ENVIRONMENT-NOT-SET"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20RADIANCE-CORE%3AENVIRONMENT-NOT-SET">ENVIRONMENT-NOT-SET</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/conditions.lisp#L37">Source</a>  </header> <div class="docstring"><pre>Error signalled when an action was performed that requires an initialised environment, but no environment has been configured yet.

See <a href="#FUNCTION%20RADIANCE-CORE%3AENVIRONMENT" class="xref">ENVIRONMENT</a>
See <a href="#CONDITION%20RADIANCE-CORE%3ARADIANCE-ERROR" class="xref">RADIANCE-ERROR</a></pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION RADIANCE-CORE:FILE-TO-SERVE-DOES-NOT-EXIST"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20RADIANCE-CORE%3AFILE-TO-SERVE-DOES-NOT-EXIST">FILE-TO-SERVE-DOES-NOT-EXIST</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/conditions.lisp#L123">Source</a>  </header> <div class="docstring"><pre>Error signalled when a file is attempted to be served that does not exist on the filesystem.

Contains a FILE slot that holds the pathname of the requested
file.

See <a href="#CONDITION%20RADIANCE-CORE%3AREQUEST-ERROR" class="xref">REQUEST-ERROR</a></pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION RADIANCE-CORE:INTERFACE-IMPLEMENTATION-NOT-SET"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20RADIANCE-CORE%3AINTERFACE-IMPLEMENTATION-NOT-SET">INTERFACE-IMPLEMENTATION-NOT-SET</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/conditions.lisp#L98">Source</a>  </header> <div class="docstring"><pre>Error signalled when an implementation for an interface was attempted to be loaded, but no corresponding implementation is configured.

See <a href="#CONDITION%20RADIANCE-CORE%3AINTERFACE-CONDITION" class="xref">INTERFACE-CONDITION</a>
See <a href="#CONDITION%20RADIANCE-CORE%3ARADIANCE-ERROR" class="xref">RADIANCE-ERROR</a></pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION RADIANCE-CORE:INTERNAL-ERROR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20RADIANCE-CORE%3AINTERNAL-ERROR">INTERNAL-ERROR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/conditions.lisp#L43">Source</a>  </header> <div class="docstring"><pre>Base condition class for internal errors that are unrecoverable.

See <a href="#CONDITION%20RADIANCE-CORE%3ARADIANCE-ERROR" class="xref">RADIANCE-ERROR</a></pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION RADIANCE-CORE:NO-SUCH-POST-PARAMETER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20RADIANCE-CORE%3ANO-SUCH-POST-PARAMETER">NO-SUCH-POST-PARAMETER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/conditions.lisp#L113">Source</a>  </header> <div class="docstring"><pre>Error signalled when a post parameter was requested that does not exist.

Contains a PARAMETER slot that holds the name of the requested
slot.

See <a href="#CONDITION%20RADIANCE-CORE%3AREQUEST-ERROR" class="xref">REQUEST-ERROR</a></pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION RADIANCE-CORE:POST-PARAMETER-NOT-A-FILE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20RADIANCE-CORE%3APOST-PARAMETER-NOT-A-FILE">POST-PARAMETER-NOT-A-FILE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/conditions.lisp#L118">Source</a>  </header> <div class="docstring"><pre>Error signalled when a post parameter was attempted to be interpreted as a file, while it is not actually one.

Contains a PARAMETER slot that holds the name of the requested
slot.

See <a href="#CONDITION%20RADIANCE-CORE%3AREQUEST-ERROR" class="xref">REQUEST-ERROR</a></pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION RADIANCE-CORE:RADIANCE-CONDITION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20RADIANCE-CORE%3ARADIANCE-CONDITION">RADIANCE-CONDITION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/conditions.lisp#L9">Source</a>  </header> <div class="docstring"><pre>Base condition class for all conditions related to radiance.

Contains a MESSAGE slot that may hold a string that
explains the reason around the condition in human-
readable format.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AMESSAGE" class="xref">MESSAGE</a></pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION RADIANCE-CORE:REQUEST-DENIED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20RADIANCE-CORE%3AREQUEST-DENIED">REQUEST-DENIED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/conditions.lisp#L60">Source</a>  </header> <div class="docstring"><pre>Error signalled when a resource was requested that cannot be displayed to the requestor as they do not have sufficient permission.

See <a href="#CONDITION%20RADIANCE-CORE%3AREQUEST-ERROR" class="xref">REQUEST-ERROR</a></pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION RADIANCE-CORE:REQUEST-EMPTY"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20RADIANCE-CORE%3AREQUEST-EMPTY">REQUEST-EMPTY</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/conditions.lisp#L52">Source</a>  </header> <div class="docstring"><pre>Error signalled when the reply body to the request was empty.

See <a href="#CONDITION%20RADIANCE-CORE%3AREQUEST-ERROR" class="xref">REQUEST-ERROR</a></pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION RADIANCE-CORE:REQUEST-ERROR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20RADIANCE-CORE%3AREQUEST-ERROR">REQUEST-ERROR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/conditions.lisp#L46">Source</a>  </header> <div class="docstring"><pre>Base condition class for errors related to requests.

Contains a REQUEST slot that holds the request that caused
the issue.

See <a href="#CONDITION%20RADIANCE-CORE%3ARADIANCE-ERROR" class="xref">RADIANCE-ERROR</a></pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION RADIANCE-CORE:REQUEST-NOT-FOUND"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20RADIANCE-CORE%3AREQUEST-NOT-FOUND">REQUEST-NOT-FOUND</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/conditions.lisp#L56">Source</a>  </header> <div class="docstring"><pre>Error signalled when a resource was requested that does not exist.

See <a href="#CONDITION%20RADIANCE-CORE%3AREQUEST-ERROR" class="xref">REQUEST-ERROR</a></pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION RADIANCE-CORE:SYSTEM-HAS-NO-VERSION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20RADIANCE-CORE%3ASYSTEM-HAS-NO-VERSION">SYSTEM-HAS-NO-VERSION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/conditions.lisp#L26">Source</a>  </header> <div class="docstring"><pre>Error signalled when an ASDF system does not store a version string.

Without a version string, Radiance is incapable of tracking what the
current version of a system is and is thus unable to automatically
migrate it.

This error should be continuable.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AMIGRATE" class="xref">MIGRATE</a>
See <a href="#CONDITION%20RADIANCE-CORE%3ARADIANCE-ERROR" class="xref">RADIANCE-ERROR</a></pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION RADIANCE-CORE:UNPARSABLE-URI-STRING"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20RADIANCE-CORE%3AUNPARSABLE-URI-STRING">UNPARSABLE-URI-STRING</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/conditions.lisp#L108">Source</a>  </header> <div class="docstring"><pre>Error signalled when a string was attempted to be turned into an URI object that could not be parsed according to the URI rules.

Contains a STRING slot that holds the string that was attempted
to be parsed.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AURI" class="xref">URI</a>
See <a href="#CONDITION%20RADIANCE-CORE%3ARADIANCE-ERROR" class="xref">RADIANCE-ERROR</a></pre></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK RADIANCE-CORE:ENVIRONMENT-CHANGE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20RADIANCE-CORE%3AENVIRONMENT-CHANGE">ENVIRONMENT-CHANGE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#33:0">Source</a>  </header> <div class="docstring"><pre>This hook is triggered after the environment has been changed.

At this point the environment is already set up and the
configuration has been reloaded or purged as necessary.</pre></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK RADIANCE-CORE:REQUEST"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20RADIANCE-CORE%3AREQUEST">REQUEST</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">REQUEST</li>    <li class="argument">RESPONSE</li>  </ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#33:0">Source</a>  </header> <div class="docstring"><pre>This hook is triggered whenever a request is executed.

It has two arguments: the request and the response object.

Note that at this point dispatch has not yet happened, but
the routing is already complete and the request's URI should
be in the internal representation.</pre></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK RADIANCE-CORE:SERVER-READY"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20RADIANCE-CORE%3ASERVER-READY">SERVER-READY</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#145:0">Source</a>  </header> <div class="docstring"><pre>This hook is triggered after the server has been started up and is ready to receive requests.

Note that this is a sticky hook and will remain active
until SERVER-STOP is triggered.</pre></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK RADIANCE-CORE:SERVER-SHUTDOWN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20RADIANCE-CORE%3ASERVER-SHUTDOWN">SERVER-SHUTDOWN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#33:0">Source</a>  </header> <div class="docstring"><pre>This hook is triggered after the server has been stopped and is shut down.

Note that this causes the SERVER-START hook to become
unstickied.

See <a href="#HOOK%20RADIANCE-CORE%3ASERVER-START" class="xref">SERVER-START</a></pre></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK RADIANCE-CORE:SERVER-START"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20RADIANCE-CORE%3ASERVER-START">SERVER-START</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#145:0">Source</a>  </header> <div class="docstring"><pre>This hook is triggered right after the server interface has been loaded.

At this point the server should be loaded to go, but not
necessarily yet running. This hook in itself causes the
server to start itself up.

Note that this is a sticky hook and will remain active
until SERVER-SHUTDOWN is triggered.

See <a href="#HOOK%20RADIANCE-CORE%3ASERVER-READY" class="xref">SERVER-READY</a>
See <a href="#HOOK%20RADIANCE-CORE%3ASERVER-SHUTDOWN" class="xref">SERVER-SHUTDOWN</a></pre></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK RADIANCE-CORE:SERVER-STOP"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20RADIANCE-CORE%3ASERVER-STOP">SERVER-STOP</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#33:0">Source</a>  </header> <div class="docstring"><pre>This hook causes the server to stop and shut down.

Note that this causes the SERVER-READY hook to become
unstickied.

See <a href="#HOOK%20RADIANCE-CORE%3ASERVER-READY" class="xref">SERVER-READY</a></pre></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK RADIANCE-CORE:SHUTDOWN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20RADIANCE-CORE%3ASHUTDOWN">SHUTDOWN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#33:0">Source</a>  </header> <div class="docstring"><pre>This hook is triggered at the beginning of the shutdown sequence.

At this point nothing has been shut down yet.

Note that this causes the STARTUP hook to become
unstickied.

See <a href="#FUNCTION%20RADIANCE-CORE%3ASTARTUP" class="xref">STARTUP</a></pre></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK RADIANCE-CORE:SHUTDOWN-DONE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20RADIANCE-CORE%3ASHUTDOWN-DONE">SHUTDOWN-DONE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#33:0">Source</a>  </header> <div class="docstring"><pre>This hook is triggered at the end of the shutdown sequence.

At this point the sequence is complete and the system
should be completely shut down.</pre></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK RADIANCE-CORE:STARTUP"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20RADIANCE-CORE%3ASTARTUP">STARTUP</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#145:0">Source</a>  </header> <div class="docstring"><pre>This hook is triggered early in the startup sequence.

At this point the environment has been set and the logger
interface has been loaded, but nothing else has been
started yet.

Note that this is a sticky hook and will remain active
until SHUTDOWN is triggered.

See <a href="#FUNCTION%20RADIANCE-CORE%3ASHUTDOWN" class="xref">SHUTDOWN</a></pre></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK RADIANCE-CORE:STARTUP-DONE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20RADIANCE-CORE%3ASTARTUP-DONE">STARTUP-DONE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#33:0">Source</a>  </header> <div class="docstring"><pre>This hook is triggered at the end of the startup sequence.

At this point the sequence is complete and the system
should be readily running.</pre></div> </article> </li>  <li> <article class="definition uri-dispatcher" id="URI-DISPATCHER RADIANCE-CORE:API"> <header> <span class="visibility">EXTERNAL</span> <span class="type">URI-DISPATCHER</span> <h4 class="name"> <a href="#URI-DISPATCHER%20RADIANCE-CORE%3AAPI">API</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/dispatch.lisp#L10">Source</a>  </header> <div class="docstring"><pre>Standard page to handle and dispatch to API endpoints.

Respects the &quot;browser&quot; post/get property, which if set to
the string &quot;true&quot;, causes a redirect to the referer on
an api-error rather than displaying a machine-readable
error output.

See <a href="#FUNCTION%20RADIANCE-CORE%3AAPI-ENDPOINT" class="xref">API-ENDPOINT</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ACALL-API-REQUEST" class="xref">CALL-API-REQUEST</a></pre></div> </article> </li>  <li> <article class="definition uri-dispatcher" id="URI-DISPATCHER RADIANCE-CORE:FAVICON"> <header> <span class="visibility">EXTERNAL</span> <span class="type">URI-DISPATCHER</span> <h4 class="name"> <a href="#URI-DISPATCHER%20RADIANCE-CORE%3AFAVICON">FAVICON</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/dispatch.lisp#L10">Source</a>  </header> <div class="docstring"><pre>Standard page for the favicon.ico root image.</pre></div> </article> </li>  <li> <article class="definition uri-dispatcher" id="URI-DISPATCHER RADIANCE-CORE:ROBOTS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">URI-DISPATCHER</span> <h4 class="name"> <a href="#URI-DISPATCHER%20RADIANCE-CORE%3AROBOTS">ROBOTS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/dispatch.lisp#L10">Source</a>  </header> <div class="docstring"><pre>Standard page for the robots.txt root file.</pre></div> </article> </li>  <li> <article class="definition uri-dispatcher" id="URI-DISPATCHER RADIANCE-CORE:STATIC"> <header> <span class="visibility">EXTERNAL</span> <span class="type">URI-DISPATCHER</span> <h4 class="name"> <a href="#URI-DISPATCHER%20RADIANCE-CORE%3ASTATIC">STATIC</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/dispatch.lisp#L10">Source</a>  </header> <div class="docstring"><pre>Standard delegate for static files.

The address must be of the form /static/module/path
where the path is translated to one relative to the
module's static resource directory.

See <a href="#FUNCTION%20RADIANCE-CORE%3ASTATIC-FILE" class="xref">STATIC-FILE</a></pre></div> </article> </li>  <li> <article class="definition api-endpoint callable" id="API-ENDPOINT RADIANCE-CORE:"> <header> <span class="visibility">EXTERNAL</span> <span class="type">API-ENDPOINT</span> <h4 class="name"> <a href="#API-ENDPOINT%20RADIANCE-CORE%3A"></a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/api.lisp#L69">Source</a>  </header> <div class="docstring"><pre>Fallback api endpoint that signals an API-CALL-NOT-FOUND error.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:*REQUEST*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3A%2AREQUEST%2A">*REQUEST*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/request.lisp#L14">Source</a>  </header> <div class="docstring"><pre>Returns the value of *REQUEST*

See <a href="#FUNCTION%20RADIANCE-CORE%3A%2AREQUEST%2A" class="xref">*REQUEST*</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:*RESPONSE*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3A%2ARESPONSE%2A">*RESPONSE*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/request.lisp#L15">Source</a>  </header> <div class="docstring"><pre>Returns the value of *RESPONSE*

See <a href="#FUNCTION%20RADIANCE-CORE%3A%2ARESPONSE%2A" class="xref">*RESPONSE*</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:ABORT-HANDLING"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AABORT-HANDLING">ABORT-HANDLING</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/dispatch.lisp#L94">Source</a>  </header> <div class="docstring"><pre>Aborts the current handling and continues dispatch.

This is a wrapper function that simply invokes the
ABORT-HANDLING restart.

See <a href="#FUNCTION%20RADIANCE-CORE%3ADISPATCH" class="xref">DISPATCH</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:ADD-DOMAIN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AADD-DOMAIN">ADD-DOMAIN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">DOMAIN</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/defaults.lisp#L151">Source</a>  </header> <div class="docstring"><pre>Adds a new top-level domain to the list of recognised domains.

Adds the name to (MCONFIG :RADIANCE :SERVER :DOMAINS)

The top-level domain as thought of by radiance is any
domain that does not contain any subdomains in its name.
For example, if your website is hosted on example.com
then that would be a top-level domain. Or, if your domain
is some.deep.thing.network.internal then that too would be
a top-level domain.

Radiance needs to know this in order to be able to distinguish
when subdomains for its own purposes start and end since it
is not generally predictable for an arbitrary domain name.

See <a href="#FUNCTION%20RADIANCE-CORE%3AMCONFIG" class="xref">MCONFIG</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AREMOVE-DOMAIN" class="xref">REMOVE-DOMAIN</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:API-ENDPOINT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AAPI-ENDPOINT">API-ENDPOINT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PATH</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/api.lisp#L50">Source</a>  </header> <div class="docstring"><pre>Accessor to the api-endpoint instances.

See <a href="#FUNCTION%20RADIANCE-CORE%3AAPI-ENDPOINT" class="xref">API-ENDPOINT</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AREMOVE-API-ENDPOINT" class="xref">REMOVE-API-ENDPOINT</a>
See LIST-API-ENDPOINT</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:(SETF API-ENDPOINT)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3A%28SETF%20API-ENDPOINT%29">(SETF API-ENDPOINT)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PAGE</li>    <li class="argument">PATH</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/api.lisp#L53">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:API-FORMAT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AAPI-FORMAT">API-FORMAT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/api.lisp#L13">Source</a>  </header> <div class="docstring"><pre>Accessor to the api formats.

The api format function should accept a single argument, the
object to translate, and should configure the response to
output the correct data, or in the very least return an
acceptable value for the response's data.

The name must be a string designator.

See <a href="#VARIABLE%20RADIANCE-CORE%3A%2AAPI-FORMATS%2A" class="xref">*API-FORMATS*</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AREMOVE-API-FORMAT" class="xref">REMOVE-API-FORMAT</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ALIST-API-FORMATS" class="xref">LIST-API-FORMATS</a>
See <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-API-FORMAT" class="xref">DEFINE-API-FORMAT</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AAPI-OUTPUT" class="xref">API-OUTPUT</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:(SETF API-FORMAT)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3A%28SETF%20API-FORMAT%29">(SETF API-FORMAT)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PARSE-FUNC</li>    <li class="argument">NAME</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/api.lisp#L16">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:API-OUTPUT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AAPI-OUTPUT">API-OUTPUT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">DATA</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">STATUS</li>    <li class="argument">MESSAGE</li>    <li class="argument">FORMAT</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/api.lisp#L31">Source</a>  </header> <div class="docstring"><pre>Emits the given data as a response.

This function should be called for any and all return data
from an api endpoint. It ensures the data proper structure,
failure handling, and data translation to the desired output
format.

The proper structure for an API response from an endpoint
should be an object/table/map with the following fields:

  status   --- The HTTP status code.
  message  --- A supplied human-readable message that describes
               the success or failure.
  data     --- The data payload of the api output.

The types of objects that can be serialised via this function
are restricted to the following set:

- REAL
- (EQL NIL)
- (EQL T)
- STRING
- LIST (proper ones)
- VECTOR
- HASH-TABLE

An api format may support additional types, but is not
required to. Thus, in order to be conforming, the data you
pass to this function must not reference any values that
have a type outside of this set.

See <a href="#FUNCTION%20RADIANCE-CORE%3AAPI-FORMAT" class="xref">API-FORMAT</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:CALL-API"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ACALL-API">CALL-API</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">API-ENDPOINT</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">ARGUMENTS</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/api.lisp#L116">Source</a>  </header> <div class="docstring"><pre>Calls the given api-endpoint directly with the supplied arguments.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AHANDLER" class="xref">HANDLER</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AENSURE-API-ENDPOINT" class="xref">ENSURE-API-ENDPOINT</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:CALL-API-REQUEST"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ACALL-API-REQUEST">CALL-API-REQUEST</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">API-ENDPOINT</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">REQUEST</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/api.lisp#L111">Source</a>  </header> <div class="docstring"><pre>Calls the given api-endpoint with the given request.

This rebinds *REQUEST*.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AREQUEST-HANDLER" class="xref">REQUEST-HANDLER</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AENSURE-API-ENDPOINT" class="xref">ENSURE-API-ENDPOINT</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:CHECK-ENVIRONMENT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ACHECK-ENVIRONMENT">CHECK-ENVIRONMENT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/environment.lisp#L80">Source</a>  </header> <div class="docstring"><pre>Checks whether the environment is properly configured.

If no environment is present, an error of type
ENVIRONMENT-NOT-SET is signalled. Two restarts will
be present at the time:
  CONTINUE         --- Sets the environment to &quot;default&quot;
  SET-ENVIRONMENT  --- Sets the environment to the one
                       passed in the argument.

See <a href="#FUNCTION%20RADIANCE-CORE%3AENVIRONMENT" class="xref">ENVIRONMENT</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:COOKIE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ACOOKIE">COOKIE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">REQUEST/RESPONSE</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/request.lisp#L109">Source</a>  </header> <div class="docstring"><pre>Accesses the cookie instance of the request.

The SETF function will construct the proper cookie instance for you.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ACOOKIES" class="xref">COOKIES</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ACOOKIE" class="xref">COOKIE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3A%2ARESPONSE%2A" class="xref">*RESPONSE*</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3A%2AREQUEST%2A" class="xref">*REQUEST*</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:(SETF COOKIE)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3A%28SETF%20COOKIE%29">(SETF COOKIE)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE</li>    <li class="argument">NAME</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">DOMAIN</li>    <li class="argument">PATH</li>    <li class="argument">TIMEOUT</li>    <li class="argument">HTTP-ONLY</li>    <li class="argument">SECURE</li>    <li class="argument">RESPONSE</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/request.lisp#L112">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:COOKIE-HEADER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ACOOKIE-HEADER">COOKIE-HEADER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">COOKIE</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/request.lisp#L88">Source</a>  </header> <div class="docstring"><pre>Returns a string representation of the cookie as a header.

See <a href="#FUNCTION%20RADIANCE-CORE%3ACOOKIE" class="xref">COOKIE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:COPY-URI"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ACOPY-URI">COPY-URI</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">URI</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/uri.lisp#L53">Source</a>  </header> <div class="docstring"><pre>Creates a full copy of the URI.

If URI is a STRING, then it is parsed.

See <a href="#FUNCTION%20RADIANCE-CORE%3APARSE-URI" class="xref">PARSE-URI</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AURI" class="xref">URI</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:CREATE-MODULE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ACREATE-MODULE">CREATE-MODULE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">BASE-FILE</li>    <li class="argument">DEPENDENCIES</li>    <li class="argument">ROOT</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/modules.lisp#L141">Source</a>  </header> <div class="docstring"><pre>Creates a new stub module.

Creates the following files and directories:
  name/
  name/static
  name/template
  name/name.asd
  name/name.lisp

If Quicklisp is present, the local-projects are registered
and the project is loaded after the files have been created.

See <a href="#VARIABLE%20RADIANCE-CORE%3A%2AMODULES-DIRECTORY%2A" class="xref">*MODULES-DIRECTORY*</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:DEFAULTED-MCONFIG"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ADEFAULTED-MCONFIG">DEFAULTED-MCONFIG</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">DEFAULT</li>    <li class="argument">MODULE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">PATH</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/environment.lisp#L127">Source</a>  </header> <div class="docstring"><pre>Sets the configuration variable to the given default if it has not been set previously and returns the value.

See <a href="https://github.com/Shinmera/ubiquitous#GENERIC-FUNCTION%20UBIQUITOUS%3ADEFAULTED-VALUE" class="xref">UBIQUITOUS:DEFAULTED-VALUE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AMCONFIG-STORAGE" class="xref">MCONFIG-STORAGE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:DELETE-MODULE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ADELETE-MODULE">DELETE-MODULE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MODULE</li>  </ul>  </header> <div class="docstring"><pre>Attempts to completely delete the given module.

This first calls the delete hooks, then demodularizes
the package, unbinds all symbols in the package from
values and functions, and finally deletes the package.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:DESCRIBE-MODULE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ADESCRIBE-MODULE">DESCRIBE-MODULE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MODULE</li>    <li class="argument">STREAM</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/modules.lisp#L74">Source</a>  </header> <div class="docstring"><pre>Writes a human-readable description of the module to the stream.

This is useful for inspection and debugging, to see a quick
overview of what the module does or has. This function is
called by DESCRIBE if it is called on a module.

Signals an error if the argument cannot be coerced to a module.

See <a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-DOMAIN" class="xref">MODULE-DOMAIN</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-PERMISSIONS" class="xref">MODULE-PERMISSIONS</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-REQUIRED-INTERFACES" class="xref">MODULE-REQUIRED-INTERFACES</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-REQUIRED-SYSTEMS" class="xref">MODULE-REQUIRED-SYSTEMS</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-PAGES" class="xref">MODULE-PAGES</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-API-ENDPOINTS" class="xref">MODULE-API-ENDPOINTS</a>
See <a href="https://Shinmera.github.io/modularize/#FUNCTION%20MODULARIZE%3AMODULE" class="xref">MODULARIZE:MODULE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:DISPATCH"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ADISPATCH">DISPATCH</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">URI</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/dispatch.lisp#L86">Source</a>  </header> <div class="docstring"><pre>Calls the appropriate uri-dispatcher that is set up to handle the given uri.

Usually, only a single uri-dispatcher will be called, if any.
In order for a dispatcher to be called, the uri must match
the dispatcher's by URI-MATCHES. In the case where two
uri-dispatchers have a matching uri, then the one with the
higher priority will be executed. This is achived by simply
following the order present in the *URI-PRIORITY* vector.

A uri-dispatcher that has been dispatched may call the
ABORT-HANDLING restart, in which case it is considered as 
not having matched, and the dispatching continues.

If no matching uri-dispatcher is available, the function
in *URI-FALLBACK* will be called instead.

See <a href="#FUNCTION%20RADIANCE-CORE%3AURI-MATCHES" class="xref">URI-MATCHES</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AURI-DISPATCHER%3E" class="xref">URI-DISPATCHER&gt;</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ADISPATCH-FUNCTION" class="xref">DISPATCH-FUNCTION</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AABORT-HANDLING" class="xref">ABORT-HANDLING</a>
See <a href="#VARIABLE%20RADIANCE-CORE%3A%2AURI-PRIORITY%2A" class="xref">*URI-PRIORITY*</a>
See <a href="#VARIABLE%20RADIANCE-CORE%3A%2AURI-FALLBACK%2A" class="xref">*URI-FALLBACK*</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:ENSURE-URI"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AENSURE-URI">ENSURE-URI</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">URI-ISH</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/uri.lisp#L48">Source</a>  </header> <div class="docstring"><pre>Ensures that the object is a URI and returns it.

If URI-ISH is a STRING, then it is parsed.

See <a href="#FUNCTION%20RADIANCE-CORE%3APARSE-URI" class="xref">PARSE-URI</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AURI" class="xref">URI</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:ENVIRONMENT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AENVIRONMENT">ENVIRONMENT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/environment.lisp#L61">Source</a>  </header> <div class="docstring"><pre>Accessor to the current environment.

The environment decides the namespace for the configuration
and data files of Radiance and all modules that use its system.

Note that changing the environment after one has already
been loaded and modules have been loaded with it, is currently
not supported and will lead to strange behaviour.

See <a href="#VARIABLE%20RADIANCE-CORE%3A%2AENVIRONMENT%2A" class="xref">*ENVIRONMENT*</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ACHECK-ENVIRONMENT" class="xref">CHECK-ENVIRONMENT</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AMCONFIG-PATHNAME" class="xref">MCONFIG-PATHNAME</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:(SETF ENVIRONMENT)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3A%28SETF%20ENVIRONMENT%29">(SETF ENVIRONMENT)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ENVIRONMENT</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/environment.lisp#L64">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:ENVIRONMENT-MODULE-PATHNAME"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AENVIRONMENT-MODULE-PATHNAME">ENVIRONMENT-MODULE-PATHNAME</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MODULE</li>    <li class="argument">KIND</li>    <li class="argument">PATHNAME</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/environment.lisp#L56">Source</a>  </header> <div class="docstring"><pre>Returns a path within the module's file directory for the given kind.

This simply performs a merge-pathnames call on the given pathname
and the corresponding ENVIRONMENT-MODULE-DIRECTORY.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AENVIRONMENT-MODULE-DIRECTORY" class="xref">ENVIRONMENT-MODULE-DIRECTORY</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:EXECUTE-REQUEST"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AEXECUTE-REQUEST">EXECUTE-REQUEST</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">REQUEST</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">RESPONSE</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/handle.lisp#L44">Source</a>  </header> <div class="docstring"><pre>Directly executes the given request and response instances.

If an error occurs during the execution, 
HANDLE-CONDITION is called to handle it.
The REQUEST hook is called at the beginning of execution.
Then the request is dispatched on and the result converted
into data for the response if applicable.

See <a href="#CLASS%20RADIANCE-CORE%3ARESPONSE" class="xref">RESPONSE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AREQUEST" class="xref">REQUEST</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ADISPATCH" class="xref">DISPATCH</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AHANDLE-CONDITION" class="xref">HANDLE-CONDITION</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:EXPAND-OPTIONS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AEXPAND-OPTIONS">EXPAND-OPTIONS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">TYPE</li>    <li class="argument">OPTIONS</li>    <li class="argument">NAME</li>    <li class="argument">BODY</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">ARGS</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/options.lisp#L66">Source</a>  </header> <div class="docstring"><pre>Expands all options of the given type.

Returns two values, the new body forms and the list of
forms to output before the actual definition.

An error is signalled if an unknown option is used.

See <a href="#FUNCTION%20RADIANCE-CORE%3AOPTION" class="xref">OPTION</a>
See <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-OPTION" class="xref">DEFINE-OPTION</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:EXTERNAL-URI"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AEXTERNAL-URI">EXTERNAL-URI</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">URI</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/routing.lisp#L213">Source</a>  </header> <div class="docstring"><pre>Modifies the URI by pushing it through all reversal routes so that it becomes an external URI.

See <a href="#VARIABLE%20RADIANCE-CORE%3A%2AROUTE-REVERSAL%2A" class="xref">*ROUTE-REVERSAL*</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:FILE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AFILE">FILE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">REQUEST</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/request.lisp#L132">Source</a>  </header> <div class="docstring"><pre>Returns the pathname to the file that was uploaded.

Signals a NO-SUCH-POST-PARAMETER error if the given
parameter was not present as a POST parameter at all.
Signals a POST-PARAMETER-NOT-A-FILE error if the given
parameter did not represent an uploaded file.

See <a href="#FUNCTION%20RADIANCE-CORE%3APOST-VAR" class="xref">POST-VAR</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3A%2AREQUEST%2A" class="xref">*REQUEST*</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:FILE-SIZE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AFILE-SIZE">FILE-SIZE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PATHSPEC</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/toolkit.lisp#L111">Source</a>  </header> <div class="docstring"><pre>Returns the file size in bytes.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:FIND-ALL-MODULES"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AFIND-ALL-MODULES">FIND-ALL-MODULES</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">DIRECTORY</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/modules.lisp#L172">Source</a>  </header> <div class="docstring"><pre>Attempts to find all module systems in a directory.

This works as follows: it scans the directory tree for all
files with the type ASD. For each attempts of these, it
attempts to find an ASDF system with the file's name, and if
the system can be found and is of type VIRTUAL-MODULE, it is
returned.

See <a href="#FUNCTION%20RADIANCE-CORE%3AVIRTUAL-MODULE" class="xref">VIRTUAL-MODULE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:FIND-IMPLEMENTATION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AFIND-IMPLEMENTATION">FIND-IMPLEMENTATION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">INTERFACE</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">SYSTEM</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/interfaces.lisp#L57">Source</a>  </header> <div class="docstring"><pre>Attempts to find a suitable implementation for the given interface.

This checks for the value of the configuration in
 MCONFIG :RADIANCE :INTERFACES interface-name-as-keyword

If SYSTEM is T, then the ASDF system object is returned
otherwise the implementation's system name.

If Quicklisp is available and the implementing system has
not yet been installed, it is installed automatically.
The system is not loaded, however.

If no implementation has been configured for the interface,
an INTERFACE-IMPLEMENTATION-NOT-SET error is signalled.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:FORMAT-CLOCK-TIME"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AFORMAT-CLOCK-TIME">FORMAT-CLOCK-TIME</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">STAMP</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/toolkit.lisp#L69">Source</a>  </header> <div class="docstring"><pre>Returns a string representing the given timestamp in wall-clock time.

Bot universal-time stamp and local-time:timestamp
are accepted.

The effective format is &quot;hh:mm:ss&quot;

See <a href="#FUNCTION%20RADIANCE-CORE%3AFORMAT-MACHINE-DATE" class="xref">FORMAT-MACHINE-DATE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AFORMAT-HUMAN-DATE" class="xref">FORMAT-HUMAN-DATE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AFORMAT-FANCY-DATE" class="xref">FORMAT-FANCY-DATE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:FORMAT-FANCY-DATE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AFORMAT-FANCY-DATE">FORMAT-FANCY-DATE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">STAMP</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/toolkit.lisp#L87">Source</a>  </header> <div class="docstring"><pre>Returns a string representing the given timestamp in an extensive, fancy date.

Bot universal-time stamp and local-time:timestamp
are accepted.

The effective format is &quot;WEEKDAY, DAY of MONTH Y, H:MM:SS UTC&quot;

See <a href="#FUNCTION%20RADIANCE-CORE%3AFORMAT-CLOCK-TIME" class="xref">FORMAT-CLOCK-TIME</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AFORMAT-MACHINE-DATE" class="xref">FORMAT-MACHINE-DATE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AFORMAT-HUMAN-DATE" class="xref">FORMAT-HUMAN-DATE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:FORMAT-HUMAN-DATE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AFORMAT-HUMAN-DATE">FORMAT-HUMAN-DATE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">STAMP</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/toolkit.lisp#L81">Source</a>  </header> <div class="docstring"><pre>Returns a string representing the given timestamp in human-readable date.

Bot universal-time stamp and local-time:timestamp
are accepted.

The effective format is &quot;YYYY.MM.DD hh:mm:ss&quot;

See <a href="#FUNCTION%20RADIANCE-CORE%3AFORMAT-CLOCK-TIME" class="xref">FORMAT-CLOCK-TIME</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AFORMAT-MACHINE-DATE" class="xref">FORMAT-MACHINE-DATE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AFORMAT-FANCY-DATE" class="xref">FORMAT-FANCY-DATE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AFORMAT-TIME" class="xref">FORMAT-TIME</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:FORMAT-MACHINE-DATE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AFORMAT-MACHINE-DATE">FORMAT-MACHINE-DATE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">STAMP</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/toolkit.lisp#L75">Source</a>  </header> <div class="docstring"><pre>Returns a string representing the given timestamp in machine-readable date.

Bot universal-time stamp and local-time:timestamp
are accepted.

The effective format is &quot;YYYY-MM-DDThh:mm:ss&quot;

See <a href="#FUNCTION%20RADIANCE-CORE%3AFORMAT-CLOCK-TIME" class="xref">FORMAT-CLOCK-TIME</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AFORMAT-HUMAN-DATE" class="xref">FORMAT-HUMAN-DATE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AFORMAT-FANCY-DATE" class="xref">FORMAT-FANCY-DATE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:FORMAT-RELATIVE-TIME"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AFORMAT-RELATIVE-TIME">FORMAT-RELATIVE-TIME</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">STAMP</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/toolkit.lisp#L38">Source</a>  </header> <div class="docstring"><pre>Returns a string representing the given timestamp seconds as a relative time.

Bot universal-time stamp and local-time:timestamp
are accepted.

It divides the time up into seconds, minutes,
hours, days, weeks, months, years, decades,
centuries, and finally æons.

Example: 63 results in &quot;1 minute 3 seconds&quot;

See <a href="#FUNCTION%20RADIANCE-CORE%3AFORMAT-TIME" class="xref">FORMAT-TIME</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:FORMAT-TIME"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AFORMAT-TIME">FORMAT-TIME</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">STAMP</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">RELATIVE-TIME-THRESHOLD</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/toolkit.lisp#L93">Source</a>  </header> <div class="docstring"><pre>Returns a string representing the given timestamp in an intuitive way.

If the difference from the current time is below
the RELATIVE-TIME-THRESHOLD, the time is formatted
relatively, otherwise absolutely.

See <a href="#FUNCTION%20RADIANCE-CORE%3AFORMAT-RELATIVE-TIME" class="xref">FORMAT-RELATIVE-TIME</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AFORMAT-HUMAN-DATE" class="xref">FORMAT-HUMAN-DATE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:FORMAT-URI"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AFORMAT-URI">FORMAT-URI</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">URI-STRING</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">FORMAT-ARGS</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/uri.lisp#L152">Source</a>  </header> <div class="docstring"><pre>A shorthand function to construct a URI with a format string.

This is basically just the following:
  (parse-uri (format NIL ..))

See <a href="#FUNCTION%20RADIANCE-CORE%3APARSE-URI" class="xref">PARSE-URI</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:GET-UNIX-TIME"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AGET-UNIX-TIME">GET-UNIX-TIME</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/toolkit.lisp#L35">Source</a>  </header> <div class="docstring"><pre>Return the current time as a unix timestamp in seconds since 1970.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:GET-VAR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AGET-VAR">GET-VAR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">REQUEST</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/request.lisp#L116">Source</a>  </header> <div class="docstring"><pre>Returns the value of the GET variable of the request.

This is case-insensitive.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AGET-DATA" class="xref">GET-DATA</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3A%2AREQUEST%2A" class="xref">*REQUEST*</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:HANDLE-CONDITION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AHANDLE-CONDITION">HANDLE-CONDITION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">CONDITION</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/handle.lisp#L27">Source</a>  </header> <div class="docstring"><pre>Responsible for handling a condition during a request execution.

Might invoke the debugger depending on *DEBUGGER*.
Otherwise invokes the SET-DATA restart with the
return-value of calling RENDER-ERROR-PAGE.

See <a href="#VARIABLE%20RADIANCE-CORE%3A%2ADEBUGGER%2A" class="xref">*DEBUGGER*</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AMAYBE-INVOKE-DEBUGGER" class="xref">MAYBE-INVOKE-DEBUGGER</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AEXECUTE-REQUEST" class="xref">EXECUTE-REQUEST</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ARENDER-ERROR-PAGE" class="xref">RENDER-ERROR-PAGE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:HEADER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AHEADER">HEADER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">REQUEST/RESPONSE</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/request.lisp#L126">Source</a>  </header> <div class="docstring"><pre>Accesses the value of the header in the request or response.

This is case-insensitive

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AHEADERS" class="xref">HEADERS</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3A%2AREQUEST%2A" class="xref">*REQUEST*</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3A%2ARESPONSE%2A" class="xref">*RESPONSE*</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:(SETF HEADER)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3A%28SETF%20HEADER%29">(SETF HEADER)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE</li>    <li class="argument">NAME</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">RESPONSE</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/request.lisp#L129">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:HOOK"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AHOOK">HOOK</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">MODULE</li>    <li class="argument">ERROR</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:(SETF HOOK)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3A%28SETF%20HOOK%29">(SETF HOOK)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">HOOK</li>    <li class="argument">NAME</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">MODULE</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:IMPLEMENTATION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AIMPLEMENTATION">IMPLEMENTATION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">INTERFACE</li>  </ul>  </header> <div class="docstring"><pre>Returns the currently active implementation of the interface.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:(SETF IMPLEMENTATION)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3A%28SETF%20IMPLEMENTATION%29">(SETF IMPLEMENTATION)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">IMPLEMENTATION</li>    <li class="argument">INTERFACE</li>  </ul>  </header> <div class="docstring"><pre>Attempts to set the implementation of an interface.
Interfaces can only be implemented by modules and if a different
module already implements the interface a condition is signalled.
The following restarts are available:
 DELETE    Deletes the old implementation through DELETE-MODULE.
 OVERRIDE  Overrides the implementation and leaves the old module.
 ABORT     Aborts the setting of the implementation completely.

If the implementation setting was successful, TEST-INTERFACE is
called. If the implementation is set to NIL, RESET-INTERFACE is
called. </pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:IMPLEMENTS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AIMPLEMENTS">IMPLEMENTS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MODULE</li>  </ul>  </header> <div class="docstring"><pre>Returns a list of interfaces this module implements.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:INTERFACE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AINTERFACE">INTERFACE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Returns the interface package module as identified by the object.
See MODULE for more.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:INTERFACE-P"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AINTERFACE-P">INTERFACE-P</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Returns T if the passed object is or names an interface, otherwise NIL.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:INTERNAL-URI"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AINTERNAL-URI">INTERNAL-URI</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">URI</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/routing.lisp#L206">Source</a>  </header> <div class="docstring"><pre>Modifies the URI by pushing it through all mapping routes so that it becomes an internal URI.

See <a href="#VARIABLE%20RADIANCE-CORE%3A%2AROUTE-MAPPING%2A" class="xref">*ROUTE-MAPPING*</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:LIST-API-ENDPOINTS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ALIST-API-ENDPOINTS">LIST-API-ENDPOINTS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/api.lisp#L59">Source</a>  </header> <div class="docstring"><pre>Lists all known api page instances.

See <a href="#FUNCTION%20RADIANCE-CORE%3AAPI-ENDPOINT" class="xref">API-ENDPOINT</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:LIST-API-FORMATS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ALIST-API-FORMATS">LIST-API-FORMATS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/api.lisp#L22">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:LIST-HOOKS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ALIST-HOOKS">LIST-HOOKS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">MODULE</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:LIST-MODULES"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ALIST-MODULES">LIST-MODULES</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>Returns a list of all modules in no particular order.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:LIST-OPTIONS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ALIST-OPTIONS">LIST-OPTIONS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">TYPE</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/options.lisp#L45">Source</a>  </header> <div class="docstring"><pre>Lists all option instances that are registered.

See <a href="#FUNCTION%20RADIANCE-CORE%3AOPTION" class="xref">OPTION</a>
See <a href="#VARIABLE%20RADIANCE-CORE%3A%2AOPTIONS%2A" class="xref">*OPTIONS*</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AREMOVE-OPTION" class="xref">REMOVE-OPTION</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:LIST-RESOURCE-TYPES"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ALIST-RESOURCE-TYPES">LIST-RESOURCE-TYPES</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/resource.lisp#L33">Source</a>  </header> <div class="docstring"><pre>Returns a list of names of defined resource types.

See <a href="#VARIABLE%20RADIANCE-CORE%3A%2ARESOURCE-TYPES%2A" class="xref">*RESOURCE-TYPES*</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ARESOURCE-TYPE" class="xref">RESOURCE-TYPE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AREMOVE-RESOURCE-TYPE" class="xref">REMOVE-RESOURCE-TYPE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:LIST-ROUTES"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ALIST-ROUTES">LIST-ROUTES</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/routing.lisp#L63">Source</a>  </header> <div class="docstring"><pre>Lists all the route instances that are registered.

See <a href="#VARIABLE%20RADIANCE-CORE%3A%2AROUTE-REGISTRY%2A" class="xref">*ROUTE-REGISTRY*</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AROUTE" class="xref">ROUTE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AREMOVE-ROUTE" class="xref">REMOVE-ROUTE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:LIST-URI-DISPATCHERS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ALIST-URI-DISPATCHERS">LIST-URI-DISPATCHERS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/dispatch.lisp#L50">Source</a>  </header> <div class="docstring"><pre>Returns a list of all uri-dispatchers that are registered.

See <a href="#VARIABLE%20RADIANCE-CORE%3A%2AURI-REGISTRY%2A" class="xref">*URI-REGISTRY*</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AURI-DISPATCHER" class="xref">URI-DISPATCHER</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:LOAD-IMPLEMENTATION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ALOAD-IMPLEMENTATION">LOAD-IMPLEMENTATION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">INTERFACE</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/interfaces.lisp#L82">Source</a>  </header> <div class="docstring"><pre>Attempts to silently load the implementation for the interface if necessary.

This function is called whenever an interface is requested
as a dependency in an ASDF system definition.

See <a href="#FUNCTION%20RADIANCE-CORE%3AFIND-IMPLEMENTATION" class="xref">FIND-IMPLEMENTATION</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:MAKE-RANDOM-STRING"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AMAKE-RANDOM-STRING">MAKE-RANDOM-STRING</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">LENGTH</li>    <li class="argument">CHARS</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/toolkit.lisp#L104">Source</a>  </header> <div class="docstring"><pre>Constructs a string composed of random characters.

See <a href="#VARIABLE%20RADIANCE-CORE%3A%2ARANDOM-STRING-CHARACTERS%2A" class="xref">*RANDOM-STRING-CHARACTERS*</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:MAKE-URI"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AMAKE-URI">MAKE-URI</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">DOMAINS</li>    <li class="argument">PORT</li>    <li class="argument">PATH</li>    <li class="argument">MATCHER</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/uri.lisp#L44">Source</a>  </header> <div class="docstring"><pre>Creates a new URI instance according t o the given parts.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AURI" class="xref">URI</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:MAKE-URL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AMAKE-URL">MAKE-URL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">DOMAINS</li>    <li class="argument">PORT</li>    <li class="argument">PATH</li>    <li class="argument">SCHEMA</li>    <li class="argument">QUERY</li>    <li class="argument">FRAGMENT</li>    <li class="argument">REPRESENTATION</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/uri.lisp#L143">Source</a>  </header> <div class="docstring"><pre>A shorthand function for constructing URL strings.

This basically encompasses the combination of a MAKE-URI
and a URI-TO-URL rather directly. The representation is
set to :EXTERNAL for convenience as that is usually the
preferred option for use-cases of this function.

See <a href="#FUNCTION%20RADIANCE-CORE%3AMAKE-URI" class="xref">MAKE-URI</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AURI-TO-URL" class="xref">URI-TO-URL</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:MAYBE-INVOKE-DEBUGGER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AMAYBE-INVOKE-DEBUGGER">MAYBE-INVOKE-DEBUGGER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">CONDITION</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">RESTART</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">VALUES</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/handle.lisp#L18">Source</a>  </header> <div class="docstring"><pre>Might call INVOKE-DEBUGGER depending on the value of *DEBUGGER*.

If the debugger is invoked, it is always invoked with a
CONTINUE restart surrounding it to avoid handling the
condition.

If the debugger is not invoked, or declines to handle the
condition via the CONTINUE restart, and the RESTART argument
is given, then the given restart is automatically invoked
with the remaining values.

See <a href="#VARIABLE%20RADIANCE-CORE%3A%2ADEBUGGER%2A" class="xref">*DEBUGGER*</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:MCONFIG"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AMCONFIG">MCONFIG</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MODULE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">PATH</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/environment.lisp#L117">Source</a>  </header> <div class="docstring"><pre>Accesses a configuration variable for the given module's storage.

See <a href="https://github.com/Shinmera/ubiquitous#GENERIC-FUNCTION%20UBIQUITOUS%3AVALUE" class="xref">UBIQUITOUS:VALUE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AMCONFIG-STORAGE" class="xref">MCONFIG-STORAGE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:(SETF MCONFIG)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3A%28SETF%20MCONFIG%29">(SETF MCONFIG)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE</li>    <li class="argument">MODULE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">PATH</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/environment.lisp#L122">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:MCONFIG-PATHNAME"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AMCONFIG-PATHNAME">MCONFIG-PATHNAME</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MODULE</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">TYPE</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/environment.lisp#L96">Source</a>  </header> <div class="docstring"><pre>Returns the proper pathname to the module according to the current environment.

The path is constructed according to:
  :NAME     Set to the downcased module-name.
  :TYPE     Set to conf.TYPE with type downcased.
  :DEFAULTS ENVIRONMENT-MODULE-DIRECTORY for the
            given module and the :CONFIGURATION kind.

An environment must have been configured prior to calling
this function.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AENVIRONMENT-MODULE-DIRECTORY" class="xref">ENVIRONMENT-MODULE-DIRECTORY</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AENVIRONMENT" class="xref">ENVIRONMENT</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:MCONFIG-STORAGE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AMCONFIG-STORAGE">MCONFIG-STORAGE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MODULE</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/environment.lisp#L104">Source</a>  </header> <div class="docstring"><pre>Returns the storage object for the given module.

The storage object is cached and will only be loaded
if it has not previously been loaded. This means that
unless explicit cache purging occurs, changes to the
underlying configuration file will be lost on
subsequent writes.

The object is cached in the module-storage slot :CONFIG

See <a href="https://Shinmera.github.io/modularize/#FUNCTION%20MODULARIZE%3AMODULE-STORAGE" class="xref">MODULARIZE:MODULE-STORAGE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AMCONFIG-PATHNAME" class="xref">MCONFIG-PATHNAME</a>
See <a href="https://github.com/Shinmera/ubiquitous#GENERIC-FUNCTION%20UBIQUITOUS%3ARESTORE" class="xref">UBIQUITOUS:RESTORE</a>
See <a href="https://github.com/Shinmera/ubiquitous#GENERIC-FUNCTION%20UBIQUITOUS%3AOFFLOAD" class="xref">UBIQUITOUS:OFFLOAD</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:MERGE-URIS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AMERGE-URIS">MERGE-URIS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">URI</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">DEFAULTS</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/uri.lisp#L113">Source</a>  </header> <div class="docstring"><pre>Creates a new URI by merging the given two.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AURI" class="xref">URI</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:MERGE-URL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AMERGE-URL">MERGE-URL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">URL</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">SCHEMA</li>    <li class="argument">DOMAINS</li>    <li class="argument">PORT</li>    <li class="argument">PATH</li>    <li class="argument">PARAMETERS</li>    <li class="argument">FRAGMENT</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/toolkit.lisp#L226">Source</a>  </header> <div class="docstring"><pre>Rewrites the URL, merging the given parts where appropriate.

Accepts a URL string, a URI, or a PURI:URI. In the case of
a URI, the URI is treated as-is and no routing is performed.

Returns the rewritten URL as a string.

The meanings of the parameters are the same as for URIs
URI-TO-URL respectively, namely:

SCHEMA     --- The schema or scheme of the url as a string.
               Overrides if already existing.
DOMAINS    --- A list of domains in order. Eg: (com example www)
               These domains are prepended in the rendered URL.
               Eg: &quot;www&quot;+&quot;example.com&quot; = &quot;www.example.com&quot;
PORT       --- The port as an integer.
               Overrides if already existing.
PATH       --- The directory path as a string.
               The path will appear appended in the rendered URL.
               Eg: &quot;foo&quot;+&quot;/bar&quot; = &quot;/bar/foo&quot;
PARAMETERS --- Query GET parameters as an alist.
               The parameters are prepended in the rendered URL.
               Eg: &quot;a=b&quot;+&quot;a=a&quot; = &quot;a=b&amp;a=a&quot;
FRAGMENT   --- The URL fragment or anchor as a string.
               Overrides if already existing.

All of these parameters should /NOT/ be passed URL-ENCODED.
This function will take care of the appropriate URL-ENCODING
if necessary.

This function can be especially useful for automating redirects.
For instance, if you would like to redirect back but add a
message that should be displayed, you can use APPEND-URL on the
REFERER and add the message with the PARAMETERS argument.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AURI" class="xref">URI</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AURI-TO-URL" class="xref">URI-TO-URL</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AREWRITE-URL" class="xref">REWRITE-URL</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:MODULE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AMODULE">MODULE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">IDENTIFIER</li>  </ul>  </header> <div class="docstring"><pre>Coerces the requested module.

See <a href="https://Shinmera.github.io/modularize/#FUNCTION%20MODULARIZE%3AMODULE" class="xref">MODULARIZE:MODULE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:MODULE-API-ENDPOINTS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-API-ENDPOINTS">MODULE-API-ENDPOINTS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MODULE</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/modules.lisp#L71">Source</a>  </header> <div class="docstring"><pre>Returns the list of names of the api endpoints that the module has registered.

Signals an error if the argument cannot be coerced to a module.

See <a href="https://Shinmera.github.io/modularize/#FUNCTION%20MODULARIZE%3AMODULE" class="xref">MODULARIZE:MODULE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:MODULE-DEPENDENCIES"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-DEPENDENCIES">MODULE-DEPENDENCIES</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MODULE</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/modules.lisp#L42">Source</a>  </header> <div class="docstring"><pre>Returns the list of dependencies for the given module.

Signals an error if the argument cannot be coerced to a module.
Signals an error if the module does not have an associated
virtual module.

See ASDF:SYSTEM-DEPENDS-ON
See <a href="https://Shinmera.github.io/modularize/#FUNCTION%20MODULARIZE%3AMODULE" class="xref">MODULARIZE:MODULE</a>
See <a href="https://Shinmera.github.io/modularize/#GENERIC-FUNCTION%20MODULARIZE%3AVIRTUAL-MODULE" class="xref">MODULARIZE:VIRTUAL-MODULE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:MODULE-DOMAIN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-DOMAIN">MODULE-DOMAIN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MODULE</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/modules.lisp#L12">Source</a>  </header> <div class="docstring"><pre>Returns the domain on which the module acts primarily.

Signals an error if the argument cannot be coerced to a module.
Signals an error of type INTERFACE-IMPLEMENTATION-NOT-PRESENT
if an interface was passed that does not have an implementation
yet.

If not explicit domain was configured, the module's name is
returned.

See <a href="https://Shinmera.github.io/modularize/#FUNCTION%20MODULARIZE%3AMODULE" class="xref">MODULARIZE:MODULE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:MODULE-IDENTIFIER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-IDENTIFIER">MODULE-IDENTIFIER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MODULE</li>  </ul>  </header> <div class="docstring"><pre>Returns the identifier of the module.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:MODULE-NAME"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-NAME">MODULE-NAME</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MODULE</li>  </ul>  </header> <div class="docstring"><pre>Returns the name of the module.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:MODULE-P"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-P">MODULE-P</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Returns non-NIL if the passed object is or resolves to a module package, otherwise NIL.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:MODULE-PAGES"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-PAGES">MODULE-PAGES</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MODULE</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/modules.lisp#L68">Source</a>  </header> <div class="docstring"><pre>Returns the list of URIs for pages that the module has registered.

Signals an error if the argument cannot be coerced to a module.

See <a href="https://Shinmera.github.io/modularize/#FUNCTION%20MODULARIZE%3AMODULE" class="xref">MODULARIZE:MODULE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:MODULE-PERMISSIONS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-PERMISSIONS">MODULE-PERMISSIONS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MODULE</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/modules.lisp#L30">Source</a>  </header> <div class="docstring"><pre>Returns the list of permissions that are known to exist for the module.

Signals an error if the argument cannot be coerced to a module.

See <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3APERM" class="xref">PERM</a>
See <a href="https://Shinmera.github.io/modularize/#FUNCTION%20MODULARIZE%3AMODULE" class="xref">MODULARIZE:MODULE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:(SETF MODULE-PERMISSIONS)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3A%28SETF%20MODULE-PERMISSIONS%29">(SETF MODULE-PERMISSIONS)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">LIST</li>    <li class="argument">MODULE</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/modules.lisp#L36">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:MODULE-REQUIRED-INTERFACES"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-REQUIRED-INTERFACES">MODULE-REQUIRED-INTERFACES</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MODULE</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/modules.lisp#L58">Source</a>  </header> <div class="docstring"><pre>Returns the list of interfaces that the module depends on.

Signals an error if the argument cannot be coerced to a module.

See <a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-DEPENDENCIES" class="xref">MODULE-DEPENDENCIES</a>
See <a href="https://Shinmera.github.io/modularize/#FUNCTION%20MODULARIZE%3AMODULE" class="xref">MODULARIZE:MODULE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:MODULE-REQUIRED-SYSTEMS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-REQUIRED-SYSTEMS">MODULE-REQUIRED-SYSTEMS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MODULE</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/modules.lisp#L63">Source</a>  </header> <div class="docstring"><pre>Returns the list of systems that the module depends on.

Signals an error if the argument cannot be coerced to a module.

See <a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-DEPENDENCIES" class="xref">MODULE-DEPENDENCIES</a>
See <a href="https://Shinmera.github.io/modularize/#FUNCTION%20MODULARIZE%3AMODULE" class="xref">MODULARIZE:MODULE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:MODULE-STORAGE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-STORAGE">MODULE-STORAGE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MODULE</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">KEY</li>  </ul>  </header> <div class="docstring"><pre>Accesses the module storage table of the module or a field from it if a key is passed.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:(SETF MODULE-STORAGE)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3A%28SETF%20MODULE-STORAGE%29">(SETF MODULE-STORAGE)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE</li>    <li class="argument">MODULE</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">KEY</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:MODULE-STORAGE-REMOVE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AMODULE-STORAGE-REMOVE">MODULE-STORAGE-REMOVE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MODULE</li>    <li class="argument">KEY</li>  </ul>  </header> <div class="docstring"><pre>Removes a key from the module storage table.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:OPTION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AOPTION">OPTION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">TYPE</li>    <li class="argument">NAME</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/options.lisp#L31">Source</a>  </header> <div class="docstring"><pre>Accessor to an option instance.

See <a href="#FUNCTION%20RADIANCE-CORE%3AOPTION" class="xref">OPTION</a>
See <a href="#VARIABLE%20RADIANCE-CORE%3A%2AOPTIONS%2A" class="xref">*OPTIONS*</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AREMOVE-OPTION" class="xref">REMOVE-OPTION</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ALIST-OPTIONS" class="xref">LIST-OPTIONS</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:(SETF OPTION)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3A%28SETF%20OPTION%29">(SETF OPTION)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OPTION</li>    <li class="argument">TYPE</li>    <li class="argument">NAME</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/options.lisp#L35">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:PARSE-PATH-SAFELY"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3APARSE-PATH-SAFELY">PARSE-PATH-SAFELY</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAMESTRING</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/toolkit.lisp#L156">Source</a>  </header> <div class="docstring"><pre>Parses the given namestring as a path that only understands relative directories, name, and type.

Furthmore, no special path syntax is allowed and everything
is parsed verbatim. This avoids exploits where an URL is
turned into a pathname and uses special characters like ~
or ..</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:PARSE-URI"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3APARSE-URI">PARSE-URI</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">URI-STRING</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/uri.lisp#L62">Source</a>  </header> <div class="docstring"><pre>Parses the given URI into a string if possible.

Signals an error of type UNPARSABLE-URI-STRING
if the string cannot be parsed.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AURI" class="xref">URI</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:POST-VAR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3APOST-VAR">POST-VAR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">REQUEST</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/request.lisp#L119">Source</a>  </header> <div class="docstring"><pre>Returns the value of the POST variable of the request.

This is case-insensitive.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3APOST-DATA" class="xref">POST-DATA</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3A%2AREQUEST%2A" class="xref">*REQUEST*</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:POST/GET"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3APOST%2FGET">POST/GET</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">REQUEST</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/request.lisp#L122">Source</a>  </header> <div class="docstring"><pre>Returns the value of the POST or the GET variable of the request.

If both exist, then the POST variable is preferred.
This is case-insensitive.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3APOST-DATA" class="xref">POST-DATA</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AGET-DATA" class="xref">GET-DATA</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3A%2AREQUEST%2A" class="xref">*REQUEST*</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:REDIRECT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AREDIRECT">REDIRECT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-ADDRESS</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">REPRESENTATION</li>    <li class="argument">CODE</li>    <li class="argument">RESPONSE</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/request.lisp#L141">Source</a>  </header> <div class="docstring"><pre>Sets the response up to cause a redirect to the given address.

By default, if a URI instance is given, the URI is
externalised.

See <a href="#FUNCTION%20RADIANCE-CORE%3AURI-TO-URL" class="xref">URI-TO-URL</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ARETURN-CODE" class="xref">RETURN-CODE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3A%2ARESPONSE%2A" class="xref">*RESPONSE*</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:REFERER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AREFERER">REFERER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">REQUEST</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/request.lisp#L103">Source</a>  </header> <div class="docstring"><pre>Accesses the referer header of the request.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AHEADERS" class="xref">HEADERS</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3A%2AREQUEST%2A" class="xref">*REQUEST*</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:(SETF REFERER)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3A%28SETF%20REFERER%29">(SETF REFERER)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">REQUEST</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/request.lisp#L106">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:RELOAD-ENVIRONMENT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ARELOAD-ENVIRONMENT">RELOAD-ENVIRONMENT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/environment.lisp#L92">Source</a>  </header> <div class="docstring"><pre>Reloads the current environment from disk.

Note that configuration files are reloaded lazily, with the
exception of the radiance-core configuration.

See <a href="#FUNCTION%20RADIANCE-CORE%3ACHECK-ENVIRONMENT" class="xref">CHECK-ENVIRONMENT</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AENVIRONMENT" class="xref">ENVIRONMENT</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:REMMCONFIG"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AREMMCONFIG">REMMCONFIG</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MODULE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">PATH</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/environment.lisp#L132">Source</a>  </header> <div class="docstring"><pre>Removes the configuration place from the given module's configuration.

See <a href="https://github.com/Shinmera/ubiquitous#GENERIC-FUNCTION%20UBIQUITOUS%3AREMVALUE" class="xref">UBIQUITOUS:REMVALUE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AMCONFIG-STORAGE" class="xref">MCONFIG-STORAGE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:REMOVE-API-ENDPOINT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AREMOVE-API-ENDPOINT">REMOVE-API-ENDPOINT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PATH</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/api.lisp#L56">Source</a>  </header> <div class="docstring"><pre>Removes the given api page again if it exists.

See <a href="#FUNCTION%20RADIANCE-CORE%3AAPI-ENDPOINT" class="xref">API-ENDPOINT</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:REMOVE-API-FORMAT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AREMOVE-API-FORMAT">REMOVE-API-FORMAT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/api.lisp#L19">Source</a>  </header> <div class="docstring"><pre>Removes the named api format if it exists.

The name must be a string designator.

See <a href="#VARIABLE%20RADIANCE-CORE%3A%2AAPI-FORMATS%2A" class="xref">*API-FORMATS*</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AAPI-FORMAT" class="xref">API-FORMAT</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:REMOVE-DOMAIN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AREMOVE-DOMAIN">REMOVE-DOMAIN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">DOMAIN</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/defaults.lisp#L156">Source</a>  </header> <div class="docstring"><pre>Removes a known top-level domain.

See <a href="#FUNCTION%20RADIANCE-CORE%3AADD-DOMAIN" class="xref">ADD-DOMAIN</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:REMOVE-HOOK"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AREMOVE-HOOK">REMOVE-HOOK</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">MODULE</li>  </ul>  </header> <div class="docstring"><pre>Removes the hook as named.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:REMOVE-OPTION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AREMOVE-OPTION">REMOVE-OPTION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">TYPE</li>    <li class="argument">NAME</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/options.lisp#L41">Source</a>  </header> <div class="docstring"><pre>Removes an option instance again, if it exists.

See <a href="#FUNCTION%20RADIANCE-CORE%3AOPTION" class="xref">OPTION</a>
See <a href="#VARIABLE%20RADIANCE-CORE%3A%2AOPTIONS%2A" class="xref">*OPTIONS*</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ALIST-OPTIONS" class="xref">LIST-OPTIONS</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:REMOVE-PAGE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AREMOVE-PAGE">REMOVE-PAGE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/page.lisp#L15">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:REMOVE-RESOURCE-TYPE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AREMOVE-RESOURCE-TYPE">REMOVE-RESOURCE-TYPE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">TYPE</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/resource.lisp#L30">Source</a>  </header> <div class="docstring"><pre>Removes the given resource type, if it exists.

See <a href="#VARIABLE%20RADIANCE-CORE%3A%2ARESOURCE-TYPES%2A" class="xref">*RESOURCE-TYPES*</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ARESOURCE-TYPE" class="xref">RESOURCE-TYPE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ALIST-RESOURCE-TYPES" class="xref">LIST-RESOURCE-TYPES</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:REMOVE-ROUTE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AREMOVE-ROUTE">REMOVE-ROUTE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument">DIRECTION</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/routing.lisp#L56">Source</a>  </header> <div class="docstring"><pre>Removes the specified route, if any.

Automatically calls REBUILD-ROUTE-VECTORS

See <a href="#FUNCTION%20RADIANCE-CORE%3AREBUILD-ROUTE-VECTORS" class="xref">REBUILD-ROUTE-VECTORS</a>
See <a href="#VARIABLE%20RADIANCE-CORE%3A%2AROUTE-REGISTRY%2A" class="xref">*ROUTE-REGISTRY*</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AROUTE" class="xref">ROUTE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ALIST-ROUTES" class="xref">LIST-ROUTES</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:REMOVE-TRIGGER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AREMOVE-TRIGGER">REMOVE-TRIGGER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">HOOK</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">IDENT</li>    <li class="argument">MODULE</li>  </ul>  </header> <div class="docstring"><pre>Attempts to remove the trigger from the hook.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:REMOVE-URI-DISPATCHER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AREMOVE-URI-DISPATCHER">REMOVE-URI-DISPATCHER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/dispatch.lisp#L45">Source</a>  </header> <div class="docstring"><pre>Removes the named uri-dispatcher, if any.

See <a href="#VARIABLE%20RADIANCE-CORE%3A%2AURI-REGISTRY%2A" class="xref">*URI-REGISTRY*</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AURI-DISPATCHER" class="xref">URI-DISPATCHER</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:RENDER-ERROR-PAGE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ARENDER-ERROR-PAGE">RENDER-ERROR-PAGE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">CONDITION</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/handle.lisp#L36">Source</a>  </header> <div class="docstring"><pre>This function is responsible for rendering an appropriate response for the given condition.

A module is allowed to redefine this function to do as
it sees fit.

See <a href="#FUNCTION%20RADIANCE-CORE%3AHANDLE-CONDITION" class="xref">HANDLE-CONDITION</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:REPRESENT-URI"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AREPRESENT-URI">REPRESENT-URI</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">URI</li>    <li class="argument">REPRESENTATION</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/uri.lisp#L122">Source</a>  </header> <div class="docstring"><pre>Returns a new URI that is represented accordingly.

REPRESENTATION can be one of the following:
  :AS-IS NIL          --- The URI is simply copied
  :EXTERNAL :REVERSE  --- The URI is externalised
  :INTERNAL :MAP      --- The URI is internalised

See <a href="#FUNCTION%20RADIANCE-CORE%3ACOPY-URI" class="xref">COPY-URI</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AEXTERNAL-URI" class="xref">EXTERNAL-URI</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AINTERNAL-URI" class="xref">INTERNAL-URI</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:REQUEST"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AREQUEST">REQUEST</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">TO-URI</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">REPRESENTATION</li>    <li class="argument">HTTP-METHOD</li>    <li class="argument">HEADERS</li>    <li class="argument">POST</li>    <li class="argument">GET</li>    <li class="argument">COOKIES</li>    <li class="argument">REMOTE</li>    <li class="argument">RESPONSE</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/handle.lisp#L98">Source</a>  </header> <div class="docstring"><pre>Handle a request to the given URI with the given parameters.

This creates an appropriate request object, translates the URI
object if necessary, and then calls EXECUTE-REQUEST to actually
perform the request proper.

See <a href="#FUNCTION%20RADIANCE-CORE%3AREQUEST" class="xref">REQUEST</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AENSURE-REQUEST-HASH-TABLE" class="xref">ENSURE-REQUEST-HASH-TABLE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AREPRESENT-URI" class="xref">REPRESENT-URI</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AEXECUTE-REQUEST" class="xref">EXECUTE-REQUEST</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:REQUEST-RUN-TIME"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AREQUEST-RUN-TIME">REQUEST-RUN-TIME</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">REQUEST</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/request.lisp#L154">Source</a>  </header> <div class="docstring"><pre>Returns the number of seconds since the request was issued.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AISSUE-TIME" class="xref">ISSUE-TIME</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3A%2AREQUEST%2A" class="xref">*REQUEST*</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:RESET-INTERFACE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ARESET-INTERFACE">RESET-INTERFACE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">INTERFACE</li>  </ul>  </header> <div class="docstring"><pre>Resets the interface by redefining it with stubs as per its component definitions.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:RESOLVE-BASE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ARESOLVE-BASE">RESOLVE-BASE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">THING</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/toolkit.lisp#L115">Source</a>  </header> <div class="docstring"><pre>Resolves the filesystem directory of the thing if possible.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:RESOURCE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ARESOURCE">RESOURCE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MODULE</li>    <li class="argument">TYPE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">ARGS</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/resource.lisp#L71">Source</a>  </header> <div class="docstring"><pre>Returns the requested resource type on the given module.

If the module does not have a specific locator, the default
locator is called. If no default exists, an error is
signalled.

The applicable structure and number of the arguments is
dependant on the locator being called.

See <a href="#FUNCTION%20RADIANCE-CORE%3ALIST-RESOURCE-TYPES" class="xref">LIST-RESOURCE-TYPES</a>
See <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-RESOURCE-LOCATOR" class="xref">DEFINE-RESOURCE-LOCATOR</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:RESOURCE-LOCATOR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ARESOURCE-LOCATOR">RESOURCE-LOCATOR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">TYPE</li>    <li class="argument">IDENT</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/resource.lisp#L36">Source</a>  </header> <div class="docstring"><pre>Accessor to a locator function on the given resource type.

Signals an error if the ident is T and there is
no default resource locator defined on the resource type.

See <a href="#FUNCTION%20RADIANCE-CORE%3ARESOURCE-TYPE" class="xref">RESOURCE-TYPE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:(SETF RESOURCE-LOCATOR)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3A%28SETF%20RESOURCE-LOCATOR%29">(SETF RESOURCE-LOCATOR)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE</li>    <li class="argument">TYPE</li>    <li class="argument">IDENT</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/resource.lisp#L43">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:RESOURCE-TYPE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ARESOURCE-TYPE">RESOURCE-TYPE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/resource.lisp#L23">Source</a>  </header> <div class="docstring"><pre>Accessor for the resource types.

If the requested type does not exist, an error is signalled.

See <a href="#VARIABLE%20RADIANCE-CORE%3A%2ARESOURCE-TYPES%2A" class="xref">*RESOURCE-TYPES*</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ARESOURCE-TYPE" class="xref">RESOURCE-TYPE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AREMOVE-RESOURCE-TYPE" class="xref">REMOVE-RESOURCE-TYPE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ALIST-RESOURCE-TYPES" class="xref">LIST-RESOURCE-TYPES</a>
See <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-RESOURCE-TYPE" class="xref">DEFINE-RESOURCE-TYPE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:(SETF RESOURCE-TYPE)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3A%28SETF%20RESOURCE-TYPE%29">(SETF RESOURCE-TYPE)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">TYPE</li>    <li class="argument">NAME</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/resource.lisp#L27">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:REWRITE-URL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AREWRITE-URL">REWRITE-URL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">URL</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">SCHEMA</li>    <li class="argument">DOMAINS</li>    <li class="argument">PORT</li>    <li class="argument">PATH</li>    <li class="argument">PARAMETERS</li>    <li class="argument">FRAGMENT</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/toolkit.lisp#L208">Source</a>  </header> <div class="docstring"><pre>Rewrites the URL, replacing components with the given parts.

Accepts a URL string, a URI, or a PURI:URI. In the case of
a URI, the URI is treated as-is and no routing is performed.

Returns the rewritten URL as a string.

The meanings of the parameters are the same as for URIs
URI-TO-URL respectively, namely:

SCHEMA     --- The schema or scheme of the url as a string.
DOMAINS    --- A list of domains in order. Eg: (com example www)
PORT       --- The port as an integer.
PATH       --- The directory path as a string.
PARAMETERS --- Query GET parameters as an alist.
FRAGMENT   --- The URL fragment or anchor as a string.

All of these parameters should /NOT/ be passed URL-ENCODED.
This function will take care of the appropriate URL-ENCODING
if necessary.

If a parameter is passed as NIL, it means that the component
should be absent from the URL.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AURI" class="xref">URI</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AURI-TO-URL" class="xref">URI-TO-URL</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AMERGE-URL" class="xref">MERGE-URL</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:ROUTE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AROUTE">ROUTE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument">DIRECTION</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/routing.lisp#L41">Source</a>  </header> <div class="docstring"><pre>Accesses the route instance of the given name and direction.

Automatically calls REBUILD-ROUTE-VECTORS when
a route is changed.

See <a href="#FUNCTION%20RADIANCE-CORE%3AREBUILD-ROUTE-VECTORS" class="xref">REBUILD-ROUTE-VECTORS</a>
See <a href="#VARIABLE%20RADIANCE-CORE%3A%2AROUTE-REGISTRY%2A" class="xref">*ROUTE-REGISTRY*</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AREMOVE-ROUTE" class="xref">REMOVE-ROUTE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ALIST-ROUTES" class="xref">LIST-ROUTES</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AROUTE" class="xref">ROUTE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:(SETF ROUTE)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3A%28SETF%20ROUTE%29">(SETF ROUTE)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROUTE</li>    <li class="argument">NAME</li>    <li class="argument">DIRECTION</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/routing.lisp#L46">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:SERVE-FILE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ASERVE-FILE">SERVE-FILE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PATHNAME</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">CONTENT-TYPE</li>    <li class="argument">RESPONSE</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/request.lisp#L148">Source</a>  </header> <div class="docstring"><pre>Sets the response up to serve the given file.

If the file does not exist, an error of type
FILE-TO-SERVE-DOES-NOT-EXIST is signalled.

The content-type, if not explicitly given, is attempted
to be automatically discovered by MIMES:MIME-LOOKUP
and falls back to application/octet-stream.

See <a href="#CONDITION%20RADIANCE-CORE%3AFILE-TO-SERVE-DOES-NOT-EXIST" class="xref">FILE-TO-SERVE-DOES-NOT-EXIST</a>
See <a href="https://Shinmera.github.io/trivial-mimes/#FUNCTION%20TRIVIAL-MIMES%3AMIME-LOOKUP" class="xref">MIMES:MIME-LOOKUP</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ACONTENT-TYPE" class="xref">CONTENT-TYPE</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ADATA" class="xref">DATA</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3A%2ARESPONSE%2A" class="xref">*RESPONSE*</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:SHUTDOWN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ASHUTDOWN">SHUTDOWN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/init.lisp#L63">Source</a>  </header> <div class="docstring"><pre>Stops Radiance and cleans up all connections.

If Radiance is not already running, an error is signalled.

The shutdown sequence proceeds as follows:
1. SHUTDOWN is triggered
2. SERVER-STOP is triggered
3. *RUNNING* is set to NIL
4. SERVER-SHUTDOWN is triggered
5. *STARTUP-TIME* is set to NIL
6. SHUTDOWN-DONE is triggered

See <a href="#FUNCTION%20RADIANCE-CORE%3ASTARTUP" class="xref">STARTUP</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ASTARTED-P" class="xref">STARTED-P</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:STARTED-P"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ASTARTED-P">STARTED-P</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/init.lisp#L84">Source</a>  </header> <div class="docstring"><pre>Returns true if Radiance has been started up and is ready for use.

See <a href="#FUNCTION%20RADIANCE-CORE%3ASTARTUP" class="xref">STARTUP</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ASHUTDOWN" class="xref">SHUTDOWN</a>
See <a href="#VARIABLE%20RADIANCE-CORE%3A%2ARUNNING%2A" class="xref">*RUNNING*</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:STARTUP"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ASTARTUP">STARTUP</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">ENVIRONMENT</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/init.lisp#L18">Source</a>  </header> <div class="docstring"><pre>Starts up Radiance and prepares it for use.

If Radiance is already running, an error is signalled.
If ENVIRONMENT is not a string, an error is signalled.

The startup sequence proceeds as follows:
1. *STARTUP-TIME* is saved
2. The environment is changed
3. STARTUP is triggered
4. The implementation for the LOGGER interface is loaded
5. The implementation for the SERVER interface is loaded
6. SERVER-START is triggered
7. *RUNNING* is set to T
8. SERVER-READY is triggered
9. The systems in the (MCONFIG :RADIANCE :STARTUP)
   configuration are loaded in sequence
10. STARTUP-DONE is triggered

See <a href="#FUNCTION%20RADIANCE-CORE%3ASHUTDOWN" class="xref">SHUTDOWN</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ASTARTED-P" class="xref">STARTED-P</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:STATIC-FILE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ASTATIC-FILE">STATIC-FILE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAMESTRING</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">BASE</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/environment.lisp#L146">Source</a>  </header> <div class="docstring"><pre>Returns the static file for the given base.

The base will usually be your local module. This function will return
the path returned by ENVIRONMENT-MODULE-PATHNAME for the given base,
:STATIC type, and namestring if the file exists, or otherwise merge
the namestring with the static/ subdirectory within your module's
source directory.

For instance, a module named FOO asking for the BAR static file while
the file is overridden would return a path like the following under
default setups:

  ~/.local/share/radiance/default/static/foo/bar

If this override file did not exist, the following path would be
returned instead assuming FOO's project root is at ~/Projects/:

  ~/Projects/foo/static/bar

See <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3A%40STATIC" class="xref">@STATIC</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:TEMPLATE-FILE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ATEMPLATE-FILE">TEMPLATE-FILE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAMESTRING</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">BASE</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/environment.lisp#L156">Source</a>  </header> <div class="docstring"><pre>Returns the template file for the given base.

The base will usually be your local module. This function will return
the path returned by ENVIRONMENT-MODULE-PATHNAME for the given base,
:TEMPLATE type, and namestring if the file exists, or otherwise merge
the namestring with the template/ subdirectory within your module's
source directory.

For instance, a module named FOO asking for the BAR template file while
the file is overridden would return a path like the following under
default setups:

  ~/.local/share/radiance/default/template/foo/bar

If this override file did not exist, the following path would be
returned instead assuming FOO's project root is at ~/Projects/:

  ~/Projects/foo/template/bar

See <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3A%40TEMPLATE" class="xref">@TEMPLATE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:TRIGGER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3ATRIGGER">TRIGGER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">HOOK</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">ARGS</li>  </ul>  </header> <div class="docstring"><pre>Calls all triggers registered on the hook with the given arguments.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:UNIVERSAL-TO-UNIX-TIME"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AUNIVERSAL-TO-UNIX-TIME">UNIVERSAL-TO-UNIX-TIME</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">UNIVERSAL-TIME</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/toolkit.lisp#L27">Source</a>  </header> <div class="docstring"><pre>Translate the given universal-time to a unix-time

See <a href="#VARIABLE%20RADIANCE-CORE%3A%2BUNIX-EPOCH-DIFFERENCE%2B" class="xref">+UNIX-EPOCH-DIFFERENCE+</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:UNIX-TO-UNIVERSAL-TIME"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AUNIX-TO-UNIVERSAL-TIME">UNIX-TO-UNIVERSAL-TIME</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">UNIX-TIME</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/toolkit.lisp#L31">Source</a>  </header> <div class="docstring"><pre>Translate the given unix-time to a universal-time

See <a href="#VARIABLE%20RADIANCE-CORE%3A%2BUNIX-EPOCH-DIFFERENCE%2B" class="xref">+UNIX-EPOCH-DIFFERENCE+</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:UPTIME"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AUPTIME">UPTIME</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/init.lisp#L80">Source</a>  </header> <div class="docstring"><pre>Returns the amount of seconds that radiance has been started for, if at all.

See <a href="#FUNCTION%20RADIANCE-CORE%3ASTARTUP" class="xref">STARTUP</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ASHUTDOWN" class="xref">SHUTDOWN</a>
See <a href="#VARIABLE%20RADIANCE-CORE%3A%2ASTARTUP-TIME%2A" class="xref">*STARTUP-TIME*</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:URI-DISPATCHER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AURI-DISPATCHER">URI-DISPATCHER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/dispatch.lisp#L37">Source</a>  </header> <div class="docstring"><pre>Accessor to the registered uri-dispatcher instances.

Setting this automatically invokes a rebuild of the
*uri-priority* vector.

See <a href="#VARIABLE%20RADIANCE-CORE%3A%2AURI-REGISTRY%2A" class="xref">*URI-REGISTRY*</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AURI-DISPATCHER" class="xref">URI-DISPATCHER</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AREMOVE-URI-DISPATCHER" class="xref">REMOVE-URI-DISPATCHER</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ALIST-URI-DISPATCHERS" class="xref">LIST-URI-DISPATCHERS</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AREBUILD-URI-PRIORITY" class="xref">REBUILD-URI-PRIORITY</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:(SETF URI-DISPATCHER)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3A%28SETF%20URI-DISPATCHER%29">(SETF URI-DISPATCHER)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">DISPATCHER</li>    <li class="argument">NAME</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/dispatch.lisp#L40">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:URI-DISPATCHER&gt;"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AURI-DISPATCHER%3E">URI-DISPATCHER&gt;</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">A</li>    <li class="argument">B</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/dispatch.lisp#L53">Source</a>  </header> <div class="docstring"><pre>Returns true if the uri-dispatcher A has a higher priority than B.

If neither A nor B have a priority set, the
comparison is the same as URI&gt;. If only A has a
priority set, then T is returned. If only B has a
priority set, then NIL is returned. Otherwise T
is returned if the priority of A is greater or equal
to that of B.

See <a href="#FUNCTION%20RADIANCE-CORE%3AURI%3E" class="xref">URI&gt;</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:URI-MATCHES"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AURI-MATCHES">URI-MATCHES</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">URI</li>    <li class="argument">PATTERN-URI</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/uri.lisp#L98">Source</a>  </header> <div class="docstring"><pre>Returns T if the URI matches the PATTERN-URI.

Sepcifically, in order to match:
  The matcher of the pattern must match the path of the uri.
  All the domains must be in the same order and match by
  STRING-EQUAL.
  Either one of them does not have a port set, or the
  ports must match by =.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AMATCHER" class="xref">MATCHER</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AURI" class="xref">URI</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:URI-STRING"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AURI-STRING">URI-STRING</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">URI</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/uri.lisp#L27">Source</a>  </header> <div class="docstring"><pre>Returns a parsable string representation of the URI.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AURI" class="xref">URI</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:URI-TO-URL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AURI-TO-URL">URI-TO-URL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">URI</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">REPRESENTATION</li>    <li class="argument">SCHEMA</li>    <li class="argument">QUERY</li>    <li class="argument">FRAGMENT</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/uri.lisp#L128">Source</a>  </header> <div class="docstring"><pre>Returns a URL representation of the URI.

The QUERY argument takes an alist of keys and variables
to be used in the query part of the resulting URL. The
fragment is the optional fragment part. The schema is,
unless explicitly given, automatically set to HTTPS if
the translated URI's port is 443, the value of the
X-Forwarded-Proto header if present, or HTTP otherwise.

The path, query, and fragment are url-encoded as
necessary.

See <a href="#FUNCTION%20RADIANCE-CORE%3AREPRESENT-URI" class="xref">REPRESENT-URI</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AURL-ENCODE" class="xref">URL-ENCODE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AMAKE-URL" class="xref">MAKE-URL</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:URI&lt;"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AURI%3C">URI&lt;</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">A</li>    <li class="argument">B</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/uri.lisp#L76">Source</a>  </header> <div class="docstring"><pre>Returns T if A logically precedes B in specificity.

In more detail (short-circuiting top to bottom):
  T    A does not have a port, but B does
  T    A's number of domains is less than B's
  T    A's length of the path is greater than B's
  NIL  for everything else

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AURI" class="xref">URI</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:URI="> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AURI%3D">URI=</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">A</li>    <li class="argument">B</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/uri.lisp#L88">Source</a>  </header> <div class="docstring"><pre>Returns T if A and B represent the same URIs.

Specifically:
  Ports must be EQL
  Paths must be EQUAL
  Domains must be the same order and be STRING-EQUAL

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AURI" class="xref">URI</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:URI&gt;"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AURI%3E">URI&gt;</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">A</li>    <li class="argument">B</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/uri.lisp#L85">Source</a>  </header> <div class="docstring"><pre>Returns T if A logically follows B in specificity.

See <a href="#FUNCTION%20RADIANCE-CORE%3AURI%3C" class="xref">URI&lt;</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:URL-ENCODE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AURL-ENCODE">URL-ENCODE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">THING</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">STREAM</li>    <li class="argument">EXTERNAL-FORMAT</li>    <li class="argument">ALLOWED</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/toolkit.lisp#L178">Source</a>  </header> <div class="docstring"><pre>Encodes the given string to the stream in url-encoded format.

This means that characters that are not one of a-Z 0-9 - . _ ~
are written down in percent-encoded schema.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:USER-AGENT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AUSER-AGENT">USER-AGENT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">REQUEST</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/request.lisp#L97">Source</a>  </header> <div class="docstring"><pre>Accesses the user-agent header of the request.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AHEADERS" class="xref">HEADERS</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3A%2AREQUEST%2A" class="xref">*REQUEST*</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:(SETF USER-AGENT)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3A%28SETF%20USER-AGENT%29">(SETF USER-AGENT)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">REQUEST</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/request.lisp#L100">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RADIANCE-CORE:VIRTUAL-MODULE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RADIANCE-CORE%3AVIRTUAL-MODULE">VIRTUAL-MODULE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MODULE</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/interfaces.lisp#L12">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:API-SERIALIZE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AAPI-SERIALIZE">API-SERIALIZE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/api.lisp#L41">Source</a>  </header> <div class="docstring"><pre>Cause the object to be serialised into a more favourable structure.

This function should be used by api-format providers to
transform objects that cannot be directly emitted into
a structure that can.

If the object is not serializable, an error of type
API-UNSERIALIZABLE-OBJECT is signalled.</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:ARGSLIST"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AARGSLIST">ARGSLIST</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accesses the lambda-list of the api-endpoint's handler.

This describes the public interface's arguments.
Arguments are usually received as GET or POST
parameters of the same name as the argument symbol and it
thus only makes sense for the lambda-list to contain 
required and optional arguments.

See <a href="#FUNCTION%20RADIANCE-CORE%3AAPI-ENDPOINT" class="xref">API-ENDPOINT</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF ARGSLIST)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20ARGSLIST%29">(SETF ARGSLIST)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:CONTENT-TYPE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ACONTENT-TYPE">CONTENT-TYPE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accesses the HTTP content-type to send out.

Defaults to *DEFAULT-CONTENT-TYPE*

See <a href="#VARIABLE%20RADIANCE-CORE%3A%2ADEFAULT-CONTENT-TYPE%2A" class="xref">*DEFAULT-CONTENT-TYPE*</a>
See <a href="#CLASS%20RADIANCE-CORE%3ARESPONSE" class="xref">RESPONSE</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF CONTENT-TYPE)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20CONTENT-TYPE%29">(SETF CONTENT-TYPE)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:COOKIES"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ACOOKIES">COOKIES</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accesses the table of cookies that the request received or the response should send out.

See <a href="#FUNCTION%20RADIANCE-CORE%3AREQUEST" class="xref">REQUEST</a>
See <a href="#CLASS%20RADIANCE-CORE%3ARESPONSE" class="xref">RESPONSE</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF COOKIES)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20COOKIES%29">(SETF COOKIES)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:DATA"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ADATA">DATA</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accesses the table of internal data that the request should keep and the data that the response should send out.

For the response, the data is allowed to be of type
 PATHNAME
 STRING
 (ARRAY (UNSINGED-BYTE 8))

See <a href="#FUNCTION%20RADIANCE-CORE%3AREQUEST" class="xref">REQUEST</a>
See <a href="#CLASS%20RADIANCE-CORE%3ARESPONSE" class="xref">RESPONSE</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF DATA)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20DATA%29">(SETF DATA)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:DIRECTION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ADIRECTION">DIRECTION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accessor to the direction in which the route operates.

Has to be one of :MAPPING :REVERSAL

See <a href="#FUNCTION%20RADIANCE-CORE%3AROUTE" class="xref">ROUTE</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF DIRECTION)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20DIRECTION%29">(SETF DIRECTION)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:DISPATCH-FUNCTION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ADISPATCH-FUNCTION">DISPATCH-FUNCTION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accessor to the function that performs the actual response building of the dispatch.

The function should not take any arguments.
The body should either set the data of the *RESPONSE*
object or return suitable data for it.

See <a href="#FUNCTION%20RADIANCE-CORE%3AURI-DISPATCHER" class="xref">URI-DISPATCHER</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF DISPATCH-FUNCTION)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20DISPATCH-FUNCTION%29">(SETF DISPATCH-FUNCTION)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:DOMAIN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ADOMAIN">DOMAIN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MODULE</li>  </ul>  </header> <div class="docstring"><pre>Accesses the domain that the request arrived on or the cookie is active on.

See <a href="#FUNCTION%20RADIANCE-CORE%3AREQUEST" class="xref">REQUEST</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ACOOKIE" class="xref">COOKIE</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF DOMAIN)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20DOMAIN%29">(SETF DOMAIN)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:DOMAINS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ADOMAINS">DOMAINS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accesses the list of (sub)domains of the URI.

The domains are in order of increasing specificity.
This means they are the reverse of standard URL
syntax. This is done for ease of matching and
because it is honestly the more sensible way to
represent a domain.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AURI" class="xref">URI</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF DOMAINS)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20DOMAINS%29">(SETF DOMAINS)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:ENSURE-DEPENDENCIES-READY"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AENSURE-DEPENDENCIES-READY">ENSURE-DEPENDENCIES-READY</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">SYSTEM</li>    <li class="argument">FROM</li>  </ul>  </header> <div class="docstring"><pre>This function should ensure that all dependencies of the given system are ready for the system to perform a migration away from the given version.

By default this will call READY-DEPENDENCY-FOR-MIGRATION on all
systems that are recorded in the system's defsystem-dependencies
and regular dependencies, AND are virtual-module systems.

The user should supply methods on this function in case it is
necessary to perform actions on other systems for the migration
to perform smoothly.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AREADY-DEPENDENCY-FOR-MIGRATION" class="xref">READY-DEPENDENCY-FOR-MIGRATION</a>
See ASDF:SYSTEM-DEFSYSTEM-DEPENDS-ON
See ASDF:SYSTEM-DEPENDS-ON</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:ENVIRONMENT-DIRECTORY"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AENVIRONMENT-DIRECTORY">ENVIRONMENT-DIRECTORY</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ENVIRONMENT</li>    <li class="argument">TYPE</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/environment.lisp#L13">Source</a>  </header> <div class="docstring"><pre>Returns the base directory for the given environment and file kind.

If the ENVIRONMENT parameter is T, it is treated as if it were
the value of (ENVIRONMENT).

The administrator is encouraged to provide specialised methods
on this generic function in order to redefine the base directories
used for the environment's files.

The following KINDs are currently recognised internally, though
the user may supply further kinds.

  :CONFIGURATION  --- The base for configuration files. The
                      MCONFIG/CONFIG functions access files in
                      this base directory.
  :CACHE          --- The base for temporary cache files that
                      may be cleared out without consequence.
  :DATA           --- The base for data files. Modules may use
                      this directory to store data files for
                      runtime caches, user data, etc.
  :TEMPLATE       --- The base for template files. Administrators
                      may use this directory to provide overrides
                      for a module's template files.
  :STATIC         --- The base for static files. Administrators
                      may use this directory to provide overrides
                      for a module's static files.

By default the base paths are determined as follows:

  :CONFIGURATION
1. A root is discovered as one of the following alternatives:
1.1. The XDG_CONFIG_HOME environment variable is consulted.
1.2. On Windows the AppData environment variable is consulted.
1.3. On Windows the directory ~/Application Data/ is used.
1.4. The directory ~/.config/ is used.
2. A subdirectory called &quot;radiance&quot; is added to the root.
3. A subdirectory with the environment name is added to the root.

  :CACHE
1. A root is discovered as one of the following alternatives:
1.1 The XDG_CACHE_HOME environment variable is consulted.
1.2 On Windows the TEMP environment variable is consulted.
1.3 On Windows the directory ~/Local Settings/Temp/ is used.
1.4 The directory ~/.cache/ is used.
2. A subdirectory called &quot;radiance&quot; is added to the root.
3. A subdirectory with the environment name is added to the root.

  :DATA/:TEMPLATE/:STATIC
1. A root is discovered as one of the following alternatives:
1.1 The XDG_DATA_HOME environment variable is consulted.
1.2 On Windows the LocalAppData environment variable is consulted.
1.3 On Windows the directory ~/Local Settings/ is used.
1.4 The directory ~/.local/share/ is used.
2. A subdirectory called &quot;radiance&quot; is added to the root.
3. A subdirectory with the environment name is added to the root.
4. A subdirectory with the name of the type (data/template/static) 
   is added to the root.

For instance, the environment directory on a clean Linux system
for the &quot;default&quot; environment and :configuration kind would be:

  ~/.config/radiance/default/

The same on a recent (Vista+) Windows system would be:

  ~/AppData/Roaming/radiance/default/

And on an older (XP-) Windows system it would be:

  ~/Application Data/radiance/default/</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:ENVIRONMENT-MODULE-DIRECTORY"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AENVIRONMENT-MODULE-DIRECTORY">ENVIRONMENT-MODULE-DIRECTORY</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MODULE</li>    <li class="argument">TYPE</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/environment.lisp#L14">Source</a>  </header> <div class="docstring"><pre>Returns the base directory for the given module and file kind.

The administrator is allowed to supply custom methods to this
function that specialise on specific modules to tightly control
the behaviour.

If the environment is unset, this function will signal an error.

By default this simply retrieves the environment root directory
for the requested file kind and adds a subdirectory named after
the downcased module name.

For instance, the module directory for the radiance-core
module in the default environment for the :configuration kind
on Linux would be:

  ~/.config/radiance/default/radiance-core/

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AENVIRONMENT-DIRECTORY" class="xref">ENVIRONMENT-DIRECTORY</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AENVIRONMENT" class="xref">ENVIRONMENT</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ACHECK-ENVIRONMENT" class="xref">CHECK-ENVIRONMENT</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:EXPANDER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AEXPANDER">EXPANDER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accesses the actual expansion function of the object.

See <a href="#FUNCTION%20RADIANCE-CORE%3AOPTION" class="xref">OPTION</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF EXPANDER)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20EXPANDER%29">(SETF EXPANDER)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:EXPIRES"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AEXPIRES">EXPIRES</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accesses when the cookie will expire, if at all.

See <a href="#FUNCTION%20RADIANCE-CORE%3ACOOKIE" class="xref">COOKIE</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF EXPIRES)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20EXPIRES%29">(SETF EXPIRES)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:EXTERNAL-FORMAT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AEXTERNAL-FORMAT">EXTERNAL-FORMAT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accesses the external-format to use to serialise the text data.

Defaults to *DEFAULT-EXTERNAL-FORMAT*

See <a href="#VARIABLE%20RADIANCE-CORE%3A%2ADEFAULT-EXTERNAL-FORMAT%2A" class="xref">*DEFAULT-EXTERNAL-FORMAT*</a>
See <a href="#CLASS%20RADIANCE-CORE%3ARESPONSE" class="xref">RESPONSE</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF EXTERNAL-FORMAT)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20EXTERNAL-FORMAT%29">(SETF EXTERNAL-FORMAT)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:GET-DATA"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AGET-DATA">GET-DATA</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accesses the table of GET variables that the request received.

See <a href="#FUNCTION%20RADIANCE-CORE%3AREQUEST" class="xref">REQUEST</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF GET-DATA)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20GET-DATA%29">(SETF GET-DATA)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:HANDLER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AHANDLER">HANDLER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accesses the handler function of the api-endpoint.

The handler-function must have the same lambda-list as
the api-endpoint's ARGSLIST. It must call API-OUTPUT
at some point during its evaluation to emit data.

See <a href="#FUNCTION%20RADIANCE-CORE%3AAPI-ENDPOINT" class="xref">API-ENDPOINT</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF HANDLER)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20HANDLER%29">(SETF HANDLER)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:HEADERS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AHEADERS">HEADERS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accesses the table of headers that the request received or the response should send out.

See <a href="#FUNCTION%20RADIANCE-CORE%3AREQUEST" class="xref">REQUEST</a>
See <a href="#CLASS%20RADIANCE-CORE%3ARESPONSE" class="xref">RESPONSE</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF HEADERS)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20HEADERS%29">(SETF HEADERS)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:HTTP-METHOD"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AHTTP-METHOD">HTTP-METHOD</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accesses the HTTP method that was used to request the page.

Should be one of :GET :HEAD :POST :PUT :DELETE :TRACE :CONNECT

See <a href="#FUNCTION%20RADIANCE-CORE%3AREQUEST" class="xref">REQUEST</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF HTTP-METHOD)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20HTTP-METHOD%29">(SETF HTTP-METHOD)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:HTTP-ONLY"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AHTTP-ONLY">HTTP-ONLY</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accesses whether the cookie should get the http-only flag.

See <a href="#FUNCTION%20RADIANCE-CORE%3ACOOKIE" class="xref">COOKIE</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF HTTP-ONLY)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20HTTP-ONLY%29">(SETF HTTP-ONLY)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:ISSUE-TIME"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AISSUE-TIME">ISSUE-TIME</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accesses the universal-time at which the request was issued.

See <a href="#FUNCTION%20RADIANCE-CORE%3AREQUEST" class="xref">REQUEST</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF ISSUE-TIME)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20ISSUE-TIME%29">(SETF ISSUE-TIME)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:LAST-KNOWN-SYSTEM-VERSION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ALAST-KNOWN-SYSTEM-VERSION">LAST-KNOWN-SYSTEM-VERSION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">SYSTEM</li>  </ul>  </header> <div class="docstring"><pre>Return the last known version of this system that had been migrated to.

Returns the version as an encoded keyword or NIL if the system
has not seen a migration previously. This version is automatically
adapted after MIGRATE-VERSIONS on the system completes
successfully.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AMIGRATE-VERSIONS" class="xref">MIGRATE-VERSIONS</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF LAST-KNOWN-SYSTEM-VERSION)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20LAST-KNOWN-SYSTEM-VERSION%29">(SETF LAST-KNOWN-SYSTEM-VERSION)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VERSION</li>    <li class="argument">SYSTEM</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:LOCATORS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ALOCATORS">LOCATORS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accessor to the resource type's locator functions.</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF LOCATORS)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20LOCATORS%29">(SETF LOCATORS)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:MATCHER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AMATCHER">MATCHER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accesses the regex matcher function of the URI.

The matcher only matches against the path part
of a URI. The matcher should always act according
to the regex stored in the PATH part of the URI.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3APATH" class="xref">PATH</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AURI" class="xref">URI</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF MATCHER)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20MATCHER%29">(SETF MATCHER)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:MESSAGE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AMESSAGE">MESSAGE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">CONDITION</li>  </ul>  </header> <div class="docstring"><pre>Accessor to the message of the condition.

See <a href="#CONDITION%20RADIANCE-CORE%3ARADIANCE-CONDITION" class="xref">RADIANCE-CONDITION</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF MESSAGE)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20MESSAGE%29">(SETF MESSAGE)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">CONDITION</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:MIGRATE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AMIGRATE">MIGRATE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">SYSTEM</li>    <li class="argument">FROM</li>    <li class="argument">TO</li>  </ul>  </header> <div class="docstring"><pre>Migrates the given system between the given versions.

Sometimes when versions change, a migration of runtime data is
required to ensure that the system still operates correctly on
existing data.

This function should ensure that this compatibility is achieved.

The system should be a designator for an ASDF system.

FROM may be one of the following:
  T       --- The system is migrated from its last known version.
  NIL     --- The system is migrated from a time before migrations.
  version --- The system is migrated from this specific version.

TO may be one of the following:
  T       --- The system is migrated to its current system version.
  version --- The system is migrated to this specific version.

When this function is called it determines the list of concrete
versions in the range of the specified FROM and TO versions.
It then calls MIGRATE-VERSION on the system and each pair of
versions in the computed range. For instance, if the list of
versions is (1 2 3 4), then MIGRATE-VERSION is called with the
pairs (1 2) (2 3) (3 4).

If the target version is T and the system has no recorded version,
an error of type SYSTEM-HAS-NO-VERSION is signalled. If the target
version is considered less than the source version, an error of
type BACKWARDS-MIGRATION-NOT-ALLOWED is signalled.

Two restarts are established during migration:
  ABORT         --- Aborts migration of the current system,
                    leaving the last known system version the
                    same.
  FORCE-VERSION --- Aborts the migration of the current system,
                    but forces the last known system version to
                    the requested target version.

See <a href="#FUNCTION%20RADIANCE-CORE%3AENSURE-PARSED-VERSION" class="xref">ENSURE-PARSED-VERSION</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AVERSIONS" class="xref">VERSIONS</a>
See MIGRATE-VERSION
See <a href="#CONDITION%20RADIANCE-CORE%3ASYSTEM-HAS-NO-VERSION" class="xref">SYSTEM-HAS-NO-VERSION</a>
See <a href="#CONDITION%20RADIANCE-CORE%3ABACKWARDS-MIGRATION-NOT-ALLOWED" class="xref">BACKWARDS-MIGRATION-NOT-ALLOWED</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:MIGRATE-VERSIONS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AMIGRATE-VERSIONS">MIGRATE-VERSIONS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">SYSTEM</li>    <li class="argument">FROM</li>    <li class="argument">TO</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/migration.lisp#L127">Source</a>  </header> <div class="docstring"><pre>Perform a migration of the system from the given source version to the given target version.

If a system or module requires manual intervention to upgrade
data or other parts in order to move between versions, the author
of the system should specialise a method on this function that
performs the requested upgrade step.

FROM and TO should be encoded versions in keyword form. FROM can
also be the NIL symbol, which is useful to migrate from previously
unknown versions to another.

Note that the version steps between migrate-version methods on the
same system should be contiguous. This means that if a system has
the concrete versions 1, 2, 3, and 4, then there should be methods
(if necessary) to upgrade from 1 to 2, from 2 to 3, from 3 to 4.
Migration steps with gaps, such as from 2 to 4, will not be
triggered by the system.

Also note that by default the list of concrete versions a system
offers are inferred from the methods defined on this function.
There is no need to further inform the system on available
concrete versions of a system.

A default method that performs no action is provided on this
function, as in the majority of cases no migration step is
required. As such, methods need only be added to this function if
an action is required.

Before the primary method is executed, ENSURE-DEPENDENCIES-READY
is called on the system and the source version. This should
ensure that dependant systems are on a required version for this
system to perform its own actions.

After the primary method has completed, the target version is
recorded as the last known concrete system version.

The user should NOT call this function. It is called by MIGRATE
as appropriate.

See <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-VERSION-MIGRATION" class="xref">DEFINE-VERSION-MIGRATION</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AVERSIONS" class="xref">VERSIONS</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AMIGRATE" class="xref">MIGRATE</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AENSURE-DEPENDENCIES-READY" class="xref">ENSURE-DEPENDENCIES-READY</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ALAST-KNOWN-SYSTEM-VERSION" class="xref">LAST-KNOWN-SYSTEM-VERSION</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:NAME"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ANAME">NAME</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accesses the name of the object.

May be a symbol or a string depending on the object.</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF NAME)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20NAME%29">(SETF NAME)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:OPTION-TYPE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AOPTION-TYPE">OPTION-TYPE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accesses the type of option that this option object belongs to.

See <a href="#FUNCTION%20RADIANCE-CORE%3AOPTION" class="xref">OPTION</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF OPTION-TYPE)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20OPTION-TYPE%29">(SETF OPTION-TYPE)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:PATH"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3APATH">PATH</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accesses the path of the URI.

If the URI is meant to be matched against, the
path can also be a regular expression as per
cl-ppcre. In that case, the URI's MATCHER slot
must be a cl-ppcre scanner function.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AMATCHER" class="xref">MATCHER</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AURI" class="xref">URI</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF PATH)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20PATH%29">(SETF PATH)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:PORT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3APORT">PORT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accesses the port of the URI.

Must be of type (OR (INTEGER 0 65535) NULL)

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AURI" class="xref">URI</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF PORT)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20PORT%29">(SETF PORT)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:POST-DATA"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3APOST-DATA">POST-DATA</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accesses the table of POST-body variables that the request received.

See <a href="#FUNCTION%20RADIANCE-CORE%3AREQUEST" class="xref">REQUEST</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF POST-DATA)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20POST-DATA%29">(SETF POST-DATA)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:PRIORITY"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3APRIORITY">PRIORITY</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accessor to the priority, which may be NIL or an INTEGER.

See <a href="#FUNCTION%20RADIANCE-CORE%3AURI-DISPATCHER" class="xref">URI-DISPATCHER</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ADISPATCH" class="xref">DISPATCH</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AROUTE" class="xref">ROUTE</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF PRIORITY)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20PRIORITY%29">(SETF PRIORITY)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:READY-DEPENDENCY-FOR-MIGRATION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AREADY-DEPENDENCY-FOR-MIGRATION">READY-DEPENDENCY-FOR-MIGRATION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">DEPENDENCY</li>    <li class="argument">SYSTEM</li>    <li class="argument">FROM</li>  </ul>  </header> <div class="docstring"><pre>This function should ensure that the dependency conforms to the system's required state to migrate away from the given version.

By default this will invoke MIGRATE on the dependency with both
source and from versions being T.

The user should supply methods on this function to customise the
precise versions or features required to perform the migration of
the system properly.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AMIGRATE" class="xref">MIGRATE</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:REMOTE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AREMOTE">REMOTE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accesses the remote address that the request was sent out from.

See <a href="#FUNCTION%20RADIANCE-CORE%3AREQUEST" class="xref">REQUEST</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF REMOTE)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20REMOTE%29">(SETF REMOTE)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:REQUEST-HANDLER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AREQUEST-HANDLER">REQUEST-HANDLER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accesses the function to handle a direct request object and transform it into a proper api call.

This function is usually automatically generated.
It should read out the parameters from the request object
and turn them into arguments for a call to the api-endpoint's 
handler function. The function only takes a single argument
namely the request object to handle.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AHANDLER" class="xref">HANDLER</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AAPI-ENDPOINT" class="xref">API-ENDPOINT</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF REQUEST-HANDLER)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20REQUEST-HANDLER%29">(SETF REQUEST-HANDLER)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:RETURN-CODE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ARETURN-CODE">RETURN-CODE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accesses the HTTP return code to send out.

Defaults to 200.

See <a href="#CLASS%20RADIANCE-CORE%3ARESPONSE" class="xref">RESPONSE</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF RETURN-CODE)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20RETURN-CODE%29">(SETF RETURN-CODE)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:SECURE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ASECURE">SECURE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accesses whether the cookie should get the secure flag.

See <a href="#FUNCTION%20RADIANCE-CORE%3ACOOKIE" class="xref">COOKIE</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF SECURE)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20SECURE%29">(SETF SECURE)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:TRANSLATOR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ATRANSLATOR">TRANSLATOR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accessor to the route's translation function.

The function should accept a single URI object
as an argument and modify it as it sees fit.

See <a href="#FUNCTION%20RADIANCE-CORE%3AROUTE" class="xref">ROUTE</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF TRANSLATOR)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20TRANSLATOR%29">(SETF TRANSLATOR)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:URI"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AURI">URI</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accesses the URI that the request operates on.

Depending on the stage of the request, the URI may be either
internal or external.

See <a href="#FUNCTION%20RADIANCE-CORE%3AREQUEST" class="xref">REQUEST</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF URI)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20URI%29">(SETF URI)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:VALUE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AVALUE">VALUE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Accesses the cookie value.

See <a href="#FUNCTION%20RADIANCE-CORE%3ACOOKIE" class="xref">COOKIE</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF VALUE)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20VALUE%29">(SETF VALUE)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:VERSIONS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AVERSIONS">VERSIONS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">SYSTEM</li>  </ul>  </header> <div class="docstring"><pre>Returns a list of concrete version designators that are known for the given system.

This list is deduplicated and sorted in such a way that lower
versions come earlier in the list.

By default this list is computed by inspecting the list of primary
methods on MIGRATE-VERSION, extracting the version specifiers, and
subsequently deduplicating and sorting the resulting list.

The user may supply methods on this function in case the
automatically computed list of versions is inadequate somehow.

See <a href="#FUNCTION%20RADIANCE-CORE%3AVERSION%3C" class="xref">VERSION&lt;</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AMIGRATE" class="xref">MIGRATE</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AMIGRATE-VERSIONS" class="xref">MIGRATE-VERSIONS</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:VIRTUAL-MODULE-NAME"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AVIRTUAL-MODULE-NAME">VIRTUAL-MODULE-NAME</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><pre>Returns the module name associated with this virtual module.</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RADIANCE-CORE:(SETF VIRTUAL-MODULE-NAME)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3A%28SETF%20VIRTUAL-MODULE-NAME%29">(SETF VIRTUAL-MODULE-NAME)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:@STATIC"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3A%40STATIC">@STATIC</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAMESTRING</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/environment.lisp#L151">Source</a>  </header> <div class="docstring"><pre>Expands to a pathname to the static file in the current module.

This expands to a load-time-value form if the namestring is constant,
ensuring that no expensive lookups are done at runtime.

See <a href="#FUNCTION%20RADIANCE-CORE%3ASTATIC-FILE" class="xref">STATIC-FILE</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:@TEMPLATE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3A%40TEMPLATE">@TEMPLATE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAMESTRING</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/environment.lisp#L161">Source</a>  </header> <div class="docstring"><pre>Expands to a pathname to the template file in the current module.

This expands to a load-time-value form if the namestring is constant,
ensuring that no expensive lookups are done at runtime.

See <a href="#FUNCTION%20RADIANCE-CORE%3ATEMPLATE-FILE" class="xref">TEMPLATE-FILE</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:API-ERROR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3AAPI-ERROR">API-ERROR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">FORMAT-STRING</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">FORMAT-ARGS</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/api.lisp#L143">Source</a>  </header> <div class="docstring"><pre>Shorthand for (ERROR 'API-ERROR :MESSAGE (FORMAT NIL ..))

See <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3AAPI-ERROR" class="xref">API-ERROR</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:CONFIG"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ACONFIG">CONFIG</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">PATH</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/environment.lisp#L137">Source</a>  </header> <div class="docstring"><pre>Shorthand to access the current module's configuration.

This has to be a macro so that the current package can be
captured.

See <a href="#FUNCTION%20RADIANCE-CORE%3AMCONFIG" class="xref">MCONFIG</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:CURRENT-MODULE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ACURRENT-MODULE">CURRENT-MODULE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>Macro that expands to the module in the current package.
Useful to establish a module context.</pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:DEFAULTED-CONFIG"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFAULTED-CONFIG">DEFAULTED-CONFIG</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">DEFAULT</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">PATH</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/environment.lisp#L140">Source</a>  </header> <div class="docstring"><pre>Shorthand to set/retrieve a defaulted value from the module's configuration.

This has to be a macro so that the current package can be
captured.

See <a href="#FUNCTION%20RADIANCE-CORE%3ADEFAULTED-MCONFIG" class="xref">DEFAULTED-MCONFIG</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:DEFINE-API"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-API">DEFINE-API</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument">ARGS</li>    <li class="argument">OPTIONS</li>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">BODY</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/api.lisp#L120">Source</a>  </header> <div class="docstring"><pre>Defines a new api endpoint.

NAME     --- The name of the endpoint. This also designates
             where the endpoint will be reachable. By default
             any endpoint can be reached on a /api/[name] path.
ARGS     --- The lambda-list for the arguments to the api endpoint.
             Usually, unless a specific request-handler is used,
             only required and optional arguments can be used.
             Their names correspond to the names that will be used
             to read out their values from the POST/GET variables of
             a request.
OPTIONS  --- A list of options that modify the api endpoint in some
             way.
BODY     --- A number of body forms that compose the actual
             functionality of the api endpoint. Should call API-OUTPUT
             at some point.

A standard uri-dispatcher called API is responsible for calling the
api pages when the path /api/ is requested.

Api definitions are transformed by options of the type API.

See <a href="#FUNCTION%20RADIANCE-CORE%3AAPI-OUTPUT" class="xref">API-OUTPUT</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AAPI-ENDPOINT" class="xref">API-ENDPOINT</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AHANDLER" class="xref">HANDLER</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AREQUEST-HANDLER" class="xref">REQUEST-HANDLER</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ACALL-API" class="xref">CALL-API</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ACALL-API-REQUEST" class="xref">CALL-API-REQUEST</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AEXPAND-OPTIONS" class="xref">EXPAND-OPTIONS</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:DEFINE-API-FORMAT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-API-FORMAT">DEFINE-API-FORMAT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <ul class="arguments"> <li class="argument">ARGSVAR</li> </ul>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">BODY</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/api.lisp#L25">Source</a>  </header> <div class="docstring"><pre>Define a new api format.

You should configure the *RESPONSE* to output the properly
serialised content of the argument you receive.

Note that the structures must be recursively serialised and
you may not error when encountering any of the types listed
as permitted in API-OUTPUT.

See <a href="#FUNCTION%20RADIANCE-CORE%3AAPI-FORMAT" class="xref">API-FORMAT</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AAPI-OUTPUT" class="xref">API-OUTPUT</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:DEFINE-DOCUMENTABLE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-DOCUMENTABLE">DEFINE-DOCUMENTABLE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument">DIRECT-SUPERCLASSES</li>    <li class="argument">DIRECT-SLOTS</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">OPTIONS</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/documentable.lisp#L20">Source</a>  </header> <div class="docstring"><pre>Defines a new documentable class.

If the class-option :FIND-FUNCTION is given, shortcut
functions for DOCUMENTATION are additionally created
that allow using just the name of an instance to
access the docstring. The find-function is called
with a single argument, the name of the instance to find.

See <a href="#CLASS%20RADIANCE-CORE%3ADOCUMENTABLE" class="xref">DOCUMENTABLE</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:DEFINE-HOOK"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-HOOK">DEFINE-HOOK</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument">ARGS</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">DOCUMENTATION</li>  </ul>  </header> <div class="docstring"><pre>Defines a new hook on which triggers can be defined.
The name should be a symbol from the module that the hook should belong to.</pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:DEFINE-HOOK-SWITCH"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-HOOK-SWITCH">DEFINE-HOOK-SWITCH</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ON</li>    <li class="argument">OFF</li>    <li class="argument">ARGS</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:DEFINE-IMPLEMENT-TRIGGER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-IMPLEMENT-TRIGGER">DEFINE-IMPLEMENT-TRIGGER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">INTERFACE</li>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">BODY</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/interfaces.lisp#L104">Source</a>  </header> <div class="docstring"><pre>Defines a trigger that will cause the body to be compiled and run once the interface becomes implemented.

This is useful if you want to provide parts of a package
that depend on an interface being implemented, but do not
want to depend on the interface directly. Thus, using this
you can achieve optional/soft dependencies.

This depends on the IMPLEMENTED hook-switch present on every
Radiance interface. Since it is a hook-switch, a trigger like
this will be called automatically even if it is defined after
the interface has already been implemented.

Note that since the body is captured and quoted, and thus no
compilation will occur until the hook is triggered. This means
that you will potentially miss out on compilation errors or
information until later.

See <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-INTERFACE" class="xref">DEFINE-INTERFACE</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:DEFINE-INTERFACE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-INTERFACE">DEFINE-INTERFACE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">COMPONENTS</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/interfaces.lisp#L99">Source</a>  </header> <div class="docstring"><pre>Define a new module interface.

Unlike the native version of this macro, a hook-switch is
always defined that provides an IMPLEMENTED and UNIMPLEMENTED
hook, which will be called at the appropriate time. This
lets you react to when an implementation becomes active and
thus conditionally compile code without needing to incur a 
hard dependency.

See <a href="https://Shinmera.github.io/modularize-interfaces/#MACRO-FUNCTION%20MODULARIZE-INTERFACES%3ADEFINE-INTERFACE" class="xref">MODULARIZE-INTERFACES:DEFINE-INTERFACE</a>
See <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-IMPLEMENT-TRIGGER" class="xref">DEFINE-IMPLEMENT-TRIGGER</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:DEFINE-INTERFACE-EXTENSION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-INTERFACE-EXTENSION">DEFINE-INTERFACE-EXTENSION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">COMPONENTS</li>  </ul>  </header> <div class="docstring"><pre>Currently not implemented.</pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:DEFINE-MATCHING-ROUTE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-MATCHING-ROUTE">DEFINE-MATCHING-ROUTE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument">TYPE</li>    <ul class="arguments"> <li class="argument">URIVAR</li>  <li class="argument">DOMAINS</li>  <li class="argument">PORT</li>  <li class="argument">PATH</li> </ul>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">BODY</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/routing.lisp#L159">Source</a>  </header> <div class="docstring"><pre>Defines a route where the URI is bound to URIVAR and the body is only evaluated if the tests for the individual parts of the URI pass.

See <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3AWITH-ROUTE-TEST-BINDINGS" class="xref">WITH-ROUTE-TEST-BINDINGS</a>
See <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-ROUTE" class="xref">DEFINE-ROUTE</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:DEFINE-MODULE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-MODULE">DEFINE-MODULE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">OPTIONS</li>  </ul>  </header> <div class="docstring"><pre>Defines a new module.

This essentially defines a new package with the given name,
calls MODULARIZE on it and then expands all options to extend
the package/module.</pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:DEFINE-MODULE-EXTENSION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-MODULE-EXTENSION">DEFINE-MODULE-EXTENSION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <ul class="arguments"> <li class="argument">MODULE-IDENTIFIER</li>  <li class="argument">NAME</li> </ul>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">OPTIONS</li>  </ul>  </header> <div class="docstring"><pre>Defines a module extension.

This gives the existing module new nicknames and expands the
given options on it to add functionality.</pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:DEFINE-OPTION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-OPTION">DEFINE-OPTION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">TYPE</li>    <li class="argument">NAME</li>    <li class="argument">ARGS</li>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">BODY</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/options.lisp#L51">Source</a>  </header> <div class="docstring"><pre>Define a new option expander.

Option expanders are used to present an extensible mechanism
for adding functionality to various definition macros such
as DEFINE-PAGE, DEFINE-API, etc.

An option expander should return two values:
 1. The new list of body forms to use
 2. A single form to output before and outside of the
    definition.

The argument list must be congruent with the one defined by
the option type plus a final, optional value argument.
Usually the arglist will look like so:

  NAME BODY ARGS* [VALUE]

Where NAME is the definition name, BODY is the list of
body forms, and ARGS is any number of additional arguments
that the option type mandates.

See <a href="#FUNCTION%20RADIANCE-CORE%3AOPTION" class="xref">OPTION</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AEXPAND-OPTIONS" class="xref">EXPAND-OPTIONS</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:DEFINE-PAGE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-PAGE">DEFINE-PAGE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument">URI</li>    <li class="argument">OPTIONS</li>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">BODY</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/page.lisp#L18">Source</a>  </header> <div class="docstring"><pre>Defines a new page that can be requested.

NAME     --- The name of the page. This is merely used to identify
             it uniquely.
URI      --- The actual URI on which the page will be found. This is
             an internal URI. The path is a regex.
OPTIONS  --- A list of options that modify the page definition in some
             way.
BODY     --- A number of body forms that compose the actual
             functionality of the page. Should set or return suitable
             data for the response.

Page definitions are transformed by options of the type PAGE.

See <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-URI-DISPATCHER" class="xref">DEFINE-URI-DISPATCHER</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AEXPAND-OPTIONS" class="xref">EXPAND-OPTIONS</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:DEFINE-RESOURCE-LOCATOR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-RESOURCE-LOCATOR">DEFINE-RESOURCE-LOCATOR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MODULE</li>    <li class="argument">TYPE</li>    <li class="argument">ARGS</li>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">BODY</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/resource.lisp#L57">Source</a>  </header> <div class="docstring"><pre>Define a resource locator for a given resource type.

The arguments list can vary depending on the resource type
and even between locators for the same resource. Ultimately
the argument list is decided by the locator that ends up
being called.

Within the body, the local function CALL-DEFAULT-LOCATOR
can be used to call the default locator for this resource
type.

If an attempt is made to define a locator for an inexistent
resource type, an error is signalled.

See <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-RESOURCE-TYPE" class="xref">DEFINE-RESOURCE-TYPE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ARESOURCE" class="xref">RESOURCE</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:DEFINE-RESOURCE-TYPE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-RESOURCE-TYPE">DEFINE-RESOURCE-TYPE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">TYPE</li>    <li class="argument">ARGS</li>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">DEFAULT</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/resource.lisp#L47">Source</a>  </header> <div class="docstring"><pre>Define a new resource type.

A resource-type defines a way to retrieve a certain kind of
information from a module.

If DEFAULT is given, a fallback function is defined with it.
You can retrieve this fallback by using T as the indent.

The first argument of any resource call is always the module
it was called for.

See <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-RESOURCE-LOCATOR" class="xref">DEFINE-RESOURCE-LOCATOR</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ARESOURCE-TYPE" class="xref">RESOURCE-TYPE</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ARESOURCE-LOCATOR" class="xref">RESOURCE-LOCATOR</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ARESOURCE" class="xref">RESOURCE</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:DEFINE-ROUTE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-ROUTE">DEFINE-ROUTE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument">DIRECTION</li>    <ul class="arguments"> <li class="argument">URIVAR</li> </ul>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">BODY</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/routing.lisp#L82">Source</a>  </header> <div class="docstring"><pre>Define a new route.

DIRECTION has to be one of :MAPPING :REVERSAL
where mapping routes transform URIs from the
external to the internal representation and vice-
versa.

The body should modify the URI object it receives
as it sees fit. While in general routes will be
called in the context of a request, it is not
absolutely necessary.

See <a href="#FUNCTION%20RADIANCE-CORE%3AROUTE" class="xref">ROUTE</a>
See <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-MATCHING-ROUTE" class="xref">DEFINE-MATCHING-ROUTE</a>
See <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-TARGET-ROUTE" class="xref">DEFINE-TARGET-ROUTE</a>
See <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-STRING-ROUTE" class="xref">DEFINE-STRING-ROUTE</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:DEFINE-STRING-ROUTE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-STRING-ROUTE">DEFINE-STRING-ROUTE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument">TYPE</li>    <li class="argument">SOURCE</li>    <li class="argument">TARGET</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/routing.lisp#L192">Source</a>  </header> <div class="docstring"><pre>Defines a route where the URI is analysed by the given regex and translated into the interpolated string representation.

The target string can reference regex capture groups.

Note that the regexes are transformed in order to make the
definition appear more &quot;natural&quot;. Specifically, if no port
is present in the source, it is prefixed with

  (?:[^/]*)?

if no domain is present in source, it is prefixed with

  [^:/]*

if the target does not contain a port, the port is not changed.
The source is then surrounded by ^ and $. What this all does in
effect is that it prevents regexes from matching too liberally
for common URI changes. It allows something like this:

  /foo/bar =&gt; foo/bar

to actually match and exchange an uri like this

  localhost:8080/foo/bar

properly into the expected URI

  foo:8080/bar

without changing a URI like this

  localhost:8080/bla/foo/bar

as that would indeed not be what we expected to have specified.
If you do not like these automatic changes to the regexes, you
can easily enough define your own route that allows you full
control.

See CL-PPCRE:REGEX-REPLACE
See <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-ROUTE" class="xref">DEFINE-ROUTE</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:DEFINE-TARGET-ROUTE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-TARGET-ROUTE">DEFINE-TARGET-ROUTE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument">TYPE</li>    <ul class="arguments"> <li class="argument">DOMAINS</li>  <li class="argument">PORT</li>  <li class="argument">PATH</li> </ul>    <ul class="arguments"> <li class="argument">TARGET-DOMAINS</li>  <li class="argument">TARGET-PORT</li>  <li class="argument">TARGET-PATH</li> </ul>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/routing.lisp#L164">Source</a>  </header> <div class="docstring"><pre>Defines a route that attempts to automatically translate the URI according to the given test and result parts.

The result parts can reference all variables introduced
by the test parts.

See <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-MATCHING-ROUTE" class="xref">DEFINE-MATCHING-ROUTE</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:DEFINE-TRIGGER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-TRIGGER">DEFINE-TRIGGER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">HOOK</li>    <li class="argument">ARGS</li>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">BODY</li>  </ul>  </header> <div class="docstring"><pre>Defines a new trigger on the hook.
A trigger can either accept no arguments or it has to match the hook in its arguments list.
The name of the trigger defaults to the *PACKAGE*. If you want to have multiple triggers for
the same hook in the same package, use a list of the following structure as the HOOK argument:
 (hook trigger-name hook-module)</pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:DEFINE-URI-DISPATCHER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-URI-DISPATCHER">DEFINE-URI-DISPATCHER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <ul class="arguments"> <li class="argument">URI</li>  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>  <li class="argument">PRIORITY</li> </ul>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">BODY</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/dispatch.lisp#L68">Source</a>  </header> <div class="docstring"><pre>Defines a new uri-dispatcher.

The body forms will be evaluated if DISPATCH is called
with a URI object that matches the URI given in the 
definition and if no other uri-dispatcher precedes this
one in their priority.

See <a href="#FUNCTION%20RADIANCE-CORE%3AURI-DISPATCHER" class="xref">URI-DISPATCHER</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AURI-DISPATCHER%3E" class="xref">URI-DISPATCHER&gt;</a>
See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3ADISPATCH-FUNCTION" class="xref">DISPATCH-FUNCTION</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3ADISPATCH" class="xref">DISPATCH</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:DEFINE-VERSION-MIGRATION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3ADEFINE-VERSION-MIGRATION">DEFINE-VERSION-MIGRATION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">SYSTEM</li>    <ul class="arguments"> <li class="argument">FROM</li>  <li class="argument">TO</li> </ul>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">BODY</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/migration.lisp#L151">Source</a>  </header> <div class="docstring"><pre>A shorthand to define a version migration method for a system.

SYSTEM may be a string or symbol naming the ASDF system to define
a migration action for. FROM may be NIL, a symbol, or a string
naming the source version. TO may be a symbol or a string naming
the target version.

BODY should be a number of forms to be executed when the system
is moved from the source version to the target version.

See <a href="#GENERIC-FUNCTION%20RADIANCE-CORE%3AMIGRATE-VERSIONS" class="xref">MIGRATE-VERSIONS</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:OR*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3AOR%2A">OR*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">VALS</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/toolkit.lisp#L127">Source</a>  </header> <div class="docstring"><pre>Similar to OR, but treats empty strings as NIL.

This is often handy in the context of query
parameters from the outside world where an
empty string represents no value.</pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:PERM"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3APERM">PERM</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">TREE</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/toolkit.lisp#L136">Source</a>  </header> <div class="docstring"><pre>Macro to encompass a permission.

You should use this wherever you reference a permission.
Using this will ensure that the permission is registered
with your module and thus inspectable from the outside.</pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:REMCONFIG"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3AREMCONFIG">REMCONFIG</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">PATH</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/environment.lisp#L143">Source</a>  </header> <div class="docstring"><pre>Shorthand to remove a place from the module's configuration

This has to be a macro so that the current package can be
captured.

See <a href="#FUNCTION%20RADIANCE-CORE%3AREMMCONFIG" class="xref">REMMCONFIG</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RADIANCE-CORE:WITH-ACTIONS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3AWITH-ACTIONS">WITH-ACTIONS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <ul class="arguments"> <li class="argument">ERROR</li>  <li class="argument">INFO</li> </ul>    <li class="argument">ACTION-CLAUSES</li>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">BODY</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/toolkit.lisp#L248">Source</a>  </header> <div class="docstring"><pre>A macro to help handle different actions in a submission context.

ERROR and INFO are variables that hold objects that
describe error and information messages that occurred
during the handling of the action.

First, the actual action is read out of the POST/GET
variable &quot;action&quot;. Then the matching action-clause,
if any, is evaluated. If an error occurs during the
evaluation thereof, the error is stored in the ERROR
variable. After the action clause processing has
finished, the body forms are evaluated.

ACTION-CLAUSES ::= (clause body-form*)
CLAUSE         --- A string designator that names the action</pre></div> </article> </li> </ul> </article> </li>  <li> <article class="definition package" id="PACKAGE ADMIN"> <header> <h3> <a href="#PACKAGE%20ADMIN">ADMIN</a> </h3> <ul class="nicknames"> <li>MODULARIZE.MOD.ADMIN</li>  <li>MODULARIZE.INT.ADMIN</li> </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> <ul class="definitions"> <li> <article class="definition special-variable" id="VARIABLE ADMIN:*IMPLEMENTATION*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20ADMIN%3A%2AIMPLEMENTATION%2A">*IMPLEMENTATION*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L9">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition resource-type" id="RESOURCE-TYPE ADMIN:PAGE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">RESOURCE-TYPE</span> <h4 class="name"> <a href="#RESOURCE-TYPE%20ADMIN%3APAGE">PAGE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/resource.lisp#L11">Source</a>  </header> <div class="docstring"><pre>Returns an internal URI that points to the requested page.

The following values are returned:
1. URI
2. QUERY-ALIST
3. FRAGMENT

The QUERY-ALIST and FRAGMENT can be used as arguments to URI-TO-URL.

By default a page with the name corresponding to the symbol
of the given name in the module's package is used if available.

However, a module or interface may special-case certain page
names to provide a specified name to point to a page of
particular interest.</pre></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK ADMIN:IMPLEMENTED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20ADMIN%3AIMPLEMENTED">IMPLEMENTED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#145:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK ADMIN:UNIMPLEMENTED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20ADMIN%3AUNIMPLEMENTED">UNIMPLEMENTED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#33:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION ADMIN:IMPLEMENTATION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20ADMIN%3AIMPLEMENTATION">IMPLEMENTATION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L9">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION ADMIN:(SETF IMPLEMENTATION)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20ADMIN%3A%28SETF%20IMPLEMENTATION%29">(SETF IMPLEMENTATION)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE10</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L9">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION ADMIN:LIST-PANELS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20ADMIN%3ALIST-PANELS">LIST-PANELS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>Returns an alist of panel categories and their panels.

See <a href="#MACRO-FUNCTION%20ADMIN%3ADEFINE-PANEL" class="xref">ADMIN:DEFINE-PANEL</a>
See <a href="#FUNCTION%20ADMIN%3AREMOVE-PANEL" class="xref">ADMIN:REMOVE-PANEL</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION ADMIN:REMOVE-PANEL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20ADMIN%3AREMOVE-PANEL">REMOVE-PANEL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">CATEGORY</li>    <li class="argument">NAME</li>  </ul>  </header> <div class="docstring"><pre>Removes the specified panel if it exists.

See <a href="#MACRO-FUNCTION%20ADMIN%3ADEFINE-PANEL" class="xref">ADMIN:DEFINE-PANEL</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION ADMIN:DEFINE-PANEL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20ADMIN%3ADEFINE-PANEL">DEFINE-PANEL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">CATEGORY</li>    <li class="argument">NAME</li>    <li class="argument">OPTIONS</li>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">BODY</li>  </ul>  </header> <div class="docstring"><pre>Defines a new administration panel.

Category and panel names are case-insensitive.

This is similar to DEFINE-PAGE, except it defines a panel
within the administration interface. The body code should
return HTML data to be emitted into the interface. Do not
emit root elements such as &lt;HTML&gt; or &lt;BODY&gt;.

The panel definition can be extended through the ADMIN:PANEL
option. By default, the following options are guaranteed to
exist:

  :ACCESS   Will restrict access to it to users that pass
            the permission check. See USER:CHECK.
  :ICON     Selects an icon to use for the panel in the
            administration's menu. The accepted range of
            values is implementation-dependant.
  :TOOLTIP  A tooltip string to show when hovering over the
            panel entry in the administration's menu.

In order to obtain the internal URI to an admin panel, use
the PAGE resource with the category and panel names as
arguments.

See <a href="#FUNCTION%20ADMIN%3ALIST-PANELS" class="xref">ADMIN:LIST-PANELS</a>
See <a href="#FUNCTION%20ADMIN%3AREMOVE-PANEL" class="xref">ADMIN:REMOVE-PANEL</a></pre></div> </article> </li> </ul> </article> </li>  <li> <article class="definition package" id="PACKAGE AUTH"> <header> <h3> <a href="#PACKAGE%20AUTH">AUTH</a> </h3> <ul class="nicknames"> <li>MODULARIZE.MOD.AUTH</li>  <li>MODULARIZE.INT.AUTH</li> </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> <ul class="definitions"> <li> <article class="definition special-variable" id="VARIABLE AUTH:*IMPLEMENTATION*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20AUTH%3A%2AIMPLEMENTATION%2A">*IMPLEMENTATION*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L16">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition special-variable" id="VARIABLE AUTH:*LOGIN-TIMEOUT*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20AUTH%3A%2ALOGIN-TIMEOUT%2A">*LOGIN-TIMEOUT*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>The time, in seconds, for which an authenticated user should remain authenticated.</pre></div> </article> </li>  <li> <article class="definition resource-type" id="RESOURCE-TYPE AUTH:PAGE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">RESOURCE-TYPE</span> <h4 class="name"> <a href="#RESOURCE-TYPE%20AUTH%3APAGE">PAGE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/resource.lisp#L11">Source</a>  </header> <div class="docstring"><pre>Returns an internal URI that points to the requested page.

The following values are returned:
1. URI
2. QUERY-ALIST
3. FRAGMENT

The QUERY-ALIST and FRAGMENT can be used as arguments to URI-TO-URL.

By default a page with the name corresponding to the symbol
of the given name in the module's package is used if available.

However, a module or interface may special-case certain page
names to provide a specified name to point to a page of
particular interest.</pre></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK AUTH:ASSOCIATE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20AUTH%3AASSOCIATE">ASSOCIATE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">SESSION</li>  </ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#33:0">Source</a>  </header> <div class="docstring"><pre>This hook is called when a session is associated with a user.

The hook has an argument, the session object. You can retrieve
the associated user through AUTH:CURRENT.

See <a href="#FUNCTION%20AUTH%3ACURRENT" class="xref">AUTH:CURRENT</a></pre></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK AUTH:IMPLEMENTED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20AUTH%3AIMPLEMENTED">IMPLEMENTED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#145:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK AUTH:NO-ASSOCIATED-USER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20AUTH%3ANO-ASSOCIATED-USER">NO-ASSOCIATED-USER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">SESSION</li>  </ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#33:0">Source</a>  </header> <div class="docstring"><pre>This hook is called when AUTH:CURRENT is called but no user is found in the session.

The hook has an argument, the session object.

Triggers on this hook may associate new users at this time by
using AUTH:ASSOCIATE. If a new user is associated by this hook,
this user is returned by the original AUTH:CURRENT call.

This allows third-party libraries to implement additional
authentication mechanisms.

See <a href="#FUNCTION%20AUTH%3ACURRENT" class="xref">AUTH:CURRENT</a></pre></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK AUTH:UNIMPLEMENTED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20AUTH%3AUNIMPLEMENTED">UNIMPLEMENTED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#33:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION AUTH:ASSOCIATE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20AUTH%3AASSOCIATE">ASSOCIATE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">USER</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">SESSION</li>  </ul>  </header> <div class="docstring"><pre>Associates (authenticates) the user with the given session.

If no session is passed, the one of the current request is
retrieved by SESSION:GET.

This effectively logs the session in as the user and makes it
gain all permissions the user has. If the session was associated
with a user already, the associated user is replaced.

The auth interface must also provide a way for a user to
authenticate themselves through a page. You can gain an internal
URI to that page by the page resource and the page name &quot;login&quot;.
It accepts a single extra argument, which is t he URI or URL to
redirect to after a successful login. If this argument is the
string &quot;#&quot; the value of the current request's REFERER is used.

The exact means by which a user can authenticate themselves on
said page are implementation dependant.

See <a href="#FUNCTION%20SESSION%3AGET" class="xref">SESSION:GET</a>
See <a href="#FUNCTION%20AUTH%3ACURRENT" class="xref">AUTH:CURRENT</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION AUTH:CURRENT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20AUTH%3ACURRENT">CURRENT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">DEFAULT</li>    <li class="argument">SESSION</li>  </ul>  </header> <div class="docstring"><pre>Returns the user object that is authenticated with the given session.

If no session is passed, the one of the current request is
retrieved by SESSION:GET.

If the session is not authenticated, the user designated
by DEFAULT is returned instead, if given. If DEFAULT is
NIL, then NIL is returned.

See <a href="#FUNCTION%20SESSION%3AGET" class="xref">SESSION:GET</a>
See <a href="#FUNCTION%20AUTH%3AASSOCIATE" class="xref">AUTH:ASSOCIATE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION AUTH:IMPLEMENTATION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20AUTH%3AIMPLEMENTATION">IMPLEMENTATION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L16">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION AUTH:(SETF IMPLEMENTATION)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20AUTH%3A%28SETF%20IMPLEMENTATION%29">(SETF IMPLEMENTATION)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE4</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L16">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li> </ul> </article> </li>  <li> <article class="definition package" id="PACKAGE BAN"> <header> <h3> <a href="#PACKAGE%20BAN">BAN</a> </h3> <ul class="nicknames"> <li>MODULARIZE.MOD.BAN</li>  <li>MODULARIZE.INT.BAN</li> </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> <ul class="definitions"> <li> <article class="definition special-variable" id="VARIABLE BAN:*IMPLEMENTATION*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20BAN%3A%2AIMPLEMENTATION%2A">*IMPLEMENTATION*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L24">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK BAN:IMPLEMENTED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20BAN%3AIMPLEMENTED">IMPLEMENTED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#145:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK BAN:UNIMPLEMENTED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20BAN%3AUNIMPLEMENTED">UNIMPLEMENTED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#33:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION BAN:IMPLEMENTATION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20BAN%3AIMPLEMENTATION">IMPLEMENTATION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L24">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION BAN:(SETF IMPLEMENTATION)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20BAN%3A%28SETF%20IMPLEMENTATION%29">(SETF IMPLEMENTATION)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE4</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L24">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION BAN:JAIL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20BAN%3AJAIL">JAIL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">IP</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">DURATION</li>  </ul>  </header> <div class="docstring"><pre>Ban the given IP.

The IP may be in IPv4 or IPv6 format as a string.

The duration must be either an integer denoting the
number of seconds to ban for, or T in which case the
duration is taken as being infinite. If no duration is
given, an implementation-dependant default is chosen.

If the IP is already banned, the ban duration is extended
by the given amount.

See <a href="#FUNCTION%20BAN%3ALIST" class="xref">BAN:LIST</a>
See <a href="#FUNCTION%20BAN%3ARELEASE" class="xref">BAN:RELEASE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION BAN:JAIL-TIME"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20BAN%3AJAIL-TIME">JAIL-TIME</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">IP</li>  </ul>  </header> <div class="docstring"><pre>Returns the number of seconds the IP has left on its ban, T for infinity, or NIL for none.

See <a href="#FUNCTION%20BAN%3AJAIL" class="xref">BAN:JAIL</a>
See <a href="#FUNCTION%20BAN%3ARELEASE" class="xref">BAN:RELEASE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION BAN:LIST"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20BAN%3ALIST">LIST</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>Returns a list of banned IP addresses.

See <a href="#FUNCTION%20BAN%3AJAIL-TIME" class="xref">BAN:JAIL-TIME</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION BAN:RELEASE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20BAN%3ARELEASE">RELEASE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">IP</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li> </ul> </article> </li>  <li> <article class="definition package" id="PACKAGE CACHE"> <header> <h3> <a href="#PACKAGE%20CACHE">CACHE</a> </h3> <ul class="nicknames"> <li>MODULARIZE.MOD.CACHE</li>  <li>MODULARIZE.INT.CACHE</li> </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> <ul class="definitions"> <li> <article class="definition special-variable" id="VARIABLE CACHE:*IMPLEMENTATION*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20CACHE%3A%2AIMPLEMENTATION%2A">*IMPLEMENTATION*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L30">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK CACHE:IMPLEMENTED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20CACHE%3AIMPLEMENTED">IMPLEMENTED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#145:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK CACHE:UNIMPLEMENTED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20CACHE%3AUNIMPLEMENTED">UNIMPLEMENTED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#33:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CACHE:GET"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CACHE%3AGET">GET</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">VARIANT</li>  </ul>  </header> <div class="docstring"><pre>Returns the contents cached under the given name and variant, if any.

See <a href="#MACRO-FUNCTION%20CACHE%3AWITH-CACHE" class="xref">CACHE:WITH-CACHE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CACHE:IMPLEMENTATION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CACHE%3AIMPLEMENTATION">IMPLEMENTATION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L30">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CACHE:(SETF IMPLEMENTATION)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CACHE%3A%28SETF%20IMPLEMENTATION%29">(SETF IMPLEMENTATION)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE4</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L30">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CACHE:RENEW"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CACHE%3ARENEW">RENEW</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">VARIANT</li>  </ul>  </header> <div class="docstring"><pre>Clears out the cache under the given name and variant and potentially refreshes it.

The refresh may be deferred until the next time the associated
WITH-CACHE form is evaluated.

See <a href="#FUNCTION%20CACHE%3AGET" class="xref">CACHE:GET</a>
See <a href="#MACRO-FUNCTION%20CACHE%3AWITH-CACHE" class="xref">CACHE:WITH-CACHE</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION CACHE:WITH-CACHE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20CACHE%3AWITH-CACHE">WITH-CACHE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <ul class="arguments"> <li class="argument">NAME</li>  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>  <li class="argument">VARIANT</li> </ul>    <li class="argument">TEST-FORM</li>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">REQUEST-GENERATOR</li>  </ul>  </header> <div class="docstring"><pre>Caches the return value produced by the body under the name.

The name is not evaluated and must be a direct symbol, but the
variant is evaluated.

Every time this form is evaluated, the TEST-FORM is evaluated.
If it returns non-NIL, the body is evaluated and its return
value is cached under the given name. If it returns T and the
body has not yet been cached, then it is evaluated as well. 
Otherwise, the body is not evaluated and the cached value is
returned instead.

See <a href="#FUNCTION%20CACHE%3ARENEW" class="xref">CACHE:RENEW</a>
See <a href="#FUNCTION%20CACHE%3AGET" class="xref">CACHE:GET</a></pre></div> </article> </li> </ul> </article> </li>  <li> <article class="definition package" id="PACKAGE DATABASE"> <header> <h3> <a href="#PACKAGE%20DATABASE">DATABASE</a> </h3> <ul class="nicknames"> <li>MODULARIZE.INT.DATABASE</li>  <li>MODULARIZE.MOD.DATABASE</li>  <li>DB</li> </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> <ul class="definitions"> <li> <article class="definition special-variable" id="VARIABLE DATABASE:*IMPLEMENTATION*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20DATABASE%3A%2AIMPLEMENTATION%2A">*IMPLEMENTATION*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L35">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition condition" id="CONDITION DATABASE:COLLECTION-ALREADY-EXISTS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20DATABASE%3ACOLLECTION-ALREADY-EXISTS">COLLECTION-ALREADY-EXISTS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>Error signalled when a new collection is attempted to be created where an old one already exists.

See <a href="#CONDITION%20DATABASE%3ACOLLECTION-CONDITION" class="xref">DATABASE:COLLECTION-CONDITION</a></pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION DATABASE:COLLECTION-CONDITION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20DATABASE%3ACOLLECTION-CONDITION">COLLECTION-CONDITION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>Base condition type for collection related conditions.

See <a href="#CONDITION%20DATABASE%3ACONDITION" class="xref">DATABASE:CONDITION</a>
See <a href="#CONDITION%20DATABASE%3AINVALID-COLLECTION" class="xref">DATABASE:INVALID-COLLECTION</a>
See <a href="#CONDITION%20DATABASE%3ACOLLECTION-ALREADY-EXISTS" class="xref">DATABASE:COLLECTION-ALREADY-EXISTS</a>
See <a href="#CONDITION%20DATABASE%3AINVALID-FIELD" class="xref">DATABASE:INVALID-FIELD</a></pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION DATABASE:CONDITION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20DATABASE%3ACONDITION">CONDITION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>Base condition type for all database related conditions.

See <a href="#CONDITION%20DATABASE%3ACONNECTION-FAILED" class="xref">DATABASE:CONNECTION-FAILED</a>
See <a href="#CONDITION%20DATABASE%3ACONNECTION-ALREADY-OPEN" class="xref">DATABASE:CONNECTION-ALREADY-OPEN</a>
See <a href="#CONDITION%20DATABASE%3ACOLLECTION-CONDITION" class="xref">DATABASE:COLLECTION-CONDITION</a>
See <a href="#CONDITION%20DATABASE%3AINVALID-COLLECTION" class="xref">DATABASE:INVALID-COLLECTION</a>
See <a href="#CONDITION%20DATABASE%3ACOLLECTION-ALREADY-EXISTS" class="xref">DATABASE:COLLECTION-ALREADY-EXISTS</a>
See <a href="#CONDITION%20DATABASE%3AINVALID-FIELD" class="xref">DATABASE:INVALID-FIELD</a></pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION DATABASE:CONNECTION-ALREADY-OPEN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20DATABASE%3ACONNECTION-ALREADY-OPEN">CONNECTION-ALREADY-OPEN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>Warning signalled when a new connection is established while an old one was already open.

See <a href="#CONDITION%20DATABASE%3ACONDITION" class="xref">DATABASE:CONDITION</a></pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION DATABASE:CONNECTION-FAILED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20DATABASE%3ACONNECTION-FAILED">CONNECTION-FAILED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>Error signalled upon a failed connection attempt.

See <a href="#CONDITION%20DATABASE%3ACONDITION" class="xref">DATABASE:CONDITION</a></pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION DATABASE:INVALID-COLLECTION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20DATABASE%3AINVALID-COLLECTION">INVALID-COLLECTION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>Error signalled when an invalidly named, or inexistent collection is accessed.

See <a href="#CONDITION%20DATABASE%3ACOLLECTION-CONDITION" class="xref">DATABASE:COLLECTION-CONDITION</a></pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION DATABASE:INVALID-FIELD"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20DATABASE%3AINVALID-FIELD">INVALID-FIELD</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>Error signalled when an invalid field name or type is used.

See <a href="#CONDITION%20DATABASE%3ACOLLECTION-CONDITION" class="xref">DATABASE:COLLECTION-CONDITION</a></pre></div> </article> </li>  <li> <article class="definition type-definition" id="TYPE DATABASE:ID"> <header> <span class="visibility">EXTERNAL</span> <span class="type">TYPE-DEFINITION</span> <h4 class="name"> <a href="#TYPE%20DATABASE%3AID">ID</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///usr/local/share/sbcl-source/src/compiler/deftype.lisp#12:0">Source</a>  </header> <div class="docstring"><pre>Effective type of values for ID-type fields in a collection.

See <a href="#FUNCTION%20DATABASE%3AENSURE-ID" class="xref">DATABASE:ENSURE-ID</a></pre></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK DATABASE:CONNECTED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20DATABASE%3ACONNECTED">CONNECTED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>  </ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#145:0">Source</a>  </header> <div class="docstring"><pre>This hook is triggered after the database has been connected.

The name of the connection is passed as an argument.

Note that this is a sticky hook and will remain active
until DATABASE:DISCONNECTED is triggered.</pre></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK DATABASE:DISCONNECTED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20DATABASE%3ADISCONNECTED">DISCONNECTED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>  </ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#33:0">Source</a>  </header> <div class="docstring"><pre>This hook is triggered after the database has been disconnected.

The name of the connection is passed as an argument.

Note that this causes the DATABASE:CONNECTED hook to become
unstickied.</pre></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK DATABASE:IMPLEMENTED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20DATABASE%3AIMPLEMENTED">IMPLEMENTED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#145:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK DATABASE:UNIMPLEMENTED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20DATABASE%3AUNIMPLEMENTED">UNIMPLEMENTED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#33:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION DATABASE:COLLECTION-EXISTS-P"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20DATABASE%3ACOLLECTION-EXISTS-P">COLLECTION-EXISTS-P</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">COLLECTION</li>  </ul>  </header> <div class="docstring"><pre>Returns true if a collection of the given name already exists.

Signals an error of type INVALID-COLLECTION if the name
is not of the proper collection name format.

See <a href="#FUNCTION%20DATABASE%3ACREATE" class="xref">DATABASE:CREATE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION DATABASE:COLLECTIONS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20DATABASE%3ACOLLECTIONS">COLLECTIONS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>Returns a list of names for all known collections.

The names may be either symbols or strings.

See <a href="#FUNCTION%20DATABASE%3ACREATE" class="xref">DATABASE:CREATE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION DATABASE:CONNECT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20DATABASE%3ACONNECT">CONNECT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">DATABASE-NAME</li>  </ul>  </header> <div class="docstring"><pre>Establishes a connection to the database of the given name.

The database connection must be configured by some 
implementation-defined manner beforehand. If the
implementation cannot automatically configure itself,
or cannot find a database of the requested name, an
error of type DATABASE:CONNECTION-FAILED is signalled.

If a previous connection is already open and a new one is
attempted, a warning of type DATABASE:CONNECTION-ALREADY-OPEN
is signalled, the previous connection is closed, and the
new one is opened.

If the connection fails for some other reason, an error
of type DATABASE:CONNECTION-FAILED is signalled.

Upon successful connection, the DATABASE:CONNECTED hook
is triggered.

Attempting to perform any database operations aside from
connecting or disconnecting before a connection has been
established results in undefined behaviour.

See <a href="#HOOK%20DATABASE%3ACONNECTED" class="xref">DATABASE:CONNECTED</a>
See <a href="#FUNCTION%20DATABASE%3ADISCONNECT" class="xref">DATABASE:DISCONNECT</a>
See <a href="#CONDITION%20DATABASE%3ACONNECTION-FAILED" class="xref">DATABASE:CONNECTION-FAILED</a>
See <a href="#CONDITION%20DATABASE%3ACONNECTION-ALREADY-OPEN" class="xref">DATABASE:CONNECTION-ALREADY-OPEN</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION DATABASE:CONNECTED-P"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20DATABASE%3ACONNECTED-P">CONNECTED-P</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>Returns true if the database is currently connected.

See <a href="#FUNCTION%20DATABASE%3ACONNECT" class="xref">DATABASE:CONNECT</a>
See <a href="#FUNCTION%20DATABASE%3ADISCONNECT" class="xref">DATABASE:DISCONNECT</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION DATABASE:COUNT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20DATABASE%3ACOUNT">COUNT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">COLLECTION</li>    <li class="argument">QUERY</li>  </ul>  </header> <div class="docstring"><pre>Returns the number of records in the collection that match the query.

The QUERY must be a value returned by the DATABASE:QUERY
macro.

If an invalid or inexistent collection name is passed, an
error of type DATABASE:INVALID-COLLECTION is signalled.

See <a href="#FUNCTION%20DATABASE%3ACREATE" class="xref">DATABASE:CREATE</a>
See <a href="#MACRO-FUNCTION%20DATABASE%3AQUERY" class="xref">DATABASE:QUERY</a>
See <a href="#CONDITION%20DATABASE%3AINVALID-COLLECTION" class="xref">DATABASE:INVALID-COLLECTION</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION DATABASE:CREATE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20DATABASE%3ACREATE">CREATE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">COLLECTION</li>    <li class="argument">STRUCTURE</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">INDICES</li>    <li class="argument">IF-EXISTS</li>  </ul>  </header> <div class="docstring"><pre>Creates a new collection on the database.

COLLECTION must be a valid collection name. Namely, it
must be either a symbol or a string, limited to the
following set of characters:

  ABCDEFGHIJKLMNOPQRSTUVWXYZ
  abcdefghijklmnopqrstuvwxyz
  0123456789-_/

Symbol names are coerced to string names in the following
manner: A slash and the name of the symbol's package are
prepended to the symbol's name. Thus, a symbol's name and
package must be limited to the above set of characters in
order to be usable as a collection name.

The structure denotes the schema of the collection and
must be of the following structure:

  STRUCTURE ::= (FIELD*)
  FIELD     ::= (NAME TYPE)
  TYPE      ::= :id | :text | :float
                | VARCHAR | INTEGER
  INTEGER   ::= :integer | (:integer BYTES)
  VARCHAR   ::= (:varchar LENGTH)

A valid name can be either a symbol or a string, where
the symbol's name/string must underlie the same character
restrictions as a collection name.

The types of a field are specified as follows:

   :ID       An implementation-defined type that is used
             to uniquely identify a record within a
             collection.
   :TEXT     A string of arbitrary length.
   :FLOAT    A double-float.
   :INTEGER  A signed integer within the range denoted by
             the number of bytes of its size in one's
             complement. Attempting to store a value
             outside of this range leads to undefined
             behaviour. The default number of bytes is 4.
             The maximum number of bytes that can be
             requested is 8.
   :VARCHAR  A string of variable size but with a maximum
             length. Attempting to store a string beyond
             that length leads to undefined behaviour.

If an invalid field name or field type is specified, an
error of type DATABASE:INVALID-FIELD is signalled.

The implementation is allowed to upgrade any field type
to a type that can encompass the specified range and more.
For example, an implementation is permitted to upgrade an
(:integer 4) to an (:integer 8) or a (:varchar 5) to :text.

The implementation may or may not permit you to store data
in fields outside of the ones specified in the structure
of the collection.

Each collection will always include a field called &quot;_id&quot;
of type :ID that is filled by the implementation on record
creation. IT stores the unique ID of the record within the
collection. The concrete type of the ID is implementation-
dependant.

INDICES is a list of field names that should be indexed
for fast access. The implementation is urged to optimise
access to the fields, but is not required to.

IF-EXISTS denotes the behaviour in case a collection of
the same name already exists. The behaviour is as follows:

  :IGNORE     Return NIL. This is the default.
  :ERROR      Signal an error of type DATABASE:COLLECTION-ALREADY-EXISTS.
  :SUPERSEDE  Drop the old collection and create a new one.

If a new collection is created successfully, a non-NIL
value is returned.

See <a href="#TYPE%20DATABASE%3AID" class="xref">DATABASE:ID</a>
See <a href="#FUNCTION%20DATABASE%3ASTRUCTURE" class="xref">DATABASE:STRUCTURE</a>
See <a href="#FUNCTION%20DATABASE%3ACOLLECTIONS" class="xref">DATABASE:COLLECTIONS</a>
See <a href="#FUNCTION%20DATABASE%3ACOLLECTION-EXISTS-P" class="xref">DATABASE:COLLECTION-EXISTS-P</a>
See <a href="#FUNCTION%20DATABASE%3ADROP" class="xref">DATABASE:DROP</a>
See <a href="#CONDITION%20DATABASE%3AINVALID-COLLECTION" class="xref">DATABASE:INVALID-COLLECTION</a>
See <a href="#CONDITION%20DATABASE%3ACOLLECTION-ALREADY-EXISTS" class="xref">DATABASE:COLLECTION-ALREADY-EXISTS</a>
See <a href="#CONDITION%20DATABASE%3AINVALID-FIELD" class="xref">DATABASE:INVALID-FIELD</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION DATABASE:DISCONNECT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20DATABASE%3ADISCONNECT">DISCONNECT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>Closes the current database connection, if any.

Upon successful disconnect, the DATABASE:DISCONNECTED
hook is triggered.

See <a href="#FUNCTION%20DATABASE%3ACONNECT" class="xref">DATABASE:CONNECT</a>
See <a href="#HOOK%20DATABASE%3ADISCONNECTED" class="xref">DATABASE:DISCONNECTED</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION DATABASE:DROP"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20DATABASE%3ADROP">DROP</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">COLLECTION</li>  </ul>  </header> <div class="docstring"><pre>Deletes the collection entirely, including all of its data.

If an invalid or inexistent collection name is passed, an
error of type DATABASE:INVALID-COLLECTION is signalled.

See <a href="#FUNCTION%20DATABASE%3ACREATE" class="xref">DATABASE:CREATE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION DATABASE:EMPTY"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20DATABASE%3AEMPTY">EMPTY</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">COLLECTION</li>  </ul>  </header> <div class="docstring"><pre>Clears all records from the collection, making it empty.

If an invalid or inexistent collection name is passed, an
error of type DATABASE:INVALID-COLLECTION is signalled.

Note that this may also clear the ID sequence, meaning
that IDs produced for records after the emptying of the
collection may be equal to IDs produced before the
emptying.

See <a href="#FUNCTION%20DATABASE%3ACREATE" class="xref">DATABASE:CREATE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION DATABASE:ENSURE-ID"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20DATABASE%3AENSURE-ID">ENSURE-ID</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ID-ISH</li>  </ul>  </header> <div class="docstring"><pre>Coerces the given string into an ID, if possible.

May signal an error on invalidly structured or invalid ID.

The return value is of type DATABASE:ID

See <a href="#TYPE%20DATABASE%3AID" class="xref">DATABASE:ID</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION DATABASE:IMPLEMENTATION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20DATABASE%3AIMPLEMENTATION">IMPLEMENTATION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L35">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION DATABASE:(SETF IMPLEMENTATION)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20DATABASE%3A%28SETF%20IMPLEMENTATION%29">(SETF IMPLEMENTATION)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE4</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L35">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION DATABASE:INSERT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20DATABASE%3AINSERT">INSERT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">COLLECTION</li>    <li class="argument">DATA</li>  </ul>  </header> <div class="docstring"><pre>Inserts a new record into the collection.

The DATA can be formatted as either an alist or a hash-
table. If the data includes fields that are not defined
in the structure of the collection, the implementation
may signal an error of type DATABASE:INVALID-FIELD. If
the data does not include a field that is defined in the
structure of the collection, the field's value is set to
NIL.

If a data value is specified that does not match the
field's type, an error of type DATABASE:INVALID-FIELD
may be signalled.

If the insertion of the record fails for whatever reason,
an error of type DATABASE:CONDITION is signalled.

On successful insert, the value of the &quot;_id&quot; field for
the newly created record is returned.

If an invalid or inexistent collection name is passed, an
error of type DATABASE:INVALID-COLLECTION is signalled.

See <a href="#FUNCTION%20DATABASE%3ACREATE" class="xref">DATABASE:CREATE</a>
See <a href="#CONDITION%20DATABASE%3ACONDITION" class="xref">DATABASE:CONDITION</a>
See <a href="#CONDITION%20DATABASE%3AINVALID-COLLECTION" class="xref">DATABASE:INVALID-COLLECTION</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION DATABASE:ITERATE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20DATABASE%3AITERATE">ITERATE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">COLLECTION</li>    <li class="argument">QUERY</li>    <li class="argument">FUNCTION</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">FIELDS</li>    <li class="argument">SKIP</li>    <li class="argument">AMOUNT</li>    <li class="argument">SORT</li>    <li class="argument">UNIQUE</li>    <li class="argument">ACCUMULATE</li>  </ul>  </header> <div class="docstring"><pre>Iterates over the records in the collection that match the clauses.

Effectively, FUNCTION is called with a single argument--
a hash-table filled with the requested field values-- for
each record in the collection that satisfies the QUERY.
The fields in the table are keyed by their name as a
string with the case converted downwards. The consequences
of calling another DATABASE function from within the
FUNCTION are implementation dependant.

The QUERY must be a value returned by the DATABASE:QUERY
macro.

If FIELDS is NIL, all fields are included. Otherwise it
can be a list of field names to include in each record.
The database may store more fields than were requested,
but never less.

If UNIQUE is non-NIL and FIELDS is a list of at least one
field, records are only considered to match if the same
record (each field compared under EQUAL) has not appeared
previously.

If SORT is NIL, the order in which the records are passed
is unpredictable and may be random with every call.
Otherwise, SORT should be a list of lists, where each
inner list should contain the name of a field, and either
:ASC or :DSC for ascending or descending order.

SKIP specifies the number of matching records to skip.

If AMOUNT is NIL, all matching records are passed.
Otherwise it poses an upper bound on the number of records
that the function is called with.

If ACCUMULATE is non-NIL, then the values returned by the
function call are accumulated into a list and returned
by the DATABASE:ITERATE call.

If an invalid or inexistent field name is specified, an
error of type DATABASE:INVALID-FIELD is signalled.

If an invalid or inexistent collection name is passed, an
error of type DATABASE:INVALID-COLLECTION is signalled.

See <a href="#FUNCTION%20DATABASE%3ACREATE" class="xref">DATABASE:CREATE</a>
See <a href="#FUNCTION%20DATABASE%3ASELECT" class="xref">DATABASE:SELECT</a>
See <a href="#MACRO-FUNCTION%20DATABASE%3AQUERY" class="xref">DATABASE:QUERY</a>
See <a href="#CONDITION%20DATABASE%3AINVALID-COLLECTION" class="xref">DATABASE:INVALID-COLLECTION</a>
See <a href="#CONDITION%20DATABASE%3AINVALID-FIELD" class="xref">DATABASE:INVALID-FIELD</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION DATABASE:REMOVE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20DATABASE%3AREMOVE">REMOVE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">COLLECTION</li>    <li class="argument">QUERY</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">SKIP</li>    <li class="argument">AMOUNT</li>    <li class="argument">SORT</li>  </ul>  </header> <div class="docstring"><pre>Removes the records in the collection that match the clauses.

See DATABASE:ITERATE for an explanation of the options.

If the removal of the records fails for whatever reason,
an error of type DATABASE:CONDITION is signalled.

If an invalid or inexistent collection name is passed, an
error of type DATABASE:INVALID-COLLECTION is signalled.

See <a href="#FUNCTION%20DATABASE%3ACREATE" class="xref">DATABASE:CREATE</a>
See <a href="#FUNCTION%20DATABASE%3AITERATE" class="xref">DATABASE:ITERATE</a>
See <a href="#CONDITION%20DATABASE%3AINVALID-COLLECTION" class="xref">DATABASE:INVALID-COLLECTION</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION DATABASE:SELECT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20DATABASE%3ASELECT">SELECT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">COLLECTION</li>    <li class="argument">QUERY</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">FIELDS</li>    <li class="argument">SKIP</li>    <li class="argument">AMOUNT</li>    <li class="argument">SORT</li>    <li class="argument">UNIQUE</li>  </ul>  </header> <div class="docstring"><pre>Returns a list of hash-tables for the records that match the clauses.

See DATABASE:ITERATE for an explanation of the options.

The QUERY must be a value returned by the DATABASE:QUERY
macro.

If an invalid or inexistent field name is requested, an
error of type DATABASE:INVALID-FIELD is signalled.

If an invalid or inexistent collection name is passed, an
error of type DATABASE:INVALID-COLLECTION is signalled.

See <a href="#FUNCTION%20DATABASE%3ACREATE" class="xref">DATABASE:CREATE</a>
See <a href="#FUNCTION%20DATABASE%3AITERATE" class="xref">DATABASE:ITERATE</a>
See <a href="#MACRO-FUNCTION%20DATABASE%3AQUERY" class="xref">DATABASE:QUERY</a>
See <a href="#CONDITION%20DATABASE%3AINVALID-COLLECTION" class="xref">DATABASE:INVALID-COLLECTION</a>
See <a href="#CONDITION%20DATABASE%3AINVALID-FIELD" class="xref">DATABASE:INVALID-FIELD</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION DATABASE:STRUCTURE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20DATABASE%3ASTRUCTURE">STRUCTURE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">COLLECTION</li>  </ul>  </header> <div class="docstring"><pre>Returns the structure of the collection.

If an invalid or inexistent collection name is passed, an
error of type DATABASE:INVALID-COLLECTION is signalled.

Note that the value returned by this does not have to be
identical to the structure used to create the collection.
The types in the returned structure may be upgraded
variants of the defined types. The types returned do not
have to correspond to the concrete types used to actually
store the data.

See <a href="#FUNCTION%20DATABASE%3ACREATE" class="xref">DATABASE:CREATE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION DATABASE:UPDATE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20DATABASE%3AUPDATE">UPDATE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">COLLECTION</li>    <li class="argument">QUERY</li>    <li class="argument">DATA</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">SKIP</li>    <li class="argument">AMOUNT</li>    <li class="argument">SORT</li>  </ul>  </header> <div class="docstring"><pre>Updates the records in the collection that match the clauses with the new data.

See DATABASE:ITERATE for an explanation of the options.

The DATA can be formatted as either an alist or a hash-
table. If the data includes fields that are not defined
in the structure of the collection, the implementation
may signal an error of type DATABASE:INVALID-FIELD. If
the data does not include a field that is defined in the
structure of the collection, the field's value is not
changed.

If a data value is specified that does not match the
field's type, an error of type DATABASE:INVALID-FIELD
may be signalled.

If the updating of the records fails for whatever
reason, an error of type DATABASE:CONDITION is signalled.

If an invalid or inexistent collection name is passed, an
error of type DATABASE:INVALID-COLLECTION is signalled.

See <a href="#FUNCTION%20DATABASE%3ACREATE" class="xref">DATABASE:CREATE</a>
See <a href="#FUNCTION%20DATABASE%3AITERATE" class="xref">DATABASE:ITERATE</a>
See <a href="#CONDITION%20DATABASE%3AINVALID-COLLECTION" class="xref">DATABASE:INVALID-COLLECTION</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION DATABASE:QUERY"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20DATABASE%3AQUERY">QUERY</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">QUERY-FORM</li>  </ul>  </header> <div class="docstring"><pre>Constructs a value to be used for the QUERY argument in database operations.

The query form must be of the following structure:

FORM     ::= COMBINE | CLAUSE | :all
COMBINE  ::= (:and FORM*) | (:or FORM*) | (:not FORM)
CLAUSE   ::= (OPERATOR VALUE VALUE) | (:in VALUE VALUE*)
OPERATOR ::= := | :/= | :&gt; | :&lt; | :&lt;= | :&gt;= | :MATCHES
VALUE    ::= (:field NAME) | 'NAME | LFORM
NAME     --- A field name.
LFORM    --- A lisp form that evaluates to a lisp value.

Where the combinators have the following effect:

  :AND  The form is true if all of the subforms are true.
  :OR   The form is true if one of the subforms is true.
  :NOT  The form is true if the subform is not true.

And the clauses have the following comparison behaviour:

  :=        True if the two values are EQUAL.
  :/=       True if the two values are not EQUAL.
  :&gt;        True if the two values are &gt; if they are both
            of type :integer or :float, or STRING&gt; if they
            are both of type :varchar or :text.
  :&lt;        True if the two values are &lt; if they are both
            of type :integer or :float, or STRING&lt; if they
            are both of type :varchar or :text
  :&lt;=       True if the two values are &lt;= if they are both
            of type :integer or :float, or STRING&lt;= if they
            are both of type :varchar or :text
  :&gt;=       True if the two values are &gt; if they are both
            of type :integer or :float, or STRING&gt;= if they
            are both of type :varchar or :text
  :MATCHES  True if the first value matches the regular
            expression of the second value. The extent of
            regular-expression syntax support is up to the
            implementation, but the following basic operators
            must be understood:
              . [] [^] * + ? () {} \ ^ $ |
            The following character classes must be understood
            as well:
              \d \w \s \D \W \S
  :IN       True if the first value is EQUAL to one of the
            remaining values.

If the form does not correspond to the above description,
an error is signalled at macro expansion time.

Note that a special exception is made in the case of fields
of type ID, where the equality comparison (:=, :!=, :IN) is
performed in an implementation-dependant manner. The other
comparison operators cannot be used with ID type fields.

If the form is simply :all, all records in the collection
are returned.

Examples for queries:

   (db:query (:= 'name &quot;Hans&quot;))

Matches all records with a name field of &quot;Hans&quot;.

   (db:query (:= '_id id))

Matches the record with the ID equivalent to the one stored
in the ID variable.

   (db:query (:and (:= 'health 0) (:= 'lives 0)))

Matches all records where the health and lives fields are 0.

   (db:query (:IN 'name &quot;Guybrush&quot; &quot;Elaine&quot; &quot;LeChuck&quot;))

Matches all records where the name is one of &quot;Guybrush&quot;,
&quot;Elaine&quot;, or &quot;LeChuck&quot;.

   (db:query (:MATCHES 'tags &quot;^foo$|^foo,|,foo$|,foo,&quot;))

Matches all records whose tags includes the &quot;foo&quot; tag.

See <a href="#FUNCTION%20DATABASE%3ACREATE" class="xref">DATABASE:CREATE</a>
See <a href="#FUNCTION%20DATABASE%3AITERATE" class="xref">DATABASE:ITERATE</a>
See <a href="#FUNCTION%20DATABASE%3ASELECT" class="xref">DATABASE:SELECT</a>
See <a href="#FUNCTION%20DATABASE%3ACOUNT" class="xref">DATABASE:COUNT</a>
See <a href="#FUNCTION%20DATABASE%3AREMOVE" class="xref">DATABASE:REMOVE</a>
See <a href="#FUNCTION%20DATABASE%3AUPDATE" class="xref">DATABASE:UPDATE</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION DATABASE:WITH-TRANSACTION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20DATABASE%3AWITH-TRANSACTION">WITH-TRANSACTION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <ul class="arguments"></ul>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">BODY</li>  </ul>  </header> <div class="docstring"><pre>Performs the database operations in its body within a transaction that ensures coherence.

If two transactions occur in parallel that would each
modify the same set of data and conflict in some manner,
one of the two transactions must be aborted by way of
an error being signalled.

If the transaction body is exited abnormally, which is
to say exited before the last form in the body has
finished execution and can return its value, all the
database operations that were performed within the body
are reverted in such a way that it appears as if they
had never been performed in the first place.</pre></div> </article> </li> </ul> </article> </li>  <li> <article class="definition package" id="PACKAGE LOGGER"> <header> <h3> <a href="#PACKAGE%20LOGGER">LOGGER</a> </h3> <ul class="nicknames"> <li>MODULARIZE.INT.LOGGER</li>  <li>MODULARIZE.MOD.LOGGER</li>  <li>L</li> </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> <ul class="definitions"> <li> <article class="definition special-variable" id="VARIABLE LOGGER:*IMPLEMENTATION*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20LOGGER%3A%2AIMPLEMENTATION%2A">*IMPLEMENTATION*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L71">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK LOGGER:IMPLEMENTED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20LOGGER%3AIMPLEMENTED">IMPLEMENTED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#145:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK LOGGER:UNIMPLEMENTED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20LOGGER%3AUNIMPLEMENTED">UNIMPLEMENTED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#33:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION LOGGER:DEBUG"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20LOGGER%3ADEBUG">DEBUG</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">CATEGORY</li>    <li class="argument">LOG-STRING</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">FORMAT-ARGS</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/defaults.lisp#L240">Source</a>  </header> <div class="docstring"><pre>Logs the given message in the category as a debug message.

See <a href="#FUNCTION%20LOGGER%3ALOG" class="xref">LOGGER:LOG</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION LOGGER:ERROR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20LOGGER%3AERROR">ERROR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">CATEGORY</li>    <li class="argument">LOG-STRING</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">FORMAT-ARGS</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/defaults.lisp#L249">Source</a>  </header> <div class="docstring"><pre>Logs the given message in the category as an error message.

See <a href="#FUNCTION%20LOGGER%3ALOG" class="xref">LOGGER:LOG</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION LOGGER:FATAL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20LOGGER%3AFATAL">FATAL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">CATEGORY</li>    <li class="argument">LOG-STRING</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">FORMAT-ARGS</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/defaults.lisp#L255">Source</a>  </header> <div class="docstring"><pre>Logs the given message in the category as a fatal message.

See <a href="#FUNCTION%20LOGGER%3ALOG" class="xref">LOGGER:LOG</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION LOGGER:IMPLEMENTATION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20LOGGER%3AIMPLEMENTATION">IMPLEMENTATION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L71">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION LOGGER:(SETF IMPLEMENTATION)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20LOGGER%3A%28SETF%20IMPLEMENTATION%29">(SETF IMPLEMENTATION)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE4</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L71">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION LOGGER:INFO"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20LOGGER%3AINFO">INFO</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">CATEGORY</li>    <li class="argument">LOG-STRING</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">FORMAT-ARGS</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/defaults.lisp#L243">Source</a>  </header> <div class="docstring"><pre>Logs the given message in the category as an information message.

See <a href="#FUNCTION%20LOGGER%3ALOG" class="xref">LOGGER:LOG</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION LOGGER:LOG"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20LOGGER%3ALOG">LOG</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">LEVEL</li>    <li class="argument">CATEGORY</li>    <li class="argument">LOG-STRING</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">FORMAT-ARGS</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/defaults.lisp#L233">Source</a>  </header> <div class="docstring"><pre>Logs the given message under the level.

LEVEL has to be one of :TRACE :DEBUG :INFO :WARN :ERROR :SEVERE :FATAL.

Note that the exact means by which the message is presented
or logged is up to the implementation.

See <a href="#FUNCTION%20LOGGER%3ATRACE" class="xref">LOGGER:TRACE</a>
See <a href="#FUNCTION%20LOGGER%3ADEBUG" class="xref">LOGGER:DEBUG</a>
See <a href="#FUNCTION%20LOGGER%3AINFO" class="xref">LOGGER:INFO</a>
See <a href="#FUNCTION%20LOGGER%3AWARN" class="xref">LOGGER:WARN</a>
See <a href="#FUNCTION%20LOGGER%3AERROR" class="xref">LOGGER:ERROR</a>
See <a href="#FUNCTION%20LOGGER%3ASEVERE" class="xref">LOGGER:SEVERE</a>
See <a href="#FUNCTION%20LOGGER%3AFATAL" class="xref">LOGGER:FATAL</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION LOGGER:SEVERE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20LOGGER%3ASEVERE">SEVERE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">CATEGORY</li>    <li class="argument">LOG-STRING</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">FORMAT-ARGS</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/defaults.lisp#L252">Source</a>  </header> <div class="docstring"><pre>Logs the given message in the category as a severe message.

See <a href="#FUNCTION%20LOGGER%3ALOG" class="xref">LOGGER:LOG</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION LOGGER:TRACE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20LOGGER%3ATRACE">TRACE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">CATEGORY</li>    <li class="argument">LOG-STRING</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">FORMAT-ARGS</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/defaults.lisp#L237">Source</a>  </header> <div class="docstring"><pre>Logs the given message in the category as a trace message.

See <a href="#FUNCTION%20LOGGER%3ALOG" class="xref">LOGGER:LOG</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION LOGGER:WARN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20LOGGER%3AWARN">WARN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">CATEGORY</li>    <li class="argument">LOG-STRING</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">FORMAT-ARGS</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/defaults.lisp#L246">Source</a>  </header> <div class="docstring"><pre>Logs the given message in the category as a warning message.

See <a href="#FUNCTION%20LOGGER%3ALOG" class="xref">LOGGER:LOG</a></pre></div> </article> </li> </ul> </article> </li>  <li> <article class="definition package" id="PACKAGE MAIL"> <header> <h3> <a href="#PACKAGE%20MAIL">MAIL</a> </h3> <ul class="nicknames"> <li>MODULARIZE.MOD.MAIL</li>  <li>MODULARIZE.INT.MAIL</li> </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> <ul class="definitions"> <li> <article class="definition special-variable" id="VARIABLE MAIL:*IMPLEMENTATION*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20MAIL%3A%2AIMPLEMENTATION%2A">*IMPLEMENTATION*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L81">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK MAIL:IMPLEMENTED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20MAIL%3AIMPLEMENTED">IMPLEMENTED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#145:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK MAIL:SEND"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20MAIL%3ASEND">SEND</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">TO</li>    <li class="argument">SUBJECT</li>    <li class="argument">MESSAGE</li>  </ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#33:0">Source</a>  </header> <div class="docstring"><pre>This hook is triggered right before a mail is sent out.

The recipient, subject, and body text are passed as arguments.

See <a href="#FUNCTION%20MAIL%3ASEND" class="xref">MAIL:SEND</a></pre></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK MAIL:UNIMPLEMENTED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20MAIL%3AUNIMPLEMENTED">UNIMPLEMENTED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#33:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MAIL:IMPLEMENTATION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MAIL%3AIMPLEMENTATION">IMPLEMENTATION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L81">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MAIL:(SETF IMPLEMENTATION)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MAIL%3A%28SETF%20IMPLEMENTATION%29">(SETF IMPLEMENTATION)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE4</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L81">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MAIL:SEND"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MAIL%3ASEND">SEND</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">TO</li>    <li class="argument">SUBJECT</li>    <li class="argument">MESSAGE</li>  </ul>  </header> <div class="docstring"><pre>Sends an email to the specified address.

If the sending of the email should fail, an error must
be signalled.

This function may be extended with additional keyword
arguments if the implementation supports extraneous
information, such as additional headers, attachments, and
so forth.</pre></div> </article> </li> </ul> </article> </li>  <li> <article class="definition package" id="PACKAGE PROFILE"> <header> <h3> <a href="#PACKAGE%20PROFILE">PROFILE</a> </h3> <ul class="nicknames"> <li>MODULARIZE.MOD.PROFILE</li>  <li>MODULARIZE.INT.PROFILE</li> </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> <ul class="definitions"> <li> <article class="definition special-variable" id="VARIABLE PROFILE:*IMPLEMENTATION*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20PROFILE%3A%2AIMPLEMENTATION%2A">*IMPLEMENTATION*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L85">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition resource-type" id="RESOURCE-TYPE PROFILE:PAGE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">RESOURCE-TYPE</span> <h4 class="name"> <a href="#RESOURCE-TYPE%20PROFILE%3APAGE">PAGE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/resource.lisp#L11">Source</a>  </header> <div class="docstring"><pre>Returns an internal URI that points to the requested page.

The following values are returned:
1. URI
2. QUERY-ALIST
3. FRAGMENT

The QUERY-ALIST and FRAGMENT can be used as arguments to URI-TO-URL.

By default a page with the name corresponding to the symbol
of the given name in the module's package is used if available.

However, a module or interface may special-case certain page
names to provide a specified name to point to a page of
particular interest.</pre></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK PROFILE:IMPLEMENTED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20PROFILE%3AIMPLEMENTED">IMPLEMENTED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#145:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK PROFILE:UNIMPLEMENTED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20PROFILE%3AUNIMPLEMENTED">UNIMPLEMENTED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#33:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION PROFILE:ADD-FIELD"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20PROFILE%3AADD-FIELD">ADD-FIELD</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">TYPE</li>    <li class="argument">DEFAULT</li>    <li class="argument">EDITABLE</li>  </ul>  </header> <div class="docstring"><pre>Adds a custom profile field that is visible on the user's profile.

These fields can be used to store public information such
as counters, stats, birthday, bio, etc.

If EDITABLE is non-NIL, the user is allowed to change the
field themselves.

TYPE can be one of the following:
  text textarea password email url time date datetime-local
  month week color number range checkbox radio file tel

The type is mostly useful for the display presentation to
the user. The actual lisp data type used to store the field
is a string.

Note that this only stores the intended interpretation of a
field, not the field itself.

See <a href="#FUNCTION%20PROFILE%3AFIELDS" class="xref">PROFILE:FIELDS</a>
See <a href="#FUNCTION%20PROFILE%3AREMOVE-FIELD" class="xref">PROFILE:REMOVE-FIELD</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION PROFILE:AVATAR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20PROFILE%3AAVATAR">AVATAR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">USER</li>    <li class="argument">SIZE</li>  </ul>  </header> <div class="docstring"><pre>Returns a full URL to an avatar image for the user.

The size of the image should approximate the one passed
as an argument, in pixels. It must however not be exact.
You have to take care to scale the image to the appropriate
size on the client regardless. The size specified here is
only useful to optimise the image size for transfer speed.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION PROFILE:FIELDS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20PROFILE%3AFIELDS">FIELDS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>Returns a list of defined fields.

Each field is an alist with the following keys defined:
 :NAME :TYPE :DEFAULT :EDITABLE

The actual value of the fields can be accessed through the
USER:FIELD accessor.

See <a href="#FUNCTION%20PROFILE%3AADD-FIELD" class="xref">PROFILE:ADD-FIELD</a>
See <a href="#FUNCTION%20PROFILE%3AREMOVE-FIELD" class="xref">PROFILE:REMOVE-FIELD</a>
See <a href="#FUNCTION%20USER%3AFIELD" class="xref">USER:FIELD</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION PROFILE:IMPLEMENTATION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20PROFILE%3AIMPLEMENTATION">IMPLEMENTATION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L85">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION PROFILE:(SETF IMPLEMENTATION)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20PROFILE%3A%28SETF%20IMPLEMENTATION%29">(SETF IMPLEMENTATION)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE4</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L85">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION PROFILE:LIST-PANELS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20PROFILE%3ALIST-PANELS">LIST-PANELS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>Returns a list of profile panel names.

See <a href="#FUNCTION%20PROFILE%3AREMOVE-PANEL" class="xref">PROFILE:REMOVE-PANEL</a>
See <a href="#MACRO-FUNCTION%20PROFILE%3ADEFINE-PANEL" class="xref">PROFILE:DEFINE-PANEL</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION PROFILE:NAME"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20PROFILE%3ANAME">NAME</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">USER</li>  </ul>  </header> <div class="docstring"><pre>Returns the &quot;display name&quot; of the user.

The display name is a name that, unlike the username,
can be changed and the user deems preferable over the
username.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION PROFILE:REMOVE-FIELD"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20PROFILE%3AREMOVE-FIELD">REMOVE-FIELD</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>  </ul>  </header> <div class="docstring"><pre>Removes the given field information, if it exists.

See <a href="#FUNCTION%20PROFILE%3AADD-FIELD" class="xref">PROFILE:ADD-FIELD</a>
See <a href="#FUNCTION%20PROFILE%3AFIELDS" class="xref">PROFILE:FIELDS</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION PROFILE:REMOVE-PANEL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20PROFILE%3AREMOVE-PANEL">REMOVE-PANEL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>  </ul>  </header> <div class="docstring"><pre>Removes the panel of the given name.

See <a href="#FUNCTION%20PROFILE%3ALIST-PANELS" class="xref">PROFILE:LIST-PANELS</a>
See <a href="#MACRO-FUNCTION%20PROFILE%3ADEFINE-PANEL" class="xref">PROFILE:DEFINE-PANEL</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION PROFILE:DEFINE-PANEL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20PROFILE%3ADEFINE-PANEL">DEFINE-PANEL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument">OPTIONS</li>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">BODY</li>  </ul>  </header> <div class="docstring"><pre>Defines a new panel to be shown on the user profile.

This is similar to DEFINE-PAGE, except it defines a panel
within the user profile interface. The body code should
return HTML data to be emitted into the interface. Do not
emit root elements such as &lt;HTML&gt; or &lt;BODY&gt;.

The panel definition can be extended through the PROFILE:PANEL
option. By default, the following options are guaranteed to
exist:

  :ACCESS   Will restrict access to it to users that pass
            the permission check. See USER:CHECK.

In order to obtain the internal URI to a profile panel, use
the PAGE resource with the user and panel name as arguments.

See <a href="#FUNCTION%20PROFILE%3ALIST-PANELS" class="xref">PROFILE:LIST-PANELS</a>
See <a href="#FUNCTION%20PROFILE%3AREMOVE-PANEL" class="xref">PROFILE:REMOVE-PANEL</a></pre></div> </article> </li> </ul> </article> </li>  <li> <article class="definition package" id="PACKAGE RATE"> <header> <h3> <a href="#PACKAGE%20RATE">RATE</a> </h3> <ul class="nicknames"> <li>MODULARIZE.MOD.RATE</li>  <li>MODULARIZE.INT.RATE</li> </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> <ul class="definitions"> <li> <article class="definition special-variable" id="VARIABLE RATE:*IMPLEMENTATION*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20RATE%3A%2AIMPLEMENTATION%2A">*IMPLEMENTATION*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L97">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK RATE:IMPLEMENTED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20RATE%3AIMPLEMENTED">IMPLEMENTED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#145:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK RATE:UNIMPLEMENTED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20RATE%3AUNIMPLEMENTED">UNIMPLEMENTED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#33:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RATE:IMPLEMENTATION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RATE%3AIMPLEMENTATION">IMPLEMENTATION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L97">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RATE:(SETF IMPLEMENTATION)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RATE%3A%28SETF%20IMPLEMENTATION%29">(SETF IMPLEMENTATION)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE4</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L97">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RATE:LEFT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RATE%3ALEFT">LEFT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">RATE</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">IP</li>  </ul>  </header> <div class="docstring"><pre>Returns two values, the number of attempts left, and the number of seconds left until the timeout is over.

The user is rate limited if the number of attempts left
is zero.</pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RATE:DEFINE-LIMIT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RATE%3ADEFINE-LIMIT">DEFINE-LIMIT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <ul class="arguments"> <li class="argument">TIME-LEFT</li>  <li class="argument lambda-list-keyword">&amp;KEY</li>  <li class="argument">TIMEOUT</li>  <li class="argument">LIMIT</li> </ul>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">ON-LIMIT-EXCEEDED</li>  </ul>  </header> <div class="docstring"><pre>Define the behaviour for a rate limitation.

TIME-LEFT will be bound to the number of seconds left
until the timeout is lifted. The body is the code that
will be evaluated when the rate limit was hit. It
should probably display an error page and perhaps
record the infraction.

TIMEOUT should be the interval of rate limiting. LIMIT
is the number of attempts that can be made within the
TIMEOUT. More straight-forwardly put: A timeout of 30
and limit of 3 means a user can make 3 attempts
within 30 seconds. If he tries to make more, he is
blocked until the time since the last attempt has
reached TIMEOUT seconds.

See <a href="#FUNCTION%20RATE%3ALEFT" class="xref">RATE:LEFT</a>
See <a href="#MACRO-FUNCTION%20RATE%3AWITH-LIMITATION" class="xref">RATE:WITH-LIMITATION</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RATE:WITH-LIMITATION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RATE%3AWITH-LIMITATION">WITH-LIMITATION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <ul class="arguments"> <li class="argument">LIMIT</li> </ul>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">BODY</li>  </ul>  </header> <div class="docstring"><pre>Evaluates the body within a rate limited environment.

The limit must be defined beforehand.

The rules defined by the named limit are applied. If
the user exceeds the allowed number of attempts and is
within rate limitation, the body is not evaluated.

See <a href="#FUNCTION%20RATE%3ALEFT" class="xref">RATE:LEFT</a>
See <a href="#MACRO-FUNCTION%20RATE%3ADEFINE-LIMIT" class="xref">RATE:DEFINE-LIMIT</a></pre></div> </article> </li> </ul> </article> </li>  <li> <article class="definition package" id="PACKAGE SERVER"> <header> <h3> <a href="#PACKAGE%20SERVER">SERVER</a> </h3> <ul class="nicknames"> <li>MODULARIZE.MOD.SERVER</li>  <li>MODULARIZE.INT.SERVER</li> </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> <ul class="definitions"> <li> <article class="definition special-variable" id="VARIABLE SERVER:*IMPLEMENTATION*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20SERVER%3A%2AIMPLEMENTATION%2A">*IMPLEMENTATION*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L102">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK SERVER:IMPLEMENTED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20SERVER%3AIMPLEMENTED">IMPLEMENTED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#145:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK SERVER:STARTED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20SERVER%3ASTARTED">STARTED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>  </ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#145:0">Source</a>  </header> <div class="docstring"><pre>This hook is triggered right after the server has been started.

Note that this is a sticky hook and will remain active
until SERVER:STOPPED is triggered.</pre></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK SERVER:STOPPED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20SERVER%3ASTOPPED">STOPPED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>  </ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#33:0">Source</a>  </header> <div class="docstring"><pre>This hook is triggered right after the server has been stopped.

Note that this causes the SERVER:STARTED hook to become
unstickied.</pre></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK SERVER:UNIMPLEMENTED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20SERVER%3AUNIMPLEMENTED">UNIMPLEMENTED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#33:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION SERVER:IMPLEMENTATION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20SERVER%3AIMPLEMENTATION">IMPLEMENTATION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L102">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION SERVER:(SETF IMPLEMENTATION)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20SERVER%3A%28SETF%20IMPLEMENTATION%29">(SETF IMPLEMENTATION)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE4</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L102">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION SERVER:LISTENERS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20SERVER%3ALISTENERS">LISTENERS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>Returns a list of active listener instances.

See <a href="#FUNCTION%20SERVER%3ASTART" class="xref">SERVER:START</a>
See <a href="#FUNCTION%20SERVER%3ASTOP" class="xref">SERVER:STOP</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION SERVER:START"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20SERVER%3ASTART">START</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>  </ul>  </header> <div class="docstring"><pre>Starts a listener server.

The name must be a keyword.

Note that the implementation must include additional
keyword arguments that specify the actual instance
behaviour such as the port, address, and so forth. However,
in order to also allow exotic servers such as pipe-based
ones, no such arguments are specified.

See the documentation of your implementation of choice.

If a server that is similar to the requested one (by name
or the provided options), is already started, an error is
signalled.

On successful start, the SERVER:STARTED hook is triggered.
On unsuccessful start, an error is signalled.

The server implementation must take care to invoke REQUEST
with the proper arguments on an incoming HTTP request, and
to send the data contained in the returned response object
back.

See <a href="#FUNCTION%20SERVER%3ASTOP" class="xref">SERVER:STOP</a>
See <a href="#FUNCTION%20SERVER%3ALISTENERS" class="xref">SERVER:LISTENERS</a>
See <a href="#FUNCTION%20RADIANCE-CORE%3AREQUEST" class="xref">REQUEST</a>
See <a href="#CLASS%20RADIANCE-CORE%3ARESPONSE" class="xref">RESPONSE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION SERVER:STOP"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20SERVER%3ASTOP">STOP</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>  </ul>  </header> <div class="docstring"><pre>Stops the listener server on the given PORT.

The name must be a keyword.

If no listener with the requested name is found, an error
may be signalled.

On successful stop, the SERVER:STOPPED hook is triggered.
On unsuccessful stop, an error is signalled.

See <a href="#FUNCTION%20SERVER%3ASTART" class="xref">SERVER:START</a>
See <a href="#FUNCTION%20SERVER%3ALISTENERS" class="xref">SERVER:LISTENERS</a></pre></div> </article> </li> </ul> </article> </li>  <li> <article class="definition package" id="PACKAGE SESSION"> <header> <h3> <a href="#PACKAGE%20SESSION">SESSION</a> </h3> <ul class="nicknames"> <li>MODULARIZE.MOD.SESSION</li>  <li>MODULARIZE.INT.SESSION</li> </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> <ul class="definitions"> <li> <article class="definition special-variable" id="VARIABLE SESSION:*DEFAULT-TIMEOUT*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20SESSION%3A%2ADEFAULT-TIMEOUT%2A">*DEFAULT-TIMEOUT*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>The default number of seconds a session can stay live for without being used.

See <a href="#FUNCTION%20SESSION%3ATIMEOUT" class="xref">SESSION:TIMEOUT</a></pre></div> </article> </li>  <li> <article class="definition special-variable" id="VARIABLE SESSION:*IMPLEMENTATION*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20SESSION%3A%2AIMPLEMENTATION%2A">*IMPLEMENTATION*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L108">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition class" id="CLASS SESSION:SESSION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20SESSION%3ASESSION">SESSION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>The session object that encapsulates the connection a particular client has to the system.

A session uniquely identifies a &quot;client&quot; that connects to the
server. The means by which clients are distinguished from each-
other and the means by which associated sessions are tracked are
implementation-dependant.

A session is &quot;active&quot; for a certain period of time. This timeout
is reset every time a request is made to the server by the client
that is tied to the session. Once the timeout is reached, the
session object is no longer considered active and may be removed
entirely at any time.

Sessions must be able to store arbitrary fields that can be used
to store data associated with the session. Each session also has
a globally unique ID string that can be used to coerce session
objects to storage.

See <a href="#FUNCTION%20SESSION%3A%3D" class="xref">SESSION:=</a>
See <a href="#FUNCTION%20SESSION%3AGET" class="xref">SESSION:GET</a>
See <a href="#FUNCTION%20SESSION%3ALIST" class="xref">SESSION:LIST</a>
See <a href="#FUNCTION%20SESSION%3AID" class="xref">SESSION:ID</a>
See <a href="#FUNCTION%20SESSION%3AFIELD" class="xref">SESSION:FIELD</a>
See <a href="#FUNCTION%20SESSION%3ATIMEOUT" class="xref">SESSION:TIMEOUT</a>
See <a href="#FUNCTION%20SESSION%3AEND" class="xref">SESSION:END</a>
See <a href="#FUNCTION%20SESSION%3AACTIVE-P" class="xref">SESSION:ACTIVE-P</a></pre></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK SESSION:CREATE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20SESSION%3ACREATE">CREATE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">SESSION</li>  </ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#33:0">Source</a>  </header> <div class="docstring"><pre>This hook is triggered when a new session object is started.

The session object is passed as an argument.</pre></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK SESSION:IMPLEMENTED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20SESSION%3AIMPLEMENTED">IMPLEMENTED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#145:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK SESSION:UNIMPLEMENTED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20SESSION%3AUNIMPLEMENTED">UNIMPLEMENTED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#33:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION SESSION:="> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20SESSION%3A%3D">=</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">SESSION-A</li>    <li class="argument">SESSION-B</li>  </ul>  </header> <div class="docstring"><pre>Compares the two session objects and returns true if they represent the same session identity.

See <a href="#CLASS%20SESSION%3ASESSION" class="xref">SESSION:SESSION</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION SESSION:ACTIVE-P"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20SESSION%3AACTIVE-P">ACTIVE-P</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">SESSION</li>  </ul>  </header> <div class="docstring"><pre>Returns whether the session is currently active or not.

An inactive session will no longer be tied to any future
client requests and may be removed at any time.

See <a href="#CLASS%20SESSION%3ASESSION" class="xref">SESSION:SESSION</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION SESSION:END"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20SESSION%3AEND">END</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">SESSION</li>  </ul>  </header> <div class="docstring"><pre>Ends the session immediately, making it inactive.

See <a href="#CLASS%20SESSION%3ASESSION" class="xref">SESSION:SESSION</a>
See <a href="#FUNCTION%20SESSION%3ASTART" class="xref">SESSION:START</a>
See <a href="#FUNCTION%20SESSION%3AACTIVE-P" class="xref">SESSION:ACTIVE-P</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION SESSION:FIELD"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20SESSION%3AFIELD">FIELD</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">SESSION/FIELD</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">FIELD</li>  </ul>  </header> <div class="docstring"><pre>Accessor to an arbitrary data storage field for a session object.

If no SESSION-ID is given, the session associated with the
current client is used.

The keys must be objects comparable under EQL.

See <a href="#CLASS%20SESSION%3ASESSION" class="xref">SESSION:SESSION</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION SESSION:(SETF FIELD)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20SESSION%3A%28SETF%20FIELD%29">(SETF FIELD)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE</li>    <li class="argument">SESSION/FIELD</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">FIELD</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION SESSION:GET"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20SESSION%3AGET">GET</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">SESSION-ID</li>  </ul>  </header> <div class="docstring"><pre>Retrieves the current session, or a particular one.

If no SESSION-ID is given, the session associated with the
current client is returned, if any. The SESSION-ID must be
a string that is STRING= to one previously obtained by a call
to SESSION:ID.

See <a href="#CLASS%20SESSION%3ASESSION" class="xref">SESSION:SESSION</a>
See <a href="#FUNCTION%20SESSION%3AID" class="xref">SESSION:ID</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION SESSION:ID"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20SESSION%3AID">ID</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">SESSION</li>  </ul>  </header> <div class="docstring"><pre>Returns the globally unique ID of the session as a string.

If no SESSION-ID is given, the session associated with the
current client is used.

The ID must be unique in such a way that no two sessions that are
known to the implementation at any time may have the same ID.

See <a href="#CLASS%20SESSION%3ASESSION" class="xref">SESSION:SESSION</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION SESSION:IMPLEMENTATION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20SESSION%3AIMPLEMENTATION">IMPLEMENTATION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L108">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION SESSION:(SETF IMPLEMENTATION)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20SESSION%3A%28SETF%20IMPLEMENTATION%29">(SETF IMPLEMENTATION)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE4</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L108">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION SESSION:LIST"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20SESSION%3ALIST">LIST</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>Returns a fresh list of all known session objects.

The sessions may not all be active.

Invoking this function may be expensive.

See <a href="#CLASS%20SESSION%3ASESSION" class="xref">SESSION:SESSION</a>
See <a href="#FUNCTION%20SESSION%3AACTIVE-P" class="xref">SESSION:ACTIVE-P</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION SESSION:START"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20SESSION%3ASTART">START</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>Starts a new session in the current request context and returns it.

If the request already has a session associated with it, it is
replaced.

Once a session has been started, the client must receive
the same session on future requests to the server. How this
client tracking is achieved is implementation-dependant.

See <a href="#CLASS%20SESSION%3ASESSION" class="xref">SESSION:SESSION</a>
See <a href="#FUNCTION%20SESSION%3AGET" class="xref">SESSION:GET</a>
See <a href="#FUNCTION%20SESSION%3AEND" class="xref">SESSION:END</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION SESSION:TIMEOUT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20SESSION%3ATIMEOUT">TIMEOUT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">SESSION</li>  </ul>  </header> <div class="docstring"><pre>Accessor to the timeout, in seconds, of the session object.

If no SESSION-ID is given, the session associated with the
current client is used.

See <a href="#CLASS%20SESSION%3ASESSION" class="xref">SESSION:SESSION</a>
See <a href="#FUNCTION%20SESSION%3AACTIVE-P" class="xref">SESSION:ACTIVE-P</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION SESSION:(SETF TIMEOUT)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20SESSION%3A%28SETF%20TIMEOUT%29">(SETF TIMEOUT)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">SECONDS</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">SESSION</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li> </ul> </article> </li>  <li> <article class="definition package" id="PACKAGE USER"> <header> <h3> <a href="#PACKAGE%20USER">USER</a> </h3> <ul class="nicknames"> <li>MODULARIZE.MOD.USER</li>  <li>MODULARIZE.INT.USER</li> </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> <ul class="definitions"> <li> <article class="definition special-variable" id="VARIABLE USER:*IMPLEMENTATION*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20USER%3A%2AIMPLEMENTATION%2A">*IMPLEMENTATION*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L124">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition class" id="CLASS USER:USER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20USER%3AUSER">USER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>Container for a user.

A user is an object that represents a certain person with
access to the system. Each user has a uniquely identifying
username string of 1-32 case-insensitive characters of the
following range:

  &quot;abcdefghijklmnopqrstuvwxyz0123456789_-.&quot;

Each user object can store arbitrary information in fields.

A user has a set of permissions that describe which
protected resources the user should be granted access to.
These permissions are laid out in the form of trees,
where each permission describes a certain path down a
tree. For example, the following permission

  foo.bar

would grant access to the permissions foo.bar, foo.bar.baz
and so forth, but not to foo or foo.bam . Permissions can
be denoted by either dot-delimited strings, or lists.

Note that the user system may need to be readied up first
before it can be reliably used. Attempting to perform any
user operations before the USER:READY hook has been
triggered or after the USER:UNREADY hook has been triggered
will result in undefined behaviour.

A user object is not required to sync with the backend, and
in fact does not need to be identical according to EQ to
another user object for the same user. It is thus not a
good idea to retain and cache user objects, as the user's
attributes might change asynchronously, causing a previous
instance to become outdated.

See <a href="#MACRO-FUNCTION%20RADIANCE-CORE%3APERM" class="xref">PERM</a>
See <a href="#FUNCTION%20USER%3A%3D" class="xref">USER:=</a>
See <a href="#FUNCTION%20USER%3ALIST" class="xref">USER:LIST</a>
See <a href="#FUNCTION%20USER%3AGET" class="xref">USER:GET</a>
See <a href="#FUNCTION%20USER%3AID" class="xref">USER:ID</a>
See <a href="#FUNCTION%20USER%3AUSERNAME" class="xref">USER:USERNAME</a>
See <a href="#FUNCTION%20USER%3AFIELDS" class="xref">USER:FIELDS</a>
See <a href="#FUNCTION%20USER%3AFIELD" class="xref">USER:FIELD</a>
See <a href="#FUNCTION%20USER%3AREMOVE" class="xref">USER:REMOVE</a>
See <a href="#FUNCTION%20USER%3ACHECK" class="xref">USER:CHECK</a>
See <a href="#FUNCTION%20USER%3AGRANT" class="xref">USER:GRANT</a>
See <a href="#FUNCTION%20USER%3AREVOKE" class="xref">USER:REVOKE</a></pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION USER:CONDITION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20USER%3ACONDITION">CONDITION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>Base condition type for conditions related to the user interface.</pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION USER:NOT-FOUND"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20USER%3ANOT-FOUND">NOT-FOUND</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>Condition signalled when an unknown user was requested.

See <a href="#CONDITION%20USER%3ACONDITION" class="xref">USER:CONDITION</a>
See <a href="#FUNCTION%20USER%3AGET" class="xref">USER:GET</a></pre></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK USER:CREATE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20USER%3ACREATE">CREATE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">USER</li>  </ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#33:0">Source</a>  </header> <div class="docstring"><pre>This hook is triggered when a new user is created.

The user object is passed as an argument.</pre></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK USER:IMPLEMENTED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20USER%3AIMPLEMENTED">IMPLEMENTED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#145:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK USER:READY"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20USER%3AREADY">READY</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#145:0">Source</a>  </header> <div class="docstring"><pre>This hook is called when the user system has become ready and users can be accessed.

You should refrain from performing user operations while
this hook is untriggered.

Note that this is a sticky hook and will remain active
until USER:UNREADY is triggered.</pre></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK USER:REMOVE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20USER%3AREMOVE">REMOVE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">USER</li>  </ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#33:0">Source</a>  </header> <div class="docstring"><pre>This hook is triggered when an existing user is removed.

The user object is passed as an argument.</pre></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK USER:UNIMPLEMENTED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20USER%3AUNIMPLEMENTED">UNIMPLEMENTED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#33:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition hook callable" id="HOOK USER:UNREADY"> <header> <span class="visibility">EXTERNAL</span> <span class="type">HOOK</span> <h4 class="name"> <a href="#HOOK%20USER%3AUNREADY">UNREADY</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///media/DATA/Projects/cl/modularize-hooks/hooks.lisp#33:0">Source</a>  </header> <div class="docstring"><pre>This hook is called when the user system is no longer ready and users can no longer be accessed.

Note that this causes the USER:READY hook to become
unstickied.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION USER:="> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20USER%3A%3D">=</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">USER-A</li>    <li class="argument">USER-B</li>  </ul>  </header> <div class="docstring"><pre>Compares two user object to see if they denote the same user.

See <a href="#CLASS%20USER%3AUSER" class="xref">USER:USER</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION USER:ADD-DEFAULT-PERMISSIONS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20USER%3AADD-DEFAULT-PERMISSIONS">ADD-DEFAULT-PERMISSIONS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">BRANCH</li>  </ul>  </header> <div class="docstring"><pre>Adds the given branches as default permissions to be granted to newly created users.

Note that this will not retroactively grant permissions and
only comes into effect for users created after a call to
this has been run.

See <a href="#CLASS%20USER%3AUSER" class="xref">USER:USER</a>
See <a href="#FUNCTION%20USER%3AGRANT" class="xref">USER:GRANT</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION USER:CHECK"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20USER%3ACHECK">CHECK</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">USER</li>    <li class="argument">BRANCH</li>  </ul>  </header> <div class="docstring"><pre>Checks whether the user is permitted access to the given permission branch.

See USER:USER for a description of permission branches.

Note that a permission is granted as long as there is
a granted permission on the user that is /higher/ than
that which is checked against. Eg, if the user has the
permission of foo granted, then checking whether any of
foo.bar, foo.bar.baz, etc. are granted will yield true.

See <a href="#CLASS%20USER%3AUSER" class="xref">USER:USER</a>
See <a href="#FUNCTION%20USER%3AGRANT" class="xref">USER:GRANT</a>
See <a href="#FUNCTION%20USER%3AREVOKE" class="xref">USER:REVOKE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION USER:FIELD"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20USER%3AFIELD">FIELD</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">FIELD</li>    <li class="argument">USER</li>  </ul>  </header> <div class="docstring"><pre>Accessor to a field on the user.

Keys must be strings of a maximum length of 64.
Values must be strings, but can be of arbitrary length.

See <a href="#CLASS%20USER%3AUSER" class="xref">USER:USER</a>
See <a href="#FUNCTION%20USER%3AREMOVE-FIELD" class="xref">USER:REMOVE-FIELD</a>
See <a href="#FUNCTION%20USER%3AFIELDS" class="xref">USER:FIELDS</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION USER:(SETF FIELD)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20USER%3A%28SETF%20FIELD%29">(SETF FIELD)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE</li>    <li class="argument">FIELD</li>    <li class="argument">USER</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION USER:FIELDS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20USER%3AFIELDS">FIELDS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">USER</li>  </ul>  </header> <div class="docstring"><pre>Returns an alist of field names to values of the user.

See <a href="#CLASS%20USER%3AUSER" class="xref">USER:USER</a>
See <a href="#FUNCTION%20USER%3AFIELD" class="xref">USER:FIELD</a>
See <a href="#FUNCTION%20USER%3AREMOVE-FIELD" class="xref">USER:REMOVE-FIELD</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION USER:GET"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20USER%3AGET">GET</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">USERNAME/ID</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">IF-DOES-NOT-EXIST</li>  </ul>  </header> <div class="docstring"><pre>Returns the requested user object.

The user can be referenced by either a username as a
string, or a user ID as an integer.

IF-DOES-NOT-EXIST may be one of the following values,
which decides on the behaviour in the case where the
requested user is not known.

  :CREATE     The user is created.
  :ERROR      An error of type USER:NOT-FOUND is signalled.
  :ANONYMOUS  The anonymous standard user is returned.
  NIL         NIL is returned.

The :CREATE option is only valid if the given identifier
is a string denoting a username. If :CREATE is used with
a user ID, an error is signalled.

When a new user is created, the USER:CREATE hook is
triggered.

The user named &quot;anonymous&quot; must always exist and is
automatically created by the implementation. It is
intended to be used for unauthenticated users.

Note that fetching users while the user system is not
yet ready will result in undefined behaviour.

See <a href="#HOOK%20USER%3AREADY" class="xref">USER:READY</a>
See <a href="#HOOK%20USER%3AUNREADY" class="xref">USER:UNREADY</a>
See <a href="#CLASS%20USER%3AUSER" class="xref">USER:USER</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION USER:GRANT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20USER%3AGRANT">GRANT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">USER</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">BRANCHES</li>  </ul>  </header> <div class="docstring"><pre>Grants the user access to the given permission branches.

See <a href="#CLASS%20USER%3AUSER" class="xref">USER:USER</a>
See <a href="#FUNCTION%20USER%3ACHECK" class="xref">USER:CHECK</a>
See <a href="#FUNCTION%20USER%3AREVOKE" class="xref">USER:REVOKE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION USER:ID"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20USER%3AID">ID</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">USER</li>  </ul>  </header> <div class="docstring"><pre>Returns the integer ID of the user object.

This is useful for references to user accounts from
database records, as storing the full username is both
wasteful and inefficient for searching.

See <a href="#CLASS%20USER%3AUSER" class="xref">USER:USER</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION USER:IMPLEMENTATION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20USER%3AIMPLEMENTATION">IMPLEMENTATION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L124">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION USER:(SETF IMPLEMENTATION)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20USER%3A%28SETF%20IMPLEMENTATION%29">(SETF IMPLEMENTATION)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE4</li>  </ul>  <a class="source-link" href="https://github.com/Shirakumo/radiance/blob/master/standard-interfaces.lisp#L124">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION USER:LIST"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20USER%3ALIST">LIST</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>Returns a fresh list of all known user objects.

This may be a very costly operation.

See <a href="#CLASS%20USER%3AUSER" class="xref">USER:USER</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION USER:REMOVE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20USER%3AREMOVE">REMOVE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">USER</li>  </ul>  </header> <div class="docstring"><pre>Removes the given user.

This deletes all associated data of the user.

On successful deletion, the USER:REMOVE hook is triggered.

See <a href="#CLASS%20USER%3AUSER" class="xref">USER:USER</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION USER:REMOVE-FIELD"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20USER%3AREMOVE-FIELD">REMOVE-FIELD</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">FIELD</li>    <li class="argument">USER</li>  </ul>  </header> <div class="docstring"><pre>Removes the requested field from the user.

See <a href="#CLASS%20USER%3AUSER" class="xref">USER:USER</a>
See <a href="#FUNCTION%20USER%3AFIELD" class="xref">USER:FIELD</a>
See <a href="#FUNCTION%20USER%3AFIELDS" class="xref">USER:FIELDS</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION USER:REVOKE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20USER%3AREVOKE">REVOKE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">USER</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">BRANCHES</li>  </ul>  </header> <div class="docstring"><pre>Revokes access from the given permission branches.

See <a href="#CLASS%20USER%3AUSER" class="xref">USER:USER</a>
See <a href="#FUNCTION%20USER%3ACHECK" class="xref">USER:CHECK</a>
See <a href="#FUNCTION%20USER%3AGRANT" class="xref">USER:GRANT</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION USER:USERNAME"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20USER%3AUSERNAME">USERNAME</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">USER</li>  </ul>  </header> <div class="docstring"><pre>Returns the username of the requested user.

See <a href="#CLASS%20USER%3AUSER" class="xref">USER:USER</a></pre></div> </article> </li> </ul> </article> </li> </ul> </section> </article> <script>window.addEventListener("DOMContentLoaded", function(){
    var unmarkElement = function(el){
        if(el.tagName === "mark" || el.tagName === "MARK"){
            [].forEach.call(el.childNodes, function(child){
                el.parentNode.insertBefore(child, el);
            });
            el.parentNode.removeChild(el);
        }else if(el.parentNode.tagName === "mark"){
            return unmarkElement(el.parentNode);
        }
        return null;
    }

    var unmarkAll = function(root){
        root = root || document;
        [].forEach.call(root.querySelectorAll("mark"), unmarkElement);
    }
    
    var markElement = function(el){
        if(el.parentNode.tagName === "mark" || el.parentNode.tagName === "MARK"){
            return el.parentNode;
        } else {
            unmarkAll();
            var marked = document.createElement("mark");
            el.parentNode.insertBefore(marked, el);
            marked.appendChild(el);
            return marked;
        }
    }

    var markFragmented = function(){
        if(window.location.hash){
            var el = document.getElementById(decodeURIComponent(window.location.hash.substr(1)));
            if(el) markElement(el);
        }
    }

    var registerXrefLink = function(link){
        var el = document.getElementById(decodeURIComponent(link.getAttribute("href").substr(1)));
        if(el){
            link.addEventListener("click", function(){
                markElement(el);
            });
        }
    }

    var registerXrefLinks = function(root){
        root = root || document;
        [].forEach.call(root.querySelectorAll("a.xref"), registerXrefLink);
    }

    markFragmented();
    registerXrefLinks();
}); </script> </body> </html> 